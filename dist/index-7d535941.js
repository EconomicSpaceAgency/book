import{c as Q,a as Wr,g as R0}from"./db/supabase-bcc39e3c.js";import{b as A0,i as T0,d as V}from"./provider-jsonrpc-62e4dd44.js";import{co as Tc,cp as Mt,cc as kc,cq as ws,cr as k0}from"./util/tierSubmitSelection-1522f48f.js";function M0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Mc={},ii={},Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.walletLogo=void 0;const N0=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Es.walletLogo=N0;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.LINK_API_URL=void 0;Ss.LINK_API_URL="https://www.walletlink.org";var xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.ScopedLocalStorage=void 0;class O0{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}xs.ScopedLocalStorage=O0;var bn={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});const L0=Tc;function Hu(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function B0(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let P0=class extends L0.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Hu(s,this,r);else{const o=s.length,a=B0(s);for(let c=0;c<o;c+=1)Hu(a[c],this,r)}return!0}};Hr.default=P0;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.EVENTS=void 0;kn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var hi={},Nc={},yr={},$0=si;si.default=si;si.stable=ph;si.stableStringify=ph;var os="[...]",hh="[Circular]",$r=[],Nr=[];function dh(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function si(t,e,r,n){typeof n>"u"&&(n=dh()),tc(t,"",0,[],void 0,0,n);var i;try{Nr.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,bh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;$r.length!==0;){var s=$r.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function cn(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),$r.push([n,r,e,i])):Nr.push([e,r,t]):(n[r]=t,$r.push([n,r,e]))}function tc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){cn(hh,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){cn(os,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){cn(os,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)tc(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var l=c[a];tc(t[l],l,a,n,t,s,o)}}n.pop()}}function D0(t,e){return t<e?-1:t>e?1:0}function ph(t,e,r,n){typeof n>"u"&&(n=dh());var i=rc(t,"",0,[],void 0,0,n)||t,s;try{Nr.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,bh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;$r.length!==0;){var o=$r.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function rc(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){cn(hh,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){cn(os,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){cn(os,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)rc(t[a],a,a,n,t,s,o);else{var c={},l=Object.keys(t).sort(D0);for(a=0;a<l.length;a++){var h=l[a];rc(t[h],h,a,n,t,s,o),c[h]=t[h]}if(typeof i<"u")$r.push([i,e,t]),i[e]=c;else return c}n.pop()}}function bh(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Nr.length>0)for(var n=0;n<Nr.length;n++){var i=Nr[n];if(i[1]===e&&i[0]===r){r=i[2],Nr.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(yr,"__esModule",{value:!0});yr.EthereumProviderError=yr.EthereumRpcError=void 0;const F0=$0;class gh extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return F0.default(this.serialize(),W0,2)}}yr.EthereumRpcError=gh;class j0 extends gh{constructor(e,r,n){if(!U0(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}yr.EthereumProviderError=j0;function U0(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function W0(t,e){if(e!=="[Circular]")return e}var Oc={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.errorValues=vr.errorCodes=void 0;vr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};vr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=vr,r=yr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(b,v=i){if(Number.isInteger(b)){const w=b.toString();if(d(e.errorValues,w))return e.errorValues[w].message;if(l(b))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return v}t.getMessageFromCode=o;function a(b){if(!Number.isInteger(b))return!1;const v=b.toString();return!!(e.errorValues[v]||l(b))}t.isValidCode=a;function c(b,{fallbackError:v=s,shouldIncludeStack:w=!1}={}){var C,T;if(!v||!Number.isInteger(v.code)||typeof v.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(b instanceof r.EthereumRpcError)return b.serialize();const g={};if(b&&typeof b=="object"&&!Array.isArray(b)&&d(b,"code")&&a(b.code)){const x=b;g.code=x.code,x.message&&typeof x.message=="string"?(g.message=x.message,d(x,"data")&&(g.data=x.data)):(g.message=o(g.code),g.data={originalError:h(b)})}else{g.code=v.code;const x=(C=b)===null||C===void 0?void 0:C.message;g.message=x&&typeof x=="string"?x:v.message,g.data={originalError:h(b)}}const E=(T=b)===null||T===void 0?void 0:T.stack;return w&&b&&E&&typeof E=="string"&&(g.stack=E),g}t.serializeError=c;function l(b){return b>=-32099&&b<=-32e3}function h(b){return b&&typeof b=="object"&&!Array.isArray(b)?Object.assign({},b):b}function d(b,v){return Object.prototype.hasOwnProperty.call(b,v)}})(Oc);var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.ethErrors=void 0;const Lc=yr,yh=Oc,Ke=vr;Cs.ethErrors={rpc:{parse:t=>pt(Ke.errorCodes.rpc.parse,t),invalidRequest:t=>pt(Ke.errorCodes.rpc.invalidRequest,t),invalidParams:t=>pt(Ke.errorCodes.rpc.invalidParams,t),methodNotFound:t=>pt(Ke.errorCodes.rpc.methodNotFound,t),internal:t=>pt(Ke.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return pt(e,t)},invalidInput:t=>pt(Ke.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>pt(Ke.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>pt(Ke.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>pt(Ke.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>pt(Ke.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>pt(Ke.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Hn(Ke.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Hn(Ke.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Hn(Ke.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Hn(Ke.errorCodes.provider.disconnected,t),chainDisconnected:t=>Hn(Ke.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Lc.EthereumProviderError(e,r,n)}}};function pt(t,e){const[r,n]=vh(e);return new Lc.EthereumRpcError(t,r||yh.getMessageFromCode(t),n)}function Hn(t,e){const[r,n]=vh(e);return new Lc.EthereumProviderError(t,r||yh.getMessageFromCode(t),n)}function vh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=yr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Oc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Cs;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=vr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Nc);var Te={},Is={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Is);Object.defineProperty(Te,"__esModule",{value:!0});Te.EthereumAddressFromSignedMessageResponse=Te.SubmitEthereumTransactionResponse=Te.SignEthereumTransactionResponse=Te.SignEthereumMessageResponse=Te.isRequestEthereumAccountsResponse=Te.SelectProviderResponse=Te.WatchAssetReponse=Te.RequestEthereumAccountsResponse=Te.SwitchEthereumChainResponse=Te.AddEthereumChainResponse=Te.isErrorResponse=void 0;const Jt=Is;function H0(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}Te.isErrorResponse=H0;function V0(t){return{method:Jt.Web3Method.addEthereumChain,result:t}}Te.AddEthereumChainResponse=V0;function z0(t){return{method:Jt.Web3Method.switchEthereumChain,result:t}}Te.SwitchEthereumChainResponse=z0;function q0(t){return{method:Jt.Web3Method.requestEthereumAccounts,result:t}}Te.RequestEthereumAccountsResponse=q0;function G0(t){return{method:Jt.Web3Method.watchAsset,result:t}}Te.WatchAssetReponse=G0;function J0(t){return{method:Jt.Web3Method.selectProvider,result:t}}Te.SelectProviderResponse=J0;function Q0(t){return t&&t.method===Jt.Web3Method.requestEthereumAccounts}Te.isRequestEthereumAccountsResponse=Q0;function Z0(t){return{method:Jt.Web3Method.signEthereumMessage,result:t}}Te.SignEthereumMessageResponse=Z0;function Y0(t){return{method:Jt.Web3Method.signEthereumTransaction,result:t}}Te.SignEthereumTransactionResponse=Y0;function K0(t){return{method:Jt.Web3Method.submitEthereumTransaction,result:t}}Te.SubmitEthereumTransactionResponse=K0;function X0(t){return{method:Jt.Web3Method.ethereumAddressFromSignedMessage,result:t}}Te.EthereumAddressFromSignedMessageResponse=X0;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.LIB_VERSION=void 0;Mn.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=Nc,r=Te,n=Mn;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(h){return h!==void 0?(0,e.getMessageFromCode)(h):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(h="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${h}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(h,d){const b=(0,e.serializeError)(o(h),{shouldIncludeStack:!0}),v=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");v.searchParams.set("version",n.LIB_VERSION),v.searchParams.set("code",b.code.toString());const w=a(b.data,d);return w&&v.searchParams.set("method",w),v.searchParams.set("message",b.message),Object.assign(Object.assign({},b),{docUrl:v.href})}t.serializeError=s;function o(h){return typeof h=="string"?{message:h,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(h)?Object.assign(Object.assign({},h),{message:h.errorMessage,code:h.errorCode,data:{method:h.method,result:h.result}}):h}function a(h,d){var b;const v=(b=h)===null||b===void 0?void 0:b.method;if(v)return v;if(d!==void 0)return typeof d=="string"?d:Array.isArray(d)?d.length>0?d[0].method:void 0:d.method}function c(h){var d;if(typeof h=="number")return h;if(l(h))return(d=h.code)!==null&&d!==void 0?d:h.errorCode}t.getErrorCode=c;function l(h){return typeof h=="object"&&h!==null&&(typeof h.code=="number"||typeof h.errorCode=="number")}})(hi);var Nn={},mh={exports:{}},nc={exports:{}},di={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=A0,r=T0,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const p=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(p,u),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');const u=new Uint8Array(p);return Object.setPrototypeOf(u,a.prototype),u}function a(p,u,f){if(typeof p=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(p)}return c(p,u,f)}a.poolSize=8192;function c(p,u,f){if(typeof p=="string")return b(p,u);if(ArrayBuffer.isView(p))return w(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(Ye(p,ArrayBuffer)||p&&Ye(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ye(p,SharedArrayBuffer)||p&&Ye(p.buffer,SharedArrayBuffer)))return C(p,u,f);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=p.valueOf&&p.valueOf();if(y!=null&&y!==p)return a.from(y,u,f);const S=T(p);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),u,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}a.from=function(p,u,f){return c(p,u,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function h(p,u,f){return l(p),p<=0?o(p):u!==void 0?typeof f=="string"?o(p).fill(u,f):o(p).fill(u):o(p)}a.alloc=function(p,u,f){return h(p,u,f)};function d(p){return l(p),o(p<0?0:g(p)|0)}a.allocUnsafe=function(p){return d(p)},a.allocUnsafeSlow=function(p){return d(p)};function b(p,u){if((typeof u!="string"||u==="")&&(u="utf8"),!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const f=x(p,u)|0;let y=o(f);const S=y.write(p,u);return S!==f&&(y=y.slice(0,S)),y}function v(p){const u=p.length<0?0:g(p.length)|0,f=o(u);for(let y=0;y<u;y+=1)f[y]=p[y]&255;return f}function w(p){if(Ye(p,Uint8Array)){const u=new Uint8Array(p);return C(u.buffer,u.byteOffset,u.byteLength)}return v(p)}function C(p,u,f){if(u<0||p.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<u+(f||0))throw new RangeError('"length" is outside of buffer bounds');let y;return u===void 0&&f===void 0?y=new Uint8Array(p):f===void 0?y=new Uint8Array(p,u):y=new Uint8Array(p,u,f),Object.setPrototypeOf(y,a.prototype),y}function T(p){if(a.isBuffer(p)){const u=g(p.length)|0,f=o(u);return f.length===0||p.copy(f,0,0,u),f}if(p.length!==void 0)return typeof p.length!="number"||Lt(p.length)?o(0):v(p);if(p.type==="Buffer"&&Array.isArray(p.data))return v(p.data)}function g(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function E(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==a.prototype},a.compare=function(u,f){if(Ye(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),Ye(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(u)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===f)return 0;let y=u.length,S=f.length;for(let k=0,N=Math.min(y,S);k<N;++k)if(u[k]!==f[k]){y=u[k],S=f[k];break}return y<S?-1:S<y?1:0},a.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(u,f){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return a.alloc(0);let y;if(f===void 0)for(f=0,y=0;y<u.length;++y)f+=u[y].length;const S=a.allocUnsafe(f);let k=0;for(y=0;y<u.length;++y){let N=u[y];if(Ye(N,Uint8Array))k+N.length>S.length?(a.isBuffer(N)||(N=a.from(N)),N.copy(S,k)):Uint8Array.prototype.set.call(S,N,k);else if(a.isBuffer(N))N.copy(S,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=N.length}return S};function x(p,u){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||Ye(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const f=p.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&f===0)return 0;let S=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return ge(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return ar(p).length;default:if(S)return y?-1:ge(p).length;u=(""+u).toLowerCase(),S=!0}}a.byteLength=x;function M(p,u,f){let y=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,u>>>=0,f<=u))return"";for(p||(p="utf8");;)switch(p){case"hex":return Z(this,u,f);case"utf8":case"utf-8":return $(this,u,f);case"ascii":return G(this,u,f);case"latin1":case"binary":return q(this,u,f);case"base64":return P(this,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,u,f);default:if(y)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),y=!0}}a.prototype._isBuffer=!0;function I(p,u,f){const y=p[u];p[u]=p[f],p[f]=y}a.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<u;f+=2)I(this,f,f+1);return this},a.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<u;f+=4)I(this,f,f+3),I(this,f+1,f+2);return this},a.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<u;f+=8)I(this,f,f+7),I(this,f+1,f+6),I(this,f+2,f+5),I(this,f+3,f+4);return this},a.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?$(this,0,u):M.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(u){if(!a.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:a.compare(this,u)===0},a.prototype.inspect=function(){let u="";const f=t.INSPECT_MAX_BYTES;return u=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(u+=" ... "),"<Buffer "+u+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(u,f,y,S,k){if(Ye(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),!a.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(f===void 0&&(f=0),y===void 0&&(y=u?u.length:0),S===void 0&&(S=0),k===void 0&&(k=this.length),f<0||y>u.length||S<0||k>this.length)throw new RangeError("out of range index");if(S>=k&&f>=y)return 0;if(S>=k)return-1;if(f>=y)return 1;if(f>>>=0,y>>>=0,S>>>=0,k>>>=0,this===u)return 0;let N=k-S,ae=y-f;const Re=Math.min(N,ae),Se=this.slice(S,k),Ae=u.slice(f,y);for(let _e=0;_e<Re;++_e)if(Se[_e]!==Ae[_e]){N=Se[_e],ae=Ae[_e];break}return N<ae?-1:ae<N?1:0};function B(p,u,f,y,S){if(p.length===0)return-1;if(typeof f=="string"?(y=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,Lt(f)&&(f=S?0:p.length-1),f<0&&(f=p.length+f),f>=p.length){if(S)return-1;f=p.length-1}else if(f<0)if(S)f=0;else return-1;if(typeof u=="string"&&(u=a.from(u,y)),a.isBuffer(u))return u.length===0?-1:z(p,u,f,y,S);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(p,u,f):Uint8Array.prototype.lastIndexOf.call(p,u,f):z(p,[u],f,y,S);throw new TypeError("val must be string, number or Buffer")}function z(p,u,f,y,S){let k=1,N=p.length,ae=u.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(p.length<2||u.length<2)return-1;k=2,N/=2,ae/=2,f/=2}function Re(Ae,_e){return k===1?Ae[_e]:Ae.readUInt16BE(_e*k)}let Se;if(S){let Ae=-1;for(Se=f;Se<N;Se++)if(Re(p,Se)===Re(u,Ae===-1?0:Se-Ae)){if(Ae===-1&&(Ae=Se),Se-Ae+1===ae)return Ae*k}else Ae!==-1&&(Se-=Se-Ae),Ae=-1}else for(f+ae>N&&(f=N-ae),Se=f;Se>=0;Se--){let Ae=!0;for(let _e=0;_e<ae;_e++)if(Re(p,Se+_e)!==Re(u,_e)){Ae=!1;break}if(Ae)return Se}return-1}a.prototype.includes=function(u,f,y){return this.indexOf(u,f,y)!==-1},a.prototype.indexOf=function(u,f,y){return B(this,u,f,y,!0)},a.prototype.lastIndexOf=function(u,f,y){return B(this,u,f,y,!1)};function W(p,u,f,y){f=Number(f)||0;const S=p.length-f;y?(y=Number(y),y>S&&(y=S)):y=S;const k=u.length;y>k/2&&(y=k/2);let N;for(N=0;N<y;++N){const ae=parseInt(u.substr(N*2,2),16);if(Lt(ae))return N;p[f+N]=ae}return N}function D(p,u,f,y){return Zt(ge(u,p.length-f),p,f,y)}function X(p,u,f,y){return Zt(xt(u),p,f,y)}function be(p,u,f,y){return Zt(ar(u),p,f,y)}function ne(p,u,f,y){return Zt(Qt(u,p.length-f),p,f,y)}a.prototype.write=function(u,f,y,S){if(f===void 0)S="utf8",y=this.length,f=0;else if(y===void 0&&typeof f=="string")S=f,y=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(y)?(y=y>>>0,S===void 0&&(S="utf8")):(S=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const k=this.length-f;if((y===void 0||y>k)&&(y=k),u.length>0&&(y<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");S||(S="utf8");let N=!1;for(;;)switch(S){case"hex":return W(this,u,f,y);case"utf8":case"utf-8":return D(this,u,f,y);case"ascii":case"latin1":case"binary":return X(this,u,f,y);case"base64":return be(this,u,f,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,u,f,y);default:if(N)throw new TypeError("Unknown encoding: "+S);S=(""+S).toLowerCase(),N=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(p,u,f){return u===0&&f===p.length?e.fromByteArray(p):e.fromByteArray(p.slice(u,f))}function $(p,u,f){f=Math.min(p.length,f);const y=[];let S=u;for(;S<f;){const k=p[S];let N=null,ae=k>239?4:k>223?3:k>191?2:1;if(S+ae<=f){let Re,Se,Ae,_e;switch(ae){case 1:k<128&&(N=k);break;case 2:Re=p[S+1],(Re&192)===128&&(_e=(k&31)<<6|Re&63,_e>127&&(N=_e));break;case 3:Re=p[S+1],Se=p[S+2],(Re&192)===128&&(Se&192)===128&&(_e=(k&15)<<12|(Re&63)<<6|Se&63,_e>2047&&(_e<55296||_e>57343)&&(N=_e));break;case 4:Re=p[S+1],Se=p[S+2],Ae=p[S+3],(Re&192)===128&&(Se&192)===128&&(Ae&192)===128&&(_e=(k&15)<<18|(Re&63)<<12|(Se&63)<<6|Ae&63,_e>65535&&_e<1114112&&(N=_e))}}N===null?(N=65533,ae=1):N>65535&&(N-=65536,y.push(N>>>10&1023|55296),N=56320|N&1023),y.push(N),S+=ae}return H(y)}const U=4096;function H(p){const u=p.length;if(u<=U)return String.fromCharCode.apply(String,p);let f="",y=0;for(;y<u;)f+=String.fromCharCode.apply(String,p.slice(y,y+=U));return f}function G(p,u,f){let y="";f=Math.min(p.length,f);for(let S=u;S<f;++S)y+=String.fromCharCode(p[S]&127);return y}function q(p,u,f){let y="";f=Math.min(p.length,f);for(let S=u;S<f;++S)y+=String.fromCharCode(p[S]);return y}function Z(p,u,f){const y=p.length;(!u||u<0)&&(u=0),(!f||f<0||f>y)&&(f=y);let S="";for(let k=u;k<f;++k)S+=cr[p[k]];return S}function oe(p,u,f){const y=p.slice(u,f);let S="";for(let k=0;k<y.length-1;k+=2)S+=String.fromCharCode(y[k]+y[k+1]*256);return S}a.prototype.slice=function(u,f){const y=this.length;u=~~u,f=f===void 0?y:~~f,u<0?(u+=y,u<0&&(u=0)):u>y&&(u=y),f<0?(f+=y,f<0&&(f=0)):f>y&&(f=y),f<u&&(f=u);const S=this.subarray(u,f);return Object.setPrototypeOf(S,a.prototype),S};function J(p,u,f){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+u>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(u,f,y){u=u>>>0,f=f>>>0,y||J(u,f,this.length);let S=this[u],k=1,N=0;for(;++N<f&&(k*=256);)S+=this[u+N]*k;return S},a.prototype.readUintBE=a.prototype.readUIntBE=function(u,f,y){u=u>>>0,f=f>>>0,y||J(u,f,this.length);let S=this[u+--f],k=1;for(;f>0&&(k*=256);)S+=this[u+--f]*k;return S},a.prototype.readUint8=a.prototype.readUInt8=function(u,f){return u=u>>>0,f||J(u,1,this.length),this[u]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(u,f){return u=u>>>0,f||J(u,2,this.length),this[u]|this[u+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(u,f){return u=u>>>0,f||J(u,2,this.length),this[u]<<8|this[u+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(u,f){return u=u>>>0,f||J(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(u,f){return u=u>>>0,f||J(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},a.prototype.readBigUInt64LE=rt(function(u){u=u>>>0,O(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&j(u,this.length-8);const S=f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,k=this[++u]+this[++u]*2**8+this[++u]*2**16+y*2**24;return BigInt(S)+(BigInt(k)<<BigInt(32))}),a.prototype.readBigUInt64BE=rt(function(u){u=u>>>0,O(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&j(u,this.length-8);const S=f*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],k=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+y;return(BigInt(S)<<BigInt(32))+BigInt(k)}),a.prototype.readIntLE=function(u,f,y){u=u>>>0,f=f>>>0,y||J(u,f,this.length);let S=this[u],k=1,N=0;for(;++N<f&&(k*=256);)S+=this[u+N]*k;return k*=128,S>=k&&(S-=Math.pow(2,8*f)),S},a.prototype.readIntBE=function(u,f,y){u=u>>>0,f=f>>>0,y||J(u,f,this.length);let S=f,k=1,N=this[u+--S];for(;S>0&&(k*=256);)N+=this[u+--S]*k;return k*=128,N>=k&&(N-=Math.pow(2,8*f)),N},a.prototype.readInt8=function(u,f){return u=u>>>0,f||J(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},a.prototype.readInt16LE=function(u,f){u=u>>>0,f||J(u,2,this.length);const y=this[u]|this[u+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(u,f){u=u>>>0,f||J(u,2,this.length);const y=this[u+1]|this[u]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(u,f){return u=u>>>0,f||J(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},a.prototype.readInt32BE=function(u,f){return u=u>>>0,f||J(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},a.prototype.readBigInt64LE=rt(function(u){u=u>>>0,O(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&j(u,this.length-8);const S=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(y<<24);return(BigInt(S)<<BigInt(32))+BigInt(f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),a.prototype.readBigInt64BE=rt(function(u){u=u>>>0,O(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&j(u,this.length-8);const S=(f<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(S)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+y)}),a.prototype.readFloatLE=function(u,f){return u=u>>>0,f||J(u,4,this.length),r.read(this,u,!0,23,4)},a.prototype.readFloatBE=function(u,f){return u=u>>>0,f||J(u,4,this.length),r.read(this,u,!1,23,4)},a.prototype.readDoubleLE=function(u,f){return u=u>>>0,f||J(u,8,this.length),r.read(this,u,!0,52,8)},a.prototype.readDoubleBE=function(u,f){return u=u>>>0,f||J(u,8,this.length),r.read(this,u,!1,52,8)};function re(p,u,f,y,S,k){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>S||u<k)throw new RangeError('"value" argument is out of bounds');if(f+y>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(u,f,y,S){if(u=+u,f=f>>>0,y=y>>>0,!S){const ae=Math.pow(2,8*y)-1;re(this,u,f,y,ae,0)}let k=1,N=0;for(this[f]=u&255;++N<y&&(k*=256);)this[f+N]=u/k&255;return f+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(u,f,y,S){if(u=+u,f=f>>>0,y=y>>>0,!S){const ae=Math.pow(2,8*y)-1;re(this,u,f,y,ae,0)}let k=y-1,N=1;for(this[f+k]=u&255;--k>=0&&(N*=256);)this[f+k]=u/N&255;return f+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(u,f,y){return u=+u,f=f>>>0,y||re(this,u,f,1,255,0),this[f]=u&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(u,f,y){return u=+u,f=f>>>0,y||re(this,u,f,2,65535,0),this[f]=u&255,this[f+1]=u>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(u,f,y){return u=+u,f=f>>>0,y||re(this,u,f,2,65535,0),this[f]=u>>>8,this[f+1]=u&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(u,f,y){return u=+u,f=f>>>0,y||re(this,u,f,4,4294967295,0),this[f+3]=u>>>24,this[f+2]=u>>>16,this[f+1]=u>>>8,this[f]=u&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(u,f,y){return u=+u,f=f>>>0,y||re(this,u,f,4,4294967295,0),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4};function we(p,u,f,y,S){_(u,y,S,p,f,7);let k=Number(u&BigInt(4294967295));p[f++]=k,k=k>>8,p[f++]=k,k=k>>8,p[f++]=k,k=k>>8,p[f++]=k;let N=Number(u>>BigInt(32)&BigInt(4294967295));return p[f++]=N,N=N>>8,p[f++]=N,N=N>>8,p[f++]=N,N=N>>8,p[f++]=N,f}function ve(p,u,f,y,S){_(u,y,S,p,f,7);let k=Number(u&BigInt(4294967295));p[f+7]=k,k=k>>8,p[f+6]=k,k=k>>8,p[f+5]=k,k=k>>8,p[f+4]=k;let N=Number(u>>BigInt(32)&BigInt(4294967295));return p[f+3]=N,N=N>>8,p[f+2]=N,N=N>>8,p[f+1]=N,N=N>>8,p[f]=N,f+8}a.prototype.writeBigUInt64LE=rt(function(u,f=0){return we(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=rt(function(u,f=0){return ve(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(u,f,y,S){if(u=+u,f=f>>>0,!S){const Re=Math.pow(2,8*y-1);re(this,u,f,y,Re-1,-Re)}let k=0,N=1,ae=0;for(this[f]=u&255;++k<y&&(N*=256);)u<0&&ae===0&&this[f+k-1]!==0&&(ae=1),this[f+k]=(u/N>>0)-ae&255;return f+y},a.prototype.writeIntBE=function(u,f,y,S){if(u=+u,f=f>>>0,!S){const Re=Math.pow(2,8*y-1);re(this,u,f,y,Re-1,-Re)}let k=y-1,N=1,ae=0;for(this[f+k]=u&255;--k>=0&&(N*=256);)u<0&&ae===0&&this[f+k+1]!==0&&(ae=1),this[f+k]=(u/N>>0)-ae&255;return f+y},a.prototype.writeInt8=function(u,f,y){return u=+u,f=f>>>0,y||re(this,u,f,1,127,-128),u<0&&(u=255+u+1),this[f]=u&255,f+1},a.prototype.writeInt16LE=function(u,f,y){return u=+u,f=f>>>0,y||re(this,u,f,2,32767,-32768),this[f]=u&255,this[f+1]=u>>>8,f+2},a.prototype.writeInt16BE=function(u,f,y){return u=+u,f=f>>>0,y||re(this,u,f,2,32767,-32768),this[f]=u>>>8,this[f+1]=u&255,f+2},a.prototype.writeInt32LE=function(u,f,y){return u=+u,f=f>>>0,y||re(this,u,f,4,2147483647,-2147483648),this[f]=u&255,this[f+1]=u>>>8,this[f+2]=u>>>16,this[f+3]=u>>>24,f+4},a.prototype.writeInt32BE=function(u,f,y){return u=+u,f=f>>>0,y||re(this,u,f,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4},a.prototype.writeBigInt64LE=rt(function(u,f=0){return we(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=rt(function(u,f=0){return ve(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ue(p,u,f,y,S,k){if(f+y>p.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function R(p,u,f,y,S){return u=+u,f=f>>>0,S||Ue(p,u,f,4),r.write(p,u,f,y,23,4),f+4}a.prototype.writeFloatLE=function(u,f,y){return R(this,u,f,!0,y)},a.prototype.writeFloatBE=function(u,f,y){return R(this,u,f,!1,y)};function A(p,u,f,y,S){return u=+u,f=f>>>0,S||Ue(p,u,f,8),r.write(p,u,f,y,52,8),f+8}a.prototype.writeDoubleLE=function(u,f,y){return A(this,u,f,!0,y)},a.prototype.writeDoubleBE=function(u,f,y){return A(this,u,f,!1,y)},a.prototype.copy=function(u,f,y,S){if(!a.isBuffer(u))throw new TypeError("argument should be a Buffer");if(y||(y=0),!S&&S!==0&&(S=this.length),f>=u.length&&(f=u.length),f||(f=0),S>0&&S<y&&(S=y),S===y||u.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("sourceEnd out of bounds");S>this.length&&(S=this.length),u.length-f<S-y&&(S=u.length-f+y);const k=S-y;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,y,S):Uint8Array.prototype.set.call(u,this.subarray(y,S),f),k},a.prototype.fill=function(u,f,y,S){if(typeof u=="string"){if(typeof f=="string"?(S=f,f=0,y=this.length):typeof y=="string"&&(S=y,y=this.length),S!==void 0&&typeof S!="string")throw new TypeError("encoding must be a string");if(typeof S=="string"&&!a.isEncoding(S))throw new TypeError("Unknown encoding: "+S);if(u.length===1){const N=u.charCodeAt(0);(S==="utf8"&&N<128||S==="latin1")&&(u=N)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(f<0||this.length<f||this.length<y)throw new RangeError("Out of range index");if(y<=f)return this;f=f>>>0,y=y===void 0?this.length:y>>>0,u||(u=0);let k;if(typeof u=="number")for(k=f;k<y;++k)this[k]=u;else{const N=a.isBuffer(u)?u:a.from(u,S),ae=N.length;if(ae===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(k=0;k<y-f;++k)this[k+f]=N[k%ae]}return this};const F={};function K(p,u,f){F[p]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(S){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:S,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}K("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),K("ERR_INVALID_ARG_TYPE",function(p,u){return`The "${p}" argument must be of type number. Received type ${typeof u}`},TypeError),K("ERR_OUT_OF_RANGE",function(p,u,f){let y=`The value of "${p}" is out of range.`,S=f;return Number.isInteger(f)&&Math.abs(f)>2**32?S=ce(String(f)):typeof f=="bigint"&&(S=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(S=ce(S)),S+="n"),y+=` It must be ${u}. Received ${S}`,y},RangeError);function ce(p){let u="",f=p.length;const y=p[0]==="-"?1:0;for(;f>=y+4;f-=3)u=`_${p.slice(f-3,f)}${u}`;return`${p.slice(0,f)}${u}`}function m(p,u,f){O(u,"offset"),(p[u]===void 0||p[u+f]===void 0)&&j(u,p.length-(f+1))}function _(p,u,f,y,S,k){if(p>f||p<u){const N=typeof u=="bigint"?"n":"";let ae;throw k>3?u===0||u===BigInt(0)?ae=`>= 0${N} and < 2${N} ** ${(k+1)*8}${N}`:ae=`>= -(2${N} ** ${(k+1)*8-1}${N}) and < 2 ** ${(k+1)*8-1}${N}`:ae=`>= ${u}${N} and <= ${f}${N}`,new F.ERR_OUT_OF_RANGE("value",ae,p)}m(y,S,k)}function O(p,u){if(typeof p!="number")throw new F.ERR_INVALID_ARG_TYPE(u,"number",p)}function j(p,u,f){throw Math.floor(p)!==p?(O(p,f),new F.ERR_OUT_OF_RANGE(f||"offset","an integer",p)):u<0?new F.ERR_BUFFER_OUT_OF_BOUNDS:new F.ERR_OUT_OF_RANGE(f||"offset",`>= ${f?1:0} and <= ${u}`,p)}const xe=/[^+/0-9A-Za-z-_]/g;function ue(p){if(p=p.split("=")[0],p=p.trim().replace(xe,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function ge(p,u){u=u||1/0;let f;const y=p.length;let S=null;const k=[];for(let N=0;N<y;++N){if(f=p.charCodeAt(N),f>55295&&f<57344){if(!S){if(f>56319){(u-=3)>-1&&k.push(239,191,189);continue}else if(N+1===y){(u-=3)>-1&&k.push(239,191,189);continue}S=f;continue}if(f<56320){(u-=3)>-1&&k.push(239,191,189),S=f;continue}f=(S-55296<<10|f-56320)+65536}else S&&(u-=3)>-1&&k.push(239,191,189);if(S=null,f<128){if((u-=1)<0)break;k.push(f)}else if(f<2048){if((u-=2)<0)break;k.push(f>>6|192,f&63|128)}else if(f<65536){if((u-=3)<0)break;k.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((u-=4)<0)break;k.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return k}function xt(p){const u=[];for(let f=0;f<p.length;++f)u.push(p.charCodeAt(f)&255);return u}function Qt(p,u){let f,y,S;const k=[];for(let N=0;N<p.length&&!((u-=2)<0);++N)f=p.charCodeAt(N),y=f>>8,S=f%256,k.push(S),k.push(y);return k}function ar(p){return e.toByteArray(ue(p))}function Zt(p,u,f,y){let S;for(S=0;S<y&&!(S+f>=u.length||S>=p.length);++S)u[S+f]=p[S];return S}function Ye(p,u){return p instanceof u||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===u.name}function Lt(p){return p!==p}const cr=function(){const p="0123456789abcdef",u=new Array(256);for(let f=0;f<16;++f){const y=f*16;for(let S=0;S<16;++S)u[y+S]=p[f]+p[S]}return u}();function rt(p){return typeof BigInt>"u"?Bt:p}function Bt(){throw new Error("BigInt not supported")}})(di);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=di,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(nc,nc.exports);var Er=nc.exports,_h=Er.Buffer;function Rs(t,e){this._block=_h.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Rs.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=_h.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),l=0;l<c;l++)r[a+l]=t[o+l];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};Rs.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Rs.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var On=Rs,eb=Mt,wh=On,tb=Er.Buffer,rb=[1518500249,1859775393,-1894007588,-899497514],nb=new Array(80);function pi(){this.init(),this._w=nb,wh.call(this,64,56)}eb(pi,wh);pi.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ib(t){return t<<5|t>>>27}function sb(t){return t<<30|t>>>2}function ob(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}pi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var l=~~(c/20),h=ib(r)+ob(l,n,i,s)+o+e[c]+rb[l]|0;o=s,s=i,i=sb(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};pi.prototype._hash=function(){var t=tb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var ab=pi,cb=Mt,Eh=On,ub=Er.Buffer,lb=[1518500249,1859775393,-1894007588,-899497514],fb=new Array(80);function bi(){this.init(),this._w=fb,Eh.call(this,64,56)}cb(bi,Eh);bi.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function hb(t){return t<<1|t>>>31}function db(t){return t<<5|t>>>27}function pb(t){return t<<30|t>>>2}function bb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}bi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=hb(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var l=~~(c/20),h=db(r)+bb(l,n,i,s)+o+e[c]+lb[l]|0;o=s,s=i,i=pb(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};bi.prototype._hash=function(){var t=ub.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var gb=bi,yb=Mt,Sh=On,vb=Er.Buffer,mb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_b=new Array(64);function gi(){this.init(),this._w=_b,Sh.call(this,64,56)}yb(gi,Sh);gi.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function wb(t,e,r){return r^t&(e^r)}function Eb(t,e,r){return t&e|r&(t|e)}function Sb(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function xb(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Cb(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Ib(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}gi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,l=this._h|0,h=0;h<16;++h)e[h]=t.readInt32BE(h*4);for(;h<64;++h)e[h]=Ib(e[h-2])+e[h-7]+Cb(e[h-15])+e[h-16]|0;for(var d=0;d<64;++d){var b=l+xb(o)+wb(o,a,c)+mb[d]+e[d]|0,v=Sb(r)+Eb(r,n,i)|0;l=c,c=a,a=o,o=s+b|0,s=i,i=n,n=r,r=b+v|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0};gi.prototype._hash=function(){var t=vb.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var xh=gi,Rb=Mt,Ab=xh,Tb=On,kb=Er.Buffer,Mb=new Array(64);function As(){this.init(),this._w=Mb,Tb.call(this,64,56)}Rb(As,Ab);As.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};As.prototype._hash=function(){var t=kb.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Nb=As,Ob=Mt,Ch=On,Lb=Er.Buffer,Vu=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Bb=new Array(160);function yi(){this.init(),this._w=Bb,Ch.call(this,128,112)}Ob(yi,Ch);yi.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function zu(t,e,r){return r^t&(e^r)}function qu(t,e,r){return t&e|r&(t|e)}function Gu(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Ju(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Pb(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function $b(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Db(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Fb(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function We(t,e){return t>>>0<e>>>0?1:0}yi.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,l=this._hh|0,h=this._al|0,d=this._bl|0,b=this._cl|0,v=this._dl|0,w=this._el|0,C=this._fl|0,T=this._gl|0,g=this._hl|0,E=0;E<32;E+=2)e[E]=t.readInt32BE(E*4),e[E+1]=t.readInt32BE(E*4+4);for(;E<160;E+=2){var x=e[E-30],M=e[E-15*2+1],I=Pb(x,M),B=$b(M,x);x=e[E-2*2],M=e[E-2*2+1];var z=Db(x,M),W=Fb(M,x),D=e[E-7*2],X=e[E-7*2+1],be=e[E-16*2],ne=e[E-16*2+1],P=B+X|0,$=I+D+We(P,B)|0;P=P+W|0,$=$+z+We(P,W)|0,P=P+ne|0,$=$+be+We(P,ne)|0,e[E]=$,e[E+1]=P}for(var U=0;U<160;U+=2){$=e[U],P=e[U+1];var H=qu(r,n,i),G=qu(h,d,b),q=Gu(r,h),Z=Gu(h,r),oe=Ju(o,w),J=Ju(w,o),re=Vu[U],we=Vu[U+1],ve=zu(o,a,c),Ue=zu(w,C,T),R=g+J|0,A=l+oe+We(R,g)|0;R=R+Ue|0,A=A+ve+We(R,Ue)|0,R=R+we|0,A=A+re+We(R,we)|0,R=R+P|0,A=A+$+We(R,P)|0;var F=Z+G|0,K=q+H+We(F,Z)|0;l=c,g=T,c=a,T=C,a=o,C=w,w=v+R|0,o=s+A+We(w,v)|0,s=i,v=b,i=n,b=d,n=r,d=h,h=R+F|0,r=A+K+We(h,R)|0}this._al=this._al+h|0,this._bl=this._bl+d|0,this._cl=this._cl+b|0,this._dl=this._dl+v|0,this._el=this._el+w|0,this._fl=this._fl+C|0,this._gl=this._gl+T|0,this._hl=this._hl+g|0,this._ah=this._ah+r+We(this._al,h)|0,this._bh=this._bh+n+We(this._bl,d)|0,this._ch=this._ch+i+We(this._cl,b)|0,this._dh=this._dh+s+We(this._dl,v)|0,this._eh=this._eh+o+We(this._el,w)|0,this._fh=this._fh+a+We(this._fl,C)|0,this._gh=this._gh+c+We(this._gl,T)|0,this._hh=this._hh+l+We(this._hl,g)|0};yi.prototype._hash=function(){var t=Lb.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Ih=yi,jb=Mt,Ub=Ih,Wb=On,Hb=Er.Buffer,Vb=new Array(160);function Ts(){this.init(),this._w=Vb,Wb.call(this,128,112)}jb(Ts,Ub);Ts.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Ts.prototype._hash=function(){var t=Hb.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var zb=Ts,Vr=mh.exports=function(e){e=e.toLowerCase();var r=Vr[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Vr.sha=ab;Vr.sha1=gb;Vr.sha224=Nb;Vr.sha256=xh;Vr.sha384=zb;Vr.sha512=Ih;var qb=mh.exports,Y={},Gb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Qu=typeof Symbol<"u"&&Symbol,Jb=Gb,Qb=function(){return typeof Qu!="function"||typeof Symbol!="function"||typeof Qu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Jb()},Zu={foo:{}},Zb=Object,Yb=function(){return{__proto__:Zu}.foo===Zu.foo&&!({__proto__:null}instanceof Zb)},Kb="Function.prototype.bind called on incompatible ",fa=Array.prototype.slice,Xb=Object.prototype.toString,eg="[object Function]",tg=function(e){var r=this;if(typeof r!="function"||Xb.call(r)!==eg)throw new TypeError(Kb+r);for(var n=fa.call(arguments,1),i,s=function(){if(this instanceof i){var h=r.apply(this,n.concat(fa.call(arguments)));return Object(h)===h?h:this}else return r.apply(e,n.concat(fa.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],c=0;c<o;c++)a.push("$"+c);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},rg=tg,Bc=Function.prototype.bind||rg,ng=Bc,ig=ng.call(Function.call,Object.prototype.hasOwnProperty),de,gn=SyntaxError,Rh=Function,un=TypeError,ha=function(t){try{return Rh('"use strict"; return ('+t+").constructor;")()}catch{}},Br=Object.getOwnPropertyDescriptor;if(Br)try{Br({},"")}catch{Br=null}var da=function(){throw new un},sg=Br?function(){try{return arguments.callee,da}catch{try{return Br(arguments,"callee").get}catch{return da}}}():da,Yr=Qb(),og=Yb(),ze=Object.getPrototypeOf||(og?function(t){return t.__proto__}:null),nn={},ag=typeof Uint8Array>"u"||!ze?de:ze(Uint8Array),Pr={"%AggregateError%":typeof AggregateError>"u"?de:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?de:ArrayBuffer,"%ArrayIteratorPrototype%":Yr&&ze?ze([][Symbol.iterator]()):de,"%AsyncFromSyncIteratorPrototype%":de,"%AsyncFunction%":nn,"%AsyncGenerator%":nn,"%AsyncGeneratorFunction%":nn,"%AsyncIteratorPrototype%":nn,"%Atomics%":typeof Atomics>"u"?de:Atomics,"%BigInt%":typeof BigInt>"u"?de:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?de:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?de:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?de:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?de:Float32Array,"%Float64Array%":typeof Float64Array>"u"?de:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?de:FinalizationRegistry,"%Function%":Rh,"%GeneratorFunction%":nn,"%Int8Array%":typeof Int8Array>"u"?de:Int8Array,"%Int16Array%":typeof Int16Array>"u"?de:Int16Array,"%Int32Array%":typeof Int32Array>"u"?de:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Yr&&ze?ze(ze([][Symbol.iterator]())):de,"%JSON%":typeof JSON=="object"?JSON:de,"%Map%":typeof Map>"u"?de:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Yr||!ze?de:ze(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?de:Promise,"%Proxy%":typeof Proxy>"u"?de:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?de:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?de:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Yr||!ze?de:ze(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?de:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Yr&&ze?ze(""[Symbol.iterator]()):de,"%Symbol%":Yr?Symbol:de,"%SyntaxError%":gn,"%ThrowTypeError%":sg,"%TypedArray%":ag,"%TypeError%":un,"%Uint8Array%":typeof Uint8Array>"u"?de:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?de:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?de:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?de:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?de:WeakMap,"%WeakRef%":typeof WeakRef>"u"?de:WeakRef,"%WeakSet%":typeof WeakSet>"u"?de:WeakSet};if(ze)try{null.error}catch(t){var cg=ze(ze(t));Pr["%Error.prototype%"]=cg}var ug=function t(e){var r;if(e==="%AsyncFunction%")r=ha("async function () {}");else if(e==="%GeneratorFunction%")r=ha("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ha("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ze&&(r=ze(i.prototype))}return Pr[e]=r,r},Yu={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},vi=Bc,as=ig,lg=vi.call(Function.call,Array.prototype.concat),fg=vi.call(Function.apply,Array.prototype.splice),Ku=vi.call(Function.call,String.prototype.replace),cs=vi.call(Function.call,String.prototype.slice),hg=vi.call(Function.call,RegExp.prototype.exec),dg=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pg=/\\(\\)?/g,bg=function(e){var r=cs(e,0,1),n=cs(e,-1);if(r==="%"&&n!=="%")throw new gn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new gn("invalid intrinsic syntax, expected opening `%`");var i=[];return Ku(e,dg,function(s,o,a,c){i[i.length]=a?Ku(c,pg,"$1"):o||s}),i},gg=function(e,r){var n=e,i;if(as(Yu,n)&&(i=Yu[n],n="%"+i[0]+"%"),as(Pr,n)){var s=Pr[n];if(s===nn&&(s=ug(n)),typeof s>"u"&&!r)throw new un("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new gn("intrinsic "+e+" does not exist!")},Pc=function(e,r){if(typeof e!="string"||e.length===0)throw new un("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new un('"allowMissing" argument must be a boolean');if(hg(/^%?[^%]*%?$/,e)===null)throw new gn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=bg(e),i=n.length>0?n[0]:"",s=gg("%"+i+"%",r),o=s.name,a=s.value,c=!1,l=s.alias;l&&(i=l[0],fg(n,lg([0,1],l)));for(var h=1,d=!0;h<n.length;h+=1){var b=n[h],v=cs(b,0,1),w=cs(b,-1);if((v==='"'||v==="'"||v==="`"||w==='"'||w==="'"||w==="`")&&v!==w)throw new gn("property names with quotes must have matching quotes");if((b==="constructor"||!d)&&(c=!0),i+="."+b,o="%"+i+"%",as(Pr,o))a=Pr[o];else if(a!=null){if(!(b in a)){if(!r)throw new un("base intrinsic for "+e+" exists, but the property is not available.");return}if(Br&&h+1>=n.length){var C=Br(a,b);d=!!C,d&&"get"in C&&!("originalValue"in C.get)?a=C.get:a=a[b]}else d=as(a,b),a=a[b];d&&!c&&(Pr[o]=a)}}return a},Ah={exports:{}};(function(t){var e=Bc,r=Pc,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var b=s(e,i,arguments);if(o&&a){var v=o(b,"length");v.configurable&&a(b,"length",{value:1+c(0,d.length-(arguments.length-1))})}return b};var l=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:l}):t.exports.apply=l})(Ah);var yg=Ah.exports,Th=Pc,kh=yg,vg=kh(Th("String.prototype.indexOf")),mg=function(e,r){var n=Th(e,!!r);return typeof n=="function"&&vg(e,".prototype.")>-1?kh(n):n},$c=typeof Map=="function"&&Map.prototype,pa=Object.getOwnPropertyDescriptor&&$c?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,us=$c&&pa&&typeof pa.get=="function"?pa.get:null,Xu=$c&&Map.prototype.forEach,Dc=typeof Set=="function"&&Set.prototype,ba=Object.getOwnPropertyDescriptor&&Dc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ls=Dc&&ba&&typeof ba.get=="function"?ba.get:null,el=Dc&&Set.prototype.forEach,_g=typeof WeakMap=="function"&&WeakMap.prototype,Zn=_g?WeakMap.prototype.has:null,wg=typeof WeakSet=="function"&&WeakSet.prototype,Yn=wg?WeakSet.prototype.has:null,Eg=typeof WeakRef=="function"&&WeakRef.prototype,tl=Eg?WeakRef.prototype.deref:null,Sg=Boolean.prototype.valueOf,xg=Object.prototype.toString,Cg=Function.prototype.toString,Ig=String.prototype.match,Fc=String.prototype.slice,br=String.prototype.replace,Rg=String.prototype.toUpperCase,rl=String.prototype.toLowerCase,Mh=RegExp.prototype.test,nl=Array.prototype.concat,Wt=Array.prototype.join,Ag=Array.prototype.slice,il=Math.floor,ic=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ga=Object.getOwnPropertySymbols,sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,yn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",tt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===yn||"symbol")?Symbol.toStringTag:null,Nh=Object.prototype.propertyIsEnumerable,sl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function ol(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Mh.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-il(-t):il(t);if(n!==t){var i=String(n),s=Fc.call(e,i.length+1);return br.call(i,r,"$&_")+"."+br.call(br.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return br.call(e,r,"$&_")}var oc=kc,al=oc.custom,cl=Lh(al)?al:null,Tg=function t(e,r,n,i){var s=r||{};if(hr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(hr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=hr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(hr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(hr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Ph(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?ol(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return a?ol(e,l):l}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return ac(e)?"[Array]":"[Object]";var d=Gg(s,n);if(typeof i>"u")i=[];else if(Bh(i,e)>=0)return"[Circular]";function b(P,$,U){if($&&(i=Ag.call(i),i.push($)),U){var H={depth:s.depth};return hr(s,"quoteStyle")&&(H.quoteStyle=s.quoteStyle),t(P,H,n+1,i)}return t(P,s,n+1,i)}if(typeof e=="function"&&!ul(e)){var v=Dg(e),w=Fi(e,b);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(w.length>0?" { "+Wt.call(w,", ")+" }":"")}if(Lh(e)){var C=yn?br.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):sc.call(e);return typeof e=="object"&&!yn?Vn(C):C}if(Vg(e)){for(var T="<"+rl.call(String(e.nodeName)),g=e.attributes||[],E=0;E<g.length;E++)T+=" "+g[E].name+"="+Oh(kg(g[E].value),"double",s);return T+=">",e.childNodes&&e.childNodes.length&&(T+="..."),T+="</"+rl.call(String(e.nodeName))+">",T}if(ac(e)){if(e.length===0)return"[]";var x=Fi(e,b);return d&&!qg(x)?"["+cc(x,d)+"]":"[ "+Wt.call(x,", ")+" ]"}if(Ng(e)){var M=Fi(e,b);return!("cause"in Error.prototype)&&"cause"in e&&!Nh.call(e,"cause")?"{ ["+String(e)+"] "+Wt.call(nl.call("[cause]: "+b(e.cause),M),", ")+" }":M.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Wt.call(M,", ")+" }"}if(typeof e=="object"&&o){if(cl&&typeof e[cl]=="function"&&oc)return oc(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Fg(e)){var I=[];return Xu&&Xu.call(e,function(P,$){I.push(b($,e,!0)+" => "+b(P,e))}),ll("Map",us.call(e),I,d)}if(Wg(e)){var B=[];return el&&el.call(e,function(P){B.push(b(P,e))}),ll("Set",ls.call(e),B,d)}if(jg(e))return ya("WeakMap");if(Hg(e))return ya("WeakSet");if(Ug(e))return ya("WeakRef");if(Lg(e))return Vn(b(Number(e)));if(Pg(e))return Vn(b(ic.call(e)));if(Bg(e))return Vn(Sg.call(e));if(Og(e))return Vn(b(String(e)));if(!Mg(e)&&!ul(e)){var z=Fi(e,b),W=sl?sl(e)===Object.prototype:e instanceof Object||e.constructor===Object,D=e instanceof Object?"":"null prototype",X=!W&&tt&&Object(e)===e&&tt in e?Fc.call(Sr(e),8,-1):D?"Object":"",be=W||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",ne=be+(X||D?"["+Wt.call(nl.call([],X||[],D||[]),": ")+"] ":"");return z.length===0?ne+"{}":d?ne+"{"+cc(z,d)+"}":ne+"{ "+Wt.call(z,", ")+" }"}return String(e)};function Oh(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function kg(t){return br.call(String(t),/"/g,"&quot;")}function ac(t){return Sr(t)==="[object Array]"&&(!tt||!(typeof t=="object"&&tt in t))}function Mg(t){return Sr(t)==="[object Date]"&&(!tt||!(typeof t=="object"&&tt in t))}function ul(t){return Sr(t)==="[object RegExp]"&&(!tt||!(typeof t=="object"&&tt in t))}function Ng(t){return Sr(t)==="[object Error]"&&(!tt||!(typeof t=="object"&&tt in t))}function Og(t){return Sr(t)==="[object String]"&&(!tt||!(typeof t=="object"&&tt in t))}function Lg(t){return Sr(t)==="[object Number]"&&(!tt||!(typeof t=="object"&&tt in t))}function Bg(t){return Sr(t)==="[object Boolean]"&&(!tt||!(typeof t=="object"&&tt in t))}function Lh(t){if(yn)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!sc)return!1;try{return sc.call(t),!0}catch{}return!1}function Pg(t){if(!t||typeof t!="object"||!ic)return!1;try{return ic.call(t),!0}catch{}return!1}var $g=Object.prototype.hasOwnProperty||function(t){return t in this};function hr(t,e){return $g.call(t,e)}function Sr(t){return xg.call(t)}function Dg(t){if(t.name)return t.name;var e=Ig.call(Cg.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Bh(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Fg(t){if(!us||!t||typeof t!="object")return!1;try{us.call(t);try{ls.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function jg(t){if(!Zn||!t||typeof t!="object")return!1;try{Zn.call(t,Zn);try{Yn.call(t,Yn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Ug(t){if(!tl||!t||typeof t!="object")return!1;try{return tl.call(t),!0}catch{}return!1}function Wg(t){if(!ls||!t||typeof t!="object")return!1;try{ls.call(t);try{us.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Hg(t){if(!Yn||!t||typeof t!="object")return!1;try{Yn.call(t,Yn);try{Zn.call(t,Zn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Vg(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Ph(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Ph(Fc.call(t,0,e.maxStringLength),e)+n}var i=br.call(br.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,zg);return Oh(i,"single",e)}function zg(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Rg.call(e.toString(16))}function Vn(t){return"Object("+t+")"}function ya(t){return t+" { ? }"}function ll(t,e,r,n){var i=n?cc(r,n):Wt.call(r,", ");return t+" ("+e+") {"+i+"}"}function qg(t){for(var e=0;e<t.length;e++)if(Bh(t[e],`
`)>=0)return!1;return!0}function Gg(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Wt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Wt.call(Array(e+1),r)}}function cc(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Wt.call(t,","+r)+`
`+e.prev}function Fi(t,e){var r=ac(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=hr(t,i)?e(t[i],t):""}var s=typeof ga=="function"?ga(t):[],o;if(yn){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)hr(t,c)&&(r&&String(Number(c))===c&&c<t.length||yn&&o["$"+c]instanceof Symbol||(Mh.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof ga=="function")for(var l=0;l<s.length;l++)Nh.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}var jc=Pc,Ln=mg,Jg=Tg,Qg=jc("%TypeError%"),ji=jc("%WeakMap%",!0),Ui=jc("%Map%",!0),Zg=Ln("WeakMap.prototype.get",!0),Yg=Ln("WeakMap.prototype.set",!0),Kg=Ln("WeakMap.prototype.has",!0),Xg=Ln("Map.prototype.get",!0),ey=Ln("Map.prototype.set",!0),ty=Ln("Map.prototype.has",!0),Uc=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},ry=function(t,e){var r=Uc(t,e);return r&&r.value},ny=function(t,e,r){var n=Uc(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},iy=function(t,e){return!!Uc(t,e)},sy=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Qg("Side channel does not contain "+Jg(s))},get:function(s){if(ji&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Zg(e,s)}else if(Ui){if(r)return Xg(r,s)}else if(n)return ry(n,s)},has:function(s){if(ji&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Kg(e,s)}else if(Ui){if(r)return ty(r,s)}else if(n)return iy(n,s);return!1},set:function(s,o){ji&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new ji),Yg(e,s,o)):Ui?(r||(r=new Ui),ey(r,s,o)):(n||(n={key:{},next:null}),ny(n,s,o))}};return i},oy=String.prototype.replace,ay=/%20/g,va={RFC1738:"RFC1738",RFC3986:"RFC3986"},Wc={default:va.RFC3986,formatters:{RFC1738:function(t){return oy.call(t,ay,"+")},RFC3986:function(t){return String(t)}},RFC1738:va.RFC1738,RFC3986:va.RFC3986},cy=Wc,ma=Object.prototype.hasOwnProperty,Rr=Array.isArray,Pt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),uy=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Rr(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},$h=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},ly=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Rr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!ma.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Rr(e)&&!Rr(r)&&(i=$h(e,n)),Rr(e)&&Rr(r)?(r.forEach(function(s,o){if(ma.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return ma.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},fy=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},hy=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},dy=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===cy.RFC1738&&(l===40||l===41)){a+=o.charAt(c);continue}if(l<128){a=a+Pt[l];continue}if(l<2048){a=a+(Pt[192|l>>6]+Pt[128|l&63]);continue}if(l<55296||l>=57344){a=a+(Pt[224|l>>12]+Pt[128|l>>6&63]+Pt[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),a+=Pt[240|l>>18]+Pt[128|l>>12&63]+Pt[128|l>>6&63]+Pt[128|l&63]}return a},py=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var l=a[c],h=o[l];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:l}),n.push(h))}return uy(r),e},by=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},gy=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},yy=function(e,r){return[].concat(e,r)},vy=function(e,r){if(Rr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Dh={arrayToObject:$h,assign:fy,combine:yy,compact:py,decode:hy,encode:dy,isBuffer:gy,isRegExp:by,maybeMap:vy,merge:ly},Fh=sy,es=Dh,Kn=Wc,my=Object.prototype.hasOwnProperty,fl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Xt=Array.isArray,_y=Array.prototype.push,jh=function(t,e){_y.apply(t,Xt(e)?e:[e])},wy=Date.prototype.toISOString,hl=Kn.default,et={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:es.encode,encodeValuesOnly:!1,format:hl,formatter:Kn.formatters[hl],indices:!1,serializeDate:function(e){return wy.call(e)},skipNulls:!1,strictNullHandling:!1},Ey=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},_a={},Sy=function t(e,r,n,i,s,o,a,c,l,h,d,b,v,w,C,T){for(var g=e,E=T,x=0,M=!1;(E=E.get(_a))!==void 0&&!M;){var I=E.get(e);if(x+=1,typeof I<"u"){if(I===x)throw new RangeError("Cyclic object value");M=!0}typeof E.get(_a)>"u"&&(x=0)}if(typeof c=="function"?g=c(r,g):g instanceof Date?g=d(g):n==="comma"&&Xt(g)&&(g=es.maybeMap(g,function(H){return H instanceof Date?d(H):H})),g===null){if(s)return a&&!w?a(r,et.encoder,C,"key",b):r;g=""}if(Ey(g)||es.isBuffer(g)){if(a){var B=w?r:a(r,et.encoder,C,"key",b);return[v(B)+"="+v(a(g,et.encoder,C,"value",b))]}return[v(r)+"="+v(String(g))]}var z=[];if(typeof g>"u")return z;var W;if(n==="comma"&&Xt(g))w&&a&&(g=es.maybeMap(g,a)),W=[{value:g.length>0?g.join(",")||null:void 0}];else if(Xt(c))W=c;else{var D=Object.keys(g);W=l?D.sort(l):D}for(var X=i&&Xt(g)&&g.length===1?r+"[]":r,be=0;be<W.length;++be){var ne=W[be],P=typeof ne=="object"&&typeof ne.value<"u"?ne.value:g[ne];if(!(o&&P===null)){var $=Xt(g)?typeof n=="function"?n(X,ne):X:X+(h?"."+ne:"["+ne+"]");T.set(e,x);var U=Fh();U.set(_a,T),jh(z,t(P,$,n,i,s,o,n==="comma"&&w&&Xt(g)?null:a,c,l,h,d,b,v,w,C,U))}}return z},xy=function(e){if(!e)return et;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||et.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Kn.default;if(typeof e.format<"u"){if(!my.call(Kn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Kn.formatters[n],s=et.filter;return(typeof e.filter=="function"||Xt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:et.addQueryPrefix,allowDots:typeof e.allowDots>"u"?et.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:et.charsetSentinel,delimiter:typeof e.delimiter>"u"?et.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:et.encode,encoder:typeof e.encoder=="function"?e.encoder:et.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:et.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:et.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:et.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:et.strictNullHandling}},Cy=function(t,e){var r=t,n=xy(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Xt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in fl?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=fl[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=Fh(),d=0;d<i.length;++d){var b=i[d];n.skipNulls&&r[b]===null||jh(o,Sy(r[b],b,c,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var v=o.join(n.delimiter),w=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),v.length>0?w+v:""},vn=Dh,uc=Object.prototype.hasOwnProperty,Iy=Array.isArray,He={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:vn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ry=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Uh=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Ay="utf8=%26%2310003%3B",Ty="utf8=%E2%9C%93",ky=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Ty?l="utf-8":o[c]===Ay&&(l="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var h=o[c],d=h.indexOf("]="),b=d===-1?h.indexOf("="):d+1,v,w;b===-1?(v=r.decoder(h,He.decoder,l,"key"),w=r.strictNullHandling?null:""):(v=r.decoder(h.slice(0,b),He.decoder,l,"key"),w=vn.maybeMap(Uh(h.slice(b+1),r),function(C){return r.decoder(C,He.decoder,l,"value")})),w&&r.interpretNumericEntities&&l==="iso-8859-1"&&(w=Ry(w)),h.indexOf("[]=")>-1&&(w=Iy(w)?[w]:w),uc.call(n,v)?n[v]=vn.combine(n[v],w):n[v]=w}return n},My=function(t,e,r,n){for(var i=n?e:Uh(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},Ny=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),l=c?s.slice(0,c.index):s,h=[];if(l){if(!n.plainObjects&&uc.call(Object.prototype,l)&&!n.allowPrototypes)return;h.push(l)}for(var d=0;n.depth>0&&(c=a.exec(s))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&uc.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+s.slice(c.index)+"]"),My(h,r,n,i)}},Oy=function(e){if(!e)return He;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?He.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?He.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:He.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:He.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:He.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:He.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:He.comma,decoder:typeof e.decoder=="function"?e.decoder:He.decoder,delimiter:typeof e.delimiter=="string"||vn.isRegExp(e.delimiter)?e.delimiter:He.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:He.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:He.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:He.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:He.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:He.strictNullHandling}},Ly=function(t,e){var r=Oy(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?ky(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=Ny(a,n[a],r,typeof t=="string");i=vn.merge(i,c,r)}return r.allowSparse===!0?i:vn.compact(i)},By=Cy,Py=Ly,$y=Wc,Dy={formats:$y,parse:Py,stringify:By},mi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(mi);var Fy=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y,"__esModule",{value:!0});Y.isInIFrame=Y.createQrUrl=Y.getFavicon=Y.range=Y.isBigNumber=Y.ensureParsedJSONObject=Y.ensureBN=Y.ensureRegExpString=Y.ensureIntNumber=Y.ensureBuffer=Y.ensureAddressString=Y.ensureEvenLengthHexString=Y.ensureHexString=Y.isHexString=Y.prepend0x=Y.strip0x=Y.has0xPrefix=Y.hexStringFromIntNumber=Y.intNumberFromHexString=Y.bigIntStringFromBN=Y.hexStringFromBuffer=Y.hexStringToUint8Array=Y.uint8ArrayToHex=Y.randomBytesHex=void 0;const dr=Fy(ws),jy=Dy,zr=hi,_t=mi,Wh=/^[0-9]*$/,Hh=/^[a-f0-9]*$/;function Uy(t){return Vh(crypto.getRandomValues(new Uint8Array(t)))}Y.randomBytesHex=Uy;function Vh(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}Y.uint8ArrayToHex=Vh;function Wy(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}Y.hexStringToUint8Array=Wy;function Hy(t,e=!1){const r=t.toString("hex");return(0,_t.HexString)(e?"0x"+r:r)}Y.hexStringFromBuffer=Hy;function Vy(t){return(0,_t.BigIntString)(t.toString(10))}Y.bigIntStringFromBN=Vy;function zy(t){return(0,_t.IntNumber)(new dr.default(wi(t,!1),16).toNumber())}Y.intNumberFromHexString=zy;function qy(t){return(0,_t.HexString)("0x"+new dr.default(t).toString(16))}Y.hexStringFromIntNumber=qy;function Hc(t){return t.startsWith("0x")||t.startsWith("0X")}Y.has0xPrefix=Hc;function ks(t){return Hc(t)?t.slice(2):t}Y.strip0x=ks;function zh(t){return Hc(t)?"0x"+t.slice(2):"0x"+t}Y.prepend0x=zh;function _i(t){if(typeof t!="string")return!1;const e=ks(t).toLowerCase();return Hh.test(e)}Y.isHexString=_i;function qh(t,e=!1){if(typeof t=="string"){const r=ks(t).toLowerCase();if(Hh.test(r))return(0,_t.HexString)(e?"0x"+r:r)}throw zr.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}Y.ensureHexString=qh;function wi(t,e=!1){let r=qh(t,!1);return r.length%2===1&&(r=(0,_t.HexString)("0"+r)),e?(0,_t.HexString)("0x"+r):r}Y.ensureEvenLengthHexString=wi;function Gy(t){if(typeof t=="string"){const e=ks(t).toLowerCase();if(_i(e)&&e.length===40)return(0,_t.AddressString)(zh(e))}throw zr.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}Y.ensureAddressString=Gy;function Jy(t){if(V.Buffer.isBuffer(t))return t;if(typeof t=="string")if(_i(t)){const e=wi(t,!1);return V.Buffer.from(e,"hex")}else return V.Buffer.from(t,"utf8");throw zr.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}Y.ensureBuffer=Jy;function Gh(t){if(typeof t=="number"&&Number.isInteger(t))return(0,_t.IntNumber)(t);if(typeof t=="string"){if(Wh.test(t))return(0,_t.IntNumber)(Number(t));if(_i(t))return(0,_t.IntNumber)(new dr.default(wi(t,!1),16).toNumber())}throw zr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Y.ensureIntNumber=Gh;function Qy(t){if(t instanceof RegExp)return(0,_t.RegExpString)(t.toString());throw zr.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}Y.ensureRegExpString=Qy;function Zy(t){if(t!==null&&(dr.default.isBN(t)||Jh(t)))return new dr.default(t.toString(10),10);if(typeof t=="number")return new dr.default(Gh(t));if(typeof t=="string"){if(Wh.test(t))return new dr.default(t,10);if(_i(t))return new dr.default(wi(t,!1),16)}throw zr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Y.ensureBN=Zy;function Yy(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw zr.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}Y.ensureParsedJSONObject=Yy;function Jh(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}Y.isBigNumber=Jh;function Ky(t,e){return Array.from({length:e-t},(r,n)=>t+n)}Y.range=Ky;function Xy(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}Y.getFavicon=Xy;function ev(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,jy.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}Y.createQrUrl=ev;function tv(){try{return window.frameElement!==null}catch{return!1}}Y.isInIFrame=tv;Object.defineProperty(Nn,"__esModule",{value:!0});Nn.Session=void 0;const dl=qb,pl=Y,bl="session:id",gl="session:secret",yl="session:linked";class Vc{constructor(e,r,n,i){this._storage=e,this._id=r||(0,pl.randomBytesHex)(16),this._secret=n||(0,pl.randomBytesHex)(32),this._key=new dl.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(bl),n=e.getItem(yl),i=e.getItem(gl);return r&&i?new Vc(e,r,i,n==="1"):null}static hash(e){return new dl.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(bl,this._id),this._storage.setItem(gl,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(yl,this._linked?"1":"0")}}Nn.Session=Vc;var kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.WalletSDKRelayAbstract=kt.APP_VERSION_KEY=kt.LOCAL_STORAGE_ADDRESSES_KEY=kt.WALLET_USER_NAME_KEY=void 0;const vl=hi;kt.WALLET_USER_NAME_KEY="walletUsername";kt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";kt.APP_VERSION_KEY="AppVersion";class rv{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw vl.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,vl.serializeError)(s,e.method);return i})}}kt.WalletSDKRelayAbstract=rv;var lc={exports:{}},Qh=Tc.EventEmitter,wa,ml;function nv(){if(ml)return wa;ml=1;function t(w,C){var T=Object.keys(w);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(w);C&&(g=g.filter(function(E){return Object.getOwnPropertyDescriptor(w,E).enumerable})),T.push.apply(T,g)}return T}function e(w){for(var C=1;C<arguments.length;C++){var T=arguments[C]!=null?arguments[C]:{};C%2?t(Object(T),!0).forEach(function(g){r(w,g,T[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(T)):t(Object(T)).forEach(function(g){Object.defineProperty(w,g,Object.getOwnPropertyDescriptor(T,g))})}return w}function r(w,C,T){return C=o(C),C in w?Object.defineProperty(w,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):w[C]=T,w}function n(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")}function i(w,C){for(var T=0;T<C.length;T++){var g=C[T];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(w,o(g.key),g)}}function s(w,C,T){return C&&i(w.prototype,C),T&&i(w,T),Object.defineProperty(w,"prototype",{writable:!1}),w}function o(w){var C=a(w,"string");return typeof C=="symbol"?C:String(C)}function a(w,C){if(typeof w!="object"||w===null)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var g=T.call(w,C||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(w)}var c=di,l=c.Buffer,h=kc,d=h.inspect,b=d&&d.custom||"inspect";function v(w,C,T){l.prototype.copy.call(w,C,T)}return wa=function(){function w(){n(this,w),this.head=null,this.tail=null,this.length=0}return s(w,[{key:"push",value:function(T){var g={data:T,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(T){var g={data:T,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var T=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,T}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(T){if(this.length===0)return"";for(var g=this.head,E=""+g.data;g=g.next;)E+=T+g.data;return E}},{key:"concat",value:function(T){if(this.length===0)return l.alloc(0);for(var g=l.allocUnsafe(T>>>0),E=this.head,x=0;E;)v(E.data,g,x),x+=E.data.length,E=E.next;return g}},{key:"consume",value:function(T,g){var E;return T<this.head.data.length?(E=this.head.data.slice(0,T),this.head.data=this.head.data.slice(T)):T===this.head.data.length?E=this.shift():E=g?this._getString(T):this._getBuffer(T),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(T){var g=this.head,E=1,x=g.data;for(T-=x.length;g=g.next;){var M=g.data,I=T>M.length?M.length:T;if(I===M.length?x+=M:x+=M.slice(0,T),T-=I,T===0){I===M.length?(++E,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=M.slice(I));break}++E}return this.length-=E,x}},{key:"_getBuffer",value:function(T){var g=l.allocUnsafe(T),E=this.head,x=1;for(E.data.copy(g),T-=E.data.length;E=E.next;){var M=E.data,I=T>M.length?M.length:T;if(M.copy(g,g.length-T,0,I),T-=I,T===0){I===M.length?(++x,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=M.slice(I));break}++x}return this.length-=x,g}},{key:b,value:function(T,g){return d(this,e(e({},g),{},{depth:0,customInspect:!1}))}}]),w}(),wa}function iv(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,V.process.nextTick(fc,this,t)):V.process.nextTick(fc,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?V.process.nextTick(ts,r):(r._writableState.errorEmitted=!0,V.process.nextTick(_l,r,s)):V.process.nextTick(_l,r,s):e?(V.process.nextTick(ts,r),e(s)):V.process.nextTick(ts,r)}),this)}function _l(t,e){fc(t,e),ts(t)}function ts(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function sv(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function fc(t,e){t.emit("error",e)}function ov(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Zh={destroy:iv,undestroy:sv,errorOrDestroy:ov},qr={};function av(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Yh={};function Et(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){av(o,s);function o(a,c,l){return s.call(this,n(a,c,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Yh[t]=i}function wl(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function cv(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function uv(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function lv(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Et("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Et("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&cv(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(uv(t," argument"))i="The ".concat(t," ").concat(n," ").concat(wl(e,"type"));else{var s=lv(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(wl(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Et("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Et("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Et("ERR_STREAM_PREMATURE_CLOSE","Premature close");Et("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Et("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Et("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Et("ERR_STREAM_WRITE_AFTER_END","write after end");Et("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Et("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Et("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");qr.codes=Yh;var fv=qr.codes.ERR_INVALID_OPT_VALUE;function hv(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function dv(t,e,r,n){var i=hv(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new fv(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Kh={getHighWaterMark:dv},pv=bv;function bv(t,e){if(Ea("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Ea("throwDeprecation"))throw new Error(e);Ea("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Ea(t){try{if(!Q.localStorage)return!1}catch{return!1}var e=Q.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Sa,El;function Xh(){if(El)return Sa;El=1,Sa=W;function t(R){var A=this;this.next=null,this.entry=null,this.finish=function(){Ue(A,R)}}var e;W.WritableState=B;var r={deprecate:pv},n=Qh,i=di.Buffer,s=(typeof Q<"u"?Q:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(R){return i.from(R)}function a(R){return i.isBuffer(R)||R instanceof s}var c=Zh,l=Kh,h=l.getHighWaterMark,d=qr.codes,b=d.ERR_INVALID_ARG_TYPE,v=d.ERR_METHOD_NOT_IMPLEMENTED,w=d.ERR_MULTIPLE_CALLBACK,C=d.ERR_STREAM_CANNOT_PIPE,T=d.ERR_STREAM_DESTROYED,g=d.ERR_STREAM_NULL_VALUES,E=d.ERR_STREAM_WRITE_AFTER_END,x=d.ERR_UNKNOWN_ENCODING,M=c.errorOrDestroy;Mt(W,n);function I(){}function B(R,A,F){e=e||mn(),R=R||{},typeof F!="boolean"&&(F=A instanceof e),this.objectMode=!!R.objectMode,F&&(this.objectMode=this.objectMode||!!R.writableObjectMode),this.highWaterMark=h(this,R,"writableHighWaterMark",F),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var K=R.decodeStrings===!1;this.decodeStrings=!K,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){H(A,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}B.prototype.getBuffer=function(){for(var A=this.bufferedRequest,F=[];A;)F.push(A),A=A.next;return F},function(){try{Object.defineProperty(B.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(z=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(A){return z.call(this,A)?!0:this!==W?!1:A&&A._writableState instanceof B}})):z=function(A){return A instanceof this};function W(R){e=e||mn();var A=this instanceof e;if(!A&&!z.call(W,this))return new W(R);this._writableState=new B(R,this,A),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),n.call(this)}W.prototype.pipe=function(){M(this,new C)};function D(R,A){var F=new E;M(R,F),V.process.nextTick(A,F)}function X(R,A,F,K){var ce;return F===null?ce=new g:typeof F!="string"&&!A.objectMode&&(ce=new b("chunk",["string","Buffer"],F)),ce?(M(R,ce),V.process.nextTick(K,ce),!1):!0}W.prototype.write=function(R,A,F){var K=this._writableState,ce=!1,m=!K.objectMode&&a(R);return m&&!i.isBuffer(R)&&(R=o(R)),typeof A=="function"&&(F=A,A=null),m?A="buffer":A||(A=K.defaultEncoding),typeof F!="function"&&(F=I),K.ending?D(this,F):(m||X(this,K,R,F))&&(K.pendingcb++,ce=ne(this,K,m,R,A,F)),ce},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,!R.writing&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&Z(this,R))},W.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new x(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function be(R,A,F){return!R.objectMode&&R.decodeStrings!==!1&&typeof A=="string"&&(A=i.from(A,F)),A}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ne(R,A,F,K,ce,m){if(!F){var _=be(A,K,ce);K!==_&&(F=!0,ce="buffer",K=_)}var O=A.objectMode?1:K.length;A.length+=O;var j=A.length<A.highWaterMark;if(j||(A.needDrain=!0),A.writing||A.corked){var xe=A.lastBufferedRequest;A.lastBufferedRequest={chunk:K,encoding:ce,isBuf:F,callback:m,next:null},xe?xe.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else P(R,A,!1,O,K,ce,m);return j}function P(R,A,F,K,ce,m,_){A.writelen=K,A.writecb=_,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new T("write")):F?R._writev(ce,A.onwrite):R._write(ce,m,A.onwrite),A.sync=!1}function $(R,A,F,K,ce){--A.pendingcb,F?(V.process.nextTick(ce,K),V.process.nextTick(we,R,A),R._writableState.errorEmitted=!0,M(R,K)):(ce(K),R._writableState.errorEmitted=!0,M(R,K),we(R,A))}function U(R){R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0}function H(R,A){var F=R._writableState,K=F.sync,ce=F.writecb;if(typeof ce!="function")throw new w;if(U(F),A)$(R,F,K,A,ce);else{var m=oe(F)||R.destroyed;!m&&!F.corked&&!F.bufferProcessing&&F.bufferedRequest&&Z(R,F),K?V.process.nextTick(G,R,F,m,ce):G(R,F,m,ce)}}function G(R,A,F,K){F||q(R,A),A.pendingcb--,K(),we(R,A)}function q(R,A){A.length===0&&A.needDrain&&(A.needDrain=!1,R.emit("drain"))}function Z(R,A){A.bufferProcessing=!0;var F=A.bufferedRequest;if(R._writev&&F&&F.next){var K=A.bufferedRequestCount,ce=new Array(K),m=A.corkedRequestsFree;m.entry=F;for(var _=0,O=!0;F;)ce[_]=F,F.isBuf||(O=!1),F=F.next,_+=1;ce.allBuffers=O,P(R,A,!0,A.length,ce,"",m.finish),A.pendingcb++,A.lastBufferedRequest=null,m.next?(A.corkedRequestsFree=m.next,m.next=null):A.corkedRequestsFree=new t(A),A.bufferedRequestCount=0}else{for(;F;){var j=F.chunk,xe=F.encoding,ue=F.callback,ge=A.objectMode?1:j.length;if(P(R,A,!1,ge,j,xe,ue),F=F.next,A.bufferedRequestCount--,A.writing)break}F===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=F,A.bufferProcessing=!1}W.prototype._write=function(R,A,F){F(new v("_write()"))},W.prototype._writev=null,W.prototype.end=function(R,A,F){var K=this._writableState;return typeof R=="function"?(F=R,R=null,A=null):typeof A=="function"&&(F=A,A=null),R!=null&&this.write(R,A),K.corked&&(K.corked=1,this.uncork()),K.ending||ve(this,K,F),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function oe(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function J(R,A){R._final(function(F){A.pendingcb--,F&&M(R,F),A.prefinished=!0,R.emit("prefinish"),we(R,A)})}function re(R,A){!A.prefinished&&!A.finalCalled&&(typeof R._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,V.process.nextTick(J,R,A)):(A.prefinished=!0,R.emit("prefinish")))}function we(R,A){var F=oe(A);if(F&&(re(R,A),A.pendingcb===0&&(A.finished=!0,R.emit("finish"),A.autoDestroy))){var K=R._readableState;(!K||K.autoDestroy&&K.endEmitted)&&R.destroy()}return F}function ve(R,A,F){A.ending=!0,we(R,A),F&&(A.finished?V.process.nextTick(F):R.once("finish",F)),A.ended=!0,R.writable=!1}function Ue(R,A,F){var K=R.entry;for(R.entry=null;K;){var ce=K.callback;A.pendingcb--,ce(F),K=K.next}A.corkedRequestsFree.next=R}return Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),W.prototype.destroy=c.destroy,W.prototype._undestroy=c.undestroy,W.prototype._destroy=function(R,A){A(R)},Sa}var xa,Sl;function mn(){if(Sl)return xa;Sl=1;var t=Object.keys||function(l){var h=[];for(var d in l)h.push(d);return h};xa=o;var e=td(),r=Xh();Mt(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||V.process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),xa}var Ca={},xl;function Cl(){if(xl)return Ca;xl=1;var t=Er.Buffer,e=t.isEncoding||function(g){switch(g=""+g,g&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(g){if(!g)return"utf8";for(var E;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(E)return;g=(""+g).toLowerCase(),E=!0}}function n(g){var E=r(g);if(typeof E!="string"&&(t.isEncoding===e||!e(g)))throw new Error("Unknown encoding: "+g);return E||g}Ca.StringDecoder=i;function i(g){this.encoding=n(g);var E;switch(this.encoding){case"utf16le":this.text=d,this.end=b,E=4;break;case"utf8":this.fillLast=c,E=4;break;case"base64":this.text=v,this.end=w,E=3;break;default:this.write=C,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(E)}i.prototype.write=function(g){if(g.length===0)return"";var E,x;if(this.lastNeed){if(E=this.fillLast(g),E===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<g.length?E?E+this.text(g,x):this.text(g,x):E||""},i.prototype.end=h,i.prototype.text=l,i.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length};function s(g){return g<=127?0:g>>5===6?2:g>>4===14?3:g>>3===30?4:g>>6===2?-1:-2}function o(g,E,x){var M=E.length-1;if(M<x)return 0;var I=s(E[M]);return I>=0?(I>0&&(g.lastNeed=I-1),I):--M<x||I===-2?0:(I=s(E[M]),I>=0?(I>0&&(g.lastNeed=I-2),I):--M<x||I===-2?0:(I=s(E[M]),I>=0?(I>0&&(I===2?I=0:g.lastNeed=I-3),I):0))}function a(g,E,x){if((E[0]&192)!==128)return g.lastNeed=0,"";if(g.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return g.lastNeed=1,"";if(g.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return g.lastNeed=2,""}}function c(g){var E=this.lastTotal-this.lastNeed,x=a(this,g);if(x!==void 0)return x;if(this.lastNeed<=g.length)return g.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,E,0,g.length),this.lastNeed-=g.length}function l(g,E){var x=o(this,g,E);if(!this.lastNeed)return g.toString("utf8",E);this.lastTotal=x;var M=g.length-(x-this.lastNeed);return g.copy(this.lastChar,0,M),g.toString("utf8",E,M)}function h(g){var E=g&&g.length?this.write(g):"";return this.lastNeed?E+"":E}function d(g,E){if((g.length-E)%2===0){var x=g.toString("utf16le",E);if(x){var M=x.charCodeAt(x.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",E,g.length-1)}function b(g){var E=g&&g.length?this.write(g):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,x)}return E}function v(g,E){var x=(g.length-E)%3;return x===0?g.toString("base64",E):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",E,g.length-x))}function w(g){var E=g&&g.length?this.write(g):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function C(g){return g.toString(this.encoding)}function T(g){return g&&g.length?this.write(g):""}return Ca}var Il=qr.codes.ERR_STREAM_PREMATURE_CLOSE;function gv(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function yv(){}function vv(t){return t.setHeader&&typeof t.abort=="function"}function ed(t,e,r){if(typeof e=="function")return ed(t,null,e);e||(e={}),r=gv(r||yv);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,c=!0,i||r.call(t)},h=function(w){r.call(t,w)},d=function(){var w;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(w=new Il),r.call(t,w);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(w=new Il),r.call(t,w)},b=function(){t.req.on("finish",a)};return vv(t)?(t.on("complete",a),t.on("abort",d),t.req?b():t.on("request",b)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",h),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",b),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",h),t.removeListener("close",d)}}var zc=ed,Ia,Rl;function mv(){if(Rl)return Ia;Rl=1;var t;function e(x,M,I){return M=r(M),M in x?Object.defineProperty(x,M,{value:I,enumerable:!0,configurable:!0,writable:!0}):x[M]=I,x}function r(x){var M=n(x,"string");return typeof M=="symbol"?M:String(M)}function n(x,M){if(typeof x!="object"||x===null)return x;var I=x[Symbol.toPrimitive];if(I!==void 0){var B=I.call(x,M||"default");if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(x)}var i=zc,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function b(x,M){return{value:x,done:M}}function v(x){var M=x[s];if(M!==null){var I=x[d].read();I!==null&&(x[l]=null,x[s]=null,x[o]=null,M(b(I,!1)))}}function w(x){V.process.nextTick(v,x)}function C(x,M){return function(I,B){x.then(function(){if(M[c]){I(b(void 0,!0));return}M[h](I,B)},B)}}var T=Object.getPrototypeOf(function(){}),g=Object.setPrototypeOf((t={get stream(){return this[d]},next:function(){var M=this,I=this[a];if(I!==null)return Promise.reject(I);if(this[c])return Promise.resolve(b(void 0,!0));if(this[d].destroyed)return new Promise(function(D,X){V.process.nextTick(function(){M[a]?X(M[a]):D(b(void 0,!0))})});var B=this[l],z;if(B)z=new Promise(C(B,this));else{var W=this[d].read();if(W!==null)return Promise.resolve(b(W,!1));z=new Promise(this[h])}return this[l]=z,z}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var M=this;return new Promise(function(I,B){M[d].destroy(null,function(z){if(z){B(z);return}I(b(void 0,!0))})})}),t),T),E=function(M){var I,B=Object.create(g,(I={},e(I,d,{value:M,writable:!0}),e(I,s,{value:null,writable:!0}),e(I,o,{value:null,writable:!0}),e(I,a,{value:null,writable:!0}),e(I,c,{value:M._readableState.endEmitted,writable:!0}),e(I,h,{value:function(W,D){var X=B[d].read();X?(B[l]=null,B[s]=null,B[o]=null,W(b(X,!1))):(B[s]=W,B[o]=D)},writable:!0}),I));return B[l]=null,i(M,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var W=B[o];W!==null&&(B[l]=null,B[s]=null,B[o]=null,W(z)),B[a]=z;return}var D=B[s];D!==null&&(B[l]=null,B[s]=null,B[o]=null,D(b(void 0,!0))),B[c]=!0}),M.on("readable",w.bind(null,B)),B};return Ia=E,Ia}var Ra,Al;function _v(){return Al||(Al=1,Ra=function(){throw new Error("Readable.from is not available in the browser")}),Ra}var Aa,Tl;function td(){if(Tl)return Aa;Tl=1,Aa=D;var t;D.ReadableState=W,Tc.EventEmitter;var e=function(_,O){return _.listeners(O).length},r=Qh,n=di.Buffer,i=(typeof Q<"u"?Q:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(m){return n.from(m)}function o(m){return n.isBuffer(m)||m instanceof i}var a=kc,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=nv(),h=Zh,d=Kh,b=d.getHighWaterMark,v=qr.codes,w=v.ERR_INVALID_ARG_TYPE,C=v.ERR_STREAM_PUSH_AFTER_EOF,T=v.ERR_METHOD_NOT_IMPLEMENTED,g=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E,x,M;Mt(D,r);var I=h.errorOrDestroy,B=["error","close","destroy","pause","resume"];function z(m,_,O){if(typeof m.prependListener=="function")return m.prependListener(_,O);!m._events||!m._events[_]?m.on(_,O):Array.isArray(m._events[_])?m._events[_].unshift(O):m._events[_]=[O,m._events[_]]}function W(m,_,O){t=t||mn(),m=m||{},typeof O!="boolean"&&(O=_ instanceof t),this.objectMode=!!m.objectMode,O&&(this.objectMode=this.objectMode||!!m.readableObjectMode),this.highWaterMark=b(this,m,"readableHighWaterMark",O),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=m.emitClose!==!1,this.autoDestroy=!!m.autoDestroy,this.destroyed=!1,this.defaultEncoding=m.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,m.encoding&&(E||(E=Cl().StringDecoder),this.decoder=new E(m.encoding),this.encoding=m.encoding)}function D(m){if(t=t||mn(),!(this instanceof D))return new D(m);var _=this instanceof t;this._readableState=new W(m,this,_),this.readable=!0,m&&(typeof m.read=="function"&&(this._read=m.read),typeof m.destroy=="function"&&(this._destroy=m.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(_){this._readableState&&(this._readableState.destroyed=_)}}),D.prototype.destroy=h.destroy,D.prototype._undestroy=h.undestroy,D.prototype._destroy=function(m,_){_(m)},D.prototype.push=function(m,_){var O=this._readableState,j;return O.objectMode?j=!0:typeof m=="string"&&(_=_||O.defaultEncoding,_!==O.encoding&&(m=n.from(m,_),_=""),j=!0),X(this,m,_,!1,j)},D.prototype.unshift=function(m){return X(this,m,null,!0,!1)};function X(m,_,O,j,xe){c("readableAddChunk",_);var ue=m._readableState;if(_===null)ue.reading=!1,H(m,ue);else{var ge;if(xe||(ge=ne(ue,_)),ge)I(m,ge);else if(ue.objectMode||_&&_.length>0)if(typeof _!="string"&&!ue.objectMode&&Object.getPrototypeOf(_)!==n.prototype&&(_=s(_)),j)ue.endEmitted?I(m,new g):be(m,ue,_,!0);else if(ue.ended)I(m,new C);else{if(ue.destroyed)return!1;ue.reading=!1,ue.decoder&&!O?(_=ue.decoder.write(_),ue.objectMode||_.length!==0?be(m,ue,_,!1):Z(m,ue)):be(m,ue,_,!1)}else j||(ue.reading=!1,Z(m,ue))}return!ue.ended&&(ue.length<ue.highWaterMark||ue.length===0)}function be(m,_,O,j){_.flowing&&_.length===0&&!_.sync?(_.awaitDrain=0,m.emit("data",O)):(_.length+=_.objectMode?1:O.length,j?_.buffer.unshift(O):_.buffer.push(O),_.needReadable&&G(m)),Z(m,_)}function ne(m,_){var O;return!o(_)&&typeof _!="string"&&_!==void 0&&!m.objectMode&&(O=new w("chunk",["string","Buffer","Uint8Array"],_)),O}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(m){E||(E=Cl().StringDecoder);var _=new E(m);this._readableState.decoder=_,this._readableState.encoding=this._readableState.decoder.encoding;for(var O=this._readableState.buffer.head,j="";O!==null;)j+=_.write(O.data),O=O.next;return this._readableState.buffer.clear(),j!==""&&this._readableState.buffer.push(j),this._readableState.length=j.length,this};var P=1073741824;function $(m){return m>=P?m=P:(m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,m++),m}function U(m,_){return m<=0||_.length===0&&_.ended?0:_.objectMode?1:m!==m?_.flowing&&_.length?_.buffer.head.data.length:_.length:(m>_.highWaterMark&&(_.highWaterMark=$(m)),m<=_.length?m:_.ended?_.length:(_.needReadable=!0,0))}D.prototype.read=function(m){c("read",m),m=parseInt(m,10);var _=this._readableState,O=m;if(m!==0&&(_.emittedReadable=!1),m===0&&_.needReadable&&((_.highWaterMark!==0?_.length>=_.highWaterMark:_.length>0)||_.ended))return c("read: emitReadable",_.length,_.ended),_.length===0&&_.ended?F(this):G(this),null;if(m=U(m,_),m===0&&_.ended)return _.length===0&&F(this),null;var j=_.needReadable;c("need readable",j),(_.length===0||_.length-m<_.highWaterMark)&&(j=!0,c("length less than watermark",j)),_.ended||_.reading?(j=!1,c("reading or ended",j)):j&&(c("do read"),_.reading=!0,_.sync=!0,_.length===0&&(_.needReadable=!0),this._read(_.highWaterMark),_.sync=!1,_.reading||(m=U(O,_)));var xe;return m>0?xe=A(m,_):xe=null,xe===null?(_.needReadable=_.length<=_.highWaterMark,m=0):(_.length-=m,_.awaitDrain=0),_.length===0&&(_.ended||(_.needReadable=!0),O!==m&&_.ended&&F(this)),xe!==null&&this.emit("data",xe),xe};function H(m,_){if(c("onEofChunk"),!_.ended){if(_.decoder){var O=_.decoder.end();O&&O.length&&(_.buffer.push(O),_.length+=_.objectMode?1:O.length)}_.ended=!0,_.sync?G(m):(_.needReadable=!1,_.emittedReadable||(_.emittedReadable=!0,q(m)))}}function G(m){var _=m._readableState;c("emitReadable",_.needReadable,_.emittedReadable),_.needReadable=!1,_.emittedReadable||(c("emitReadable",_.flowing),_.emittedReadable=!0,V.process.nextTick(q,m))}function q(m){var _=m._readableState;c("emitReadable_",_.destroyed,_.length,_.ended),!_.destroyed&&(_.length||_.ended)&&(m.emit("readable"),_.emittedReadable=!1),_.needReadable=!_.flowing&&!_.ended&&_.length<=_.highWaterMark,R(m)}function Z(m,_){_.readingMore||(_.readingMore=!0,V.process.nextTick(oe,m,_))}function oe(m,_){for(;!_.reading&&!_.ended&&(_.length<_.highWaterMark||_.flowing&&_.length===0);){var O=_.length;if(c("maybeReadMore read 0"),m.read(0),O===_.length)break}_.readingMore=!1}D.prototype._read=function(m){I(this,new T("_read()"))},D.prototype.pipe=function(m,_){var O=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=m;break;case 1:j.pipes=[j.pipes,m];break;default:j.pipes.push(m);break}j.pipesCount+=1,c("pipe count=%d opts=%j",j.pipesCount,_);var xe=(!_||_.end!==!1)&&m!==V.process.stdout&&m!==V.process.stderr,ue=xe?xt:Bt;j.endEmitted?V.process.nextTick(ue):O.once("end",ue),m.on("unpipe",ge);function ge(p,u){c("onunpipe"),p===O&&u&&u.hasUnpiped===!1&&(u.hasUnpiped=!0,Zt())}function xt(){c("onend"),m.end()}var Qt=J(O);m.on("drain",Qt);var ar=!1;function Zt(){c("cleanup"),m.removeListener("close",cr),m.removeListener("finish",rt),m.removeListener("drain",Qt),m.removeListener("error",Lt),m.removeListener("unpipe",ge),O.removeListener("end",xt),O.removeListener("end",Bt),O.removeListener("data",Ye),ar=!0,j.awaitDrain&&(!m._writableState||m._writableState.needDrain)&&Qt()}O.on("data",Ye);function Ye(p){c("ondata");var u=m.write(p);c("dest.write",u),u===!1&&((j.pipesCount===1&&j.pipes===m||j.pipesCount>1&&ce(j.pipes,m)!==-1)&&!ar&&(c("false write response, pause",j.awaitDrain),j.awaitDrain++),O.pause())}function Lt(p){c("onerror",p),Bt(),m.removeListener("error",Lt),e(m,"error")===0&&I(m,p)}z(m,"error",Lt);function cr(){m.removeListener("finish",rt),Bt()}m.once("close",cr);function rt(){c("onfinish"),m.removeListener("close",cr),Bt()}m.once("finish",rt);function Bt(){c("unpipe"),O.unpipe(m)}return m.emit("pipe",O),j.flowing||(c("pipe resume"),O.resume()),m};function J(m){return function(){var O=m._readableState;c("pipeOnDrain",O.awaitDrain),O.awaitDrain&&O.awaitDrain--,O.awaitDrain===0&&e(m,"data")&&(O.flowing=!0,R(m))}}D.prototype.unpipe=function(m){var _=this._readableState,O={hasUnpiped:!1};if(_.pipesCount===0)return this;if(_.pipesCount===1)return m&&m!==_.pipes?this:(m||(m=_.pipes),_.pipes=null,_.pipesCount=0,_.flowing=!1,m&&m.emit("unpipe",this,O),this);if(!m){var j=_.pipes,xe=_.pipesCount;_.pipes=null,_.pipesCount=0,_.flowing=!1;for(var ue=0;ue<xe;ue++)j[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var ge=ce(_.pipes,m);return ge===-1?this:(_.pipes.splice(ge,1),_.pipesCount-=1,_.pipesCount===1&&(_.pipes=_.pipes[0]),m.emit("unpipe",this,O),this)},D.prototype.on=function(m,_){var O=r.prototype.on.call(this,m,_),j=this._readableState;return m==="data"?(j.readableListening=this.listenerCount("readable")>0,j.flowing!==!1&&this.resume()):m==="readable"&&!j.endEmitted&&!j.readableListening&&(j.readableListening=j.needReadable=!0,j.flowing=!1,j.emittedReadable=!1,c("on readable",j.length,j.reading),j.length?G(this):j.reading||V.process.nextTick(we,this)),O},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(m,_){var O=r.prototype.removeListener.call(this,m,_);return m==="readable"&&V.process.nextTick(re,this),O},D.prototype.removeAllListeners=function(m){var _=r.prototype.removeAllListeners.apply(this,arguments);return(m==="readable"||m===void 0)&&V.process.nextTick(re,this),_};function re(m){var _=m._readableState;_.readableListening=m.listenerCount("readable")>0,_.resumeScheduled&&!_.paused?_.flowing=!0:m.listenerCount("data")>0&&m.resume()}function we(m){c("readable nexttick read 0"),m.read(0)}D.prototype.resume=function(){var m=this._readableState;return m.flowing||(c("resume"),m.flowing=!m.readableListening,ve(this,m)),m.paused=!1,this};function ve(m,_){_.resumeScheduled||(_.resumeScheduled=!0,V.process.nextTick(Ue,m,_))}function Ue(m,_){c("resume",_.reading),_.reading||m.read(0),_.resumeScheduled=!1,m.emit("resume"),R(m),_.flowing&&!_.reading&&m.read(0)}D.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function R(m){var _=m._readableState;for(c("flow",_.flowing);_.flowing&&m.read()!==null;);}D.prototype.wrap=function(m){var _=this,O=this._readableState,j=!1;m.on("end",function(){if(c("wrapped end"),O.decoder&&!O.ended){var ge=O.decoder.end();ge&&ge.length&&_.push(ge)}_.push(null)}),m.on("data",function(ge){if(c("wrapped data"),O.decoder&&(ge=O.decoder.write(ge)),!(O.objectMode&&ge==null)&&!(!O.objectMode&&(!ge||!ge.length))){var xt=_.push(ge);xt||(j=!0,m.pause())}});for(var xe in m)this[xe]===void 0&&typeof m[xe]=="function"&&(this[xe]=function(xt){return function(){return m[xt].apply(m,arguments)}}(xe));for(var ue=0;ue<B.length;ue++)m.on(B[ue],this.emit.bind(this,B[ue]));return this._read=function(ge){c("wrapped _read",ge),j&&(j=!1,m.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=mv()),x(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(_){this._readableState&&(this._readableState.flowing=_)}}),D._fromList=A,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(m,_){if(_.length===0)return null;var O;return _.objectMode?O=_.buffer.shift():!m||m>=_.length?(_.decoder?O=_.buffer.join(""):_.buffer.length===1?O=_.buffer.first():O=_.buffer.concat(_.length),_.buffer.clear()):O=_.buffer.consume(m,_.decoder),O}function F(m){var _=m._readableState;c("endReadable",_.endEmitted),_.endEmitted||(_.ended=!0,V.process.nextTick(K,_,m))}function K(m,_){if(c("endReadableNT",m.endEmitted,m.length),!m.endEmitted&&m.length===0&&(m.endEmitted=!0,_.readable=!1,_.emit("end"),m.autoDestroy)){var O=_._writableState;(!O||O.autoDestroy&&O.finished)&&_.destroy()}}typeof Symbol=="function"&&(D.from=function(m,_){return M===void 0&&(M=_v()),M(D,m,_)});function ce(m,_){for(var O=0,j=m.length;O<j;O++)if(m[O]===_)return O;return-1}return Aa}var rd=nr,Ms=qr.codes,wv=Ms.ERR_METHOD_NOT_IMPLEMENTED,Ev=Ms.ERR_MULTIPLE_CALLBACK,Sv=Ms.ERR_TRANSFORM_ALREADY_TRANSFORMING,xv=Ms.ERR_TRANSFORM_WITH_LENGTH_0,Ns=mn();Mt(nr,Ns);function Cv(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Ev);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function nr(t){if(!(this instanceof nr))return new nr(t);Ns.call(this,t),this._transformState={afterTransform:Cv.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Iv)}function Iv(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){kl(t,e,r)}):kl(this,null,null)}nr.prototype.push=function(t,e){return this._transformState.needTransform=!1,Ns.prototype.push.call(this,t,e)};nr.prototype._transform=function(t,e,r){r(new wv("_transform()"))};nr.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};nr.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};nr.prototype._destroy=function(t,e){Ns.prototype._destroy.call(this,t,function(r){e(r)})};function kl(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new xv;if(t._transformState.transforming)throw new Sv;return t.push(null)}var Rv=oi,nd=rd;Mt(oi,nd);function oi(t){if(!(this instanceof oi))return new oi(t);nd.call(this,t)}oi.prototype._transform=function(t,e,r){r(null,t)};var Ta;function Av(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var id=qr.codes,Tv=id.ERR_MISSING_ARGS,kv=id.ERR_STREAM_DESTROYED;function Ml(t){if(t)throw t}function Mv(t){return t.setHeader&&typeof t.abort=="function"}function Nv(t,e,r,n){n=Av(n);var i=!1;t.on("close",function(){i=!0}),Ta===void 0&&(Ta=zc),Ta(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,Mv(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new kv("pipe"))}}}function Nl(t){t()}function Ov(t,e){return t.pipe(e)}function Lv(t){return!t.length||typeof t[t.length-1]!="function"?Ml:t.pop()}function Bv(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Lv(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Tv("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,l=a>0;return Nv(o,c,l,function(h){i||(i=h),h&&s.forEach(Nl),!c&&(s.forEach(Nl),n(i))})});return e.reduce(Ov)}var Pv=Bv;(function(t,e){e=t.exports=td(),e.Stream=e,e.Readable=e,e.Writable=Xh(),e.Duplex=mn(),e.Transform=rd,e.PassThrough=Rv,e.finished=zc,e.pipeline=Pv})(lc,lc.exports);var sd=lc.exports;const{Transform:$v}=sd;var Dv=t=>class od extends $v{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!V.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return V.Buffer.isBuffer(r)||(r=V.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new od(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:Fv}=sd;var jv=t=>class ad extends Fv{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!V.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return V.Buffer.isBuffer(r)||(r=V.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new ad(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const Uv=Dv,Wv=jv;var Hv=function(t){const e=Uv(t),r=Wv(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},cd={};const Ol=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];cd.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],h=t[8]^t[18]^t[28]^t[38]^t[48],d=t[9]^t[19]^t[29]^t[39]^t[49];let b=h^(i<<1|s>>>31),v=d^(s<<1|i>>>31);const w=t[0]^b,C=t[1]^v,T=t[10]^b,g=t[11]^v,E=t[20]^b,x=t[21]^v,M=t[30]^b,I=t[31]^v,B=t[40]^b,z=t[41]^v;b=r^(o<<1|a>>>31),v=n^(a<<1|o>>>31);const W=t[2]^b,D=t[3]^v,X=t[12]^b,be=t[13]^v,ne=t[22]^b,P=t[23]^v,$=t[32]^b,U=t[33]^v,H=t[42]^b,G=t[43]^v;b=i^(c<<1|l>>>31),v=s^(l<<1|c>>>31);const q=t[4]^b,Z=t[5]^v,oe=t[14]^b,J=t[15]^v,re=t[24]^b,we=t[25]^v,ve=t[34]^b,Ue=t[35]^v,R=t[44]^b,A=t[45]^v;b=o^(h<<1|d>>>31),v=a^(d<<1|h>>>31);const F=t[6]^b,K=t[7]^v,ce=t[16]^b,m=t[17]^v,_=t[26]^b,O=t[27]^v,j=t[36]^b,xe=t[37]^v,ue=t[46]^b,ge=t[47]^v;b=c^(r<<1|n>>>31),v=l^(n<<1|r>>>31);const xt=t[8]^b,Qt=t[9]^v,ar=t[18]^b,Zt=t[19]^v,Ye=t[28]^b,Lt=t[29]^v,cr=t[38]^b,rt=t[39]^v,Bt=t[48]^b,p=t[49]^v,u=w,f=C,y=g<<4|T>>>28,S=T<<4|g>>>28,k=E<<3|x>>>29,N=x<<3|E>>>29,ae=I<<9|M>>>23,Re=M<<9|I>>>23,Se=B<<18|z>>>14,Ae=z<<18|B>>>14,_e=W<<1|D>>>31,Io=D<<1|W>>>31,Ro=be<<12|X>>>20,Ao=X<<12|be>>>20,To=ne<<10|P>>>22,ko=P<<10|ne>>>22,Mo=U<<13|$>>>19,No=$<<13|U>>>19,Oo=H<<2|G>>>30,Lo=G<<2|H>>>30,Bo=Z<<30|q>>>2,Po=q<<30|Z>>>2,$o=oe<<6|J>>>26,Do=J<<6|oe>>>26,Fo=we<<11|re>>>21,jo=re<<11|we>>>21,Uo=ve<<15|Ue>>>17,Wo=Ue<<15|ve>>>17,Ho=A<<29|R>>>3,Vo=R<<29|A>>>3,zo=F<<28|K>>>4,qo=K<<28|F>>>4,Go=m<<23|ce>>>9,Jo=ce<<23|m>>>9,Qo=_<<25|O>>>7,Zo=O<<25|_>>>7,Yo=j<<21|xe>>>11,Ko=xe<<21|j>>>11,Xo=ge<<24|ue>>>8,ea=ue<<24|ge>>>8,ta=xt<<27|Qt>>>5,ra=Qt<<27|xt>>>5,na=ar<<20|Zt>>>12,ia=Zt<<20|ar>>>12,sa=Lt<<7|Ye>>>25,oa=Ye<<7|Lt>>>25,aa=cr<<8|rt>>>24,ca=rt<<8|cr>>>24,ua=Bt<<14|p>>>18,la=p<<14|Bt>>>18;t[0]=u^~Ro&Fo,t[1]=f^~Ao&jo,t[10]=zo^~na&k,t[11]=qo^~ia&N,t[20]=_e^~$o&Qo,t[21]=Io^~Do&Zo,t[30]=ta^~y&To,t[31]=ra^~S&ko,t[40]=Bo^~Go&sa,t[41]=Po^~Jo&oa,t[2]=Ro^~Fo&Yo,t[3]=Ao^~jo&Ko,t[12]=na^~k&Mo,t[13]=ia^~N&No,t[22]=$o^~Qo&aa,t[23]=Do^~Zo&ca,t[32]=y^~To&Uo,t[33]=S^~ko&Wo,t[42]=Go^~sa&ae,t[43]=Jo^~oa&Re,t[4]=Fo^~Yo&ua,t[5]=jo^~Ko&la,t[14]=k^~Mo&Ho,t[15]=N^~No&Vo,t[24]=Qo^~aa&Se,t[25]=Zo^~ca&Ae,t[34]=To^~Uo&Xo,t[35]=ko^~Wo&ea,t[44]=sa^~ae&Oo,t[45]=oa^~Re&Lo,t[6]=Yo^~ua&u,t[7]=Ko^~la&f,t[16]=Mo^~Ho&zo,t[17]=No^~Vo&qo,t[26]=aa^~Se&_e,t[27]=ca^~Ae&Io,t[36]=Uo^~Xo&ta,t[37]=Wo^~ea&ra,t[46]=ae^~Oo&Bo,t[47]=Re^~Lo&Po,t[8]=ua^~u&Ro,t[9]=la^~f&Ao,t[18]=Ho^~zo&na,t[19]=Vo^~qo&ia,t[28]=Se^~_e&$o,t[29]=Ae^~Io&Do,t[38]=Xo^~ta&y,t[39]=ea^~ra&S,t[48]=Oo^~Bo&Go,t[49]=Lo^~Po&Jo,t[0]^=Ol[e*2],t[1]^=Ol[e*2+1]}};const fs=cd;function Bn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Bn.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Bn.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(fs.p1600(this.state),this.count=0)};Bn.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&fs.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),fs.p1600(this.state),this.count=0,this.squeezing=!0};Bn.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=V.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(fs.p1600(this.state),this.count=0);return e};Bn.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var Vv=Bn,zv=Hv(Vv);const qv=zv,Gv=ws;function ud(t){return V.Buffer.allocUnsafe(t).fill(0)}function ld(t,e,r){const n=ud(e);return t=Os(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Jv(t,e){return ld(t,e,!0)}function Os(t){if(!V.Buffer.isBuffer(t))if(Array.isArray(t))t=V.Buffer.from(t);else if(typeof t=="string")fd(t)?t=V.Buffer.from(Yv(hd(t)),"hex"):t=V.Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=V.Buffer.allocUnsafe(0);else if(Gv.isBN(t))t=t.toArrayLike(V.Buffer);else if(t.toArray)t=V.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Qv(t){return t=Os(t),"0x"+t.toString("hex")}function Zv(t,e){return t=Os(t),e||(e=256),qv("keccak"+e).update(t).digest()}function Yv(t){return t.length%2?"0"+t:t}function fd(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function hd(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var dd={zeros:ud,setLength:ld,setLengthRight:Jv,isHexString:fd,stripHexPrefix:hd,toBuffer:Os,bufferToHex:Qv,keccak:Zv};const Dr=dd,Or=ws;function pd(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function ln(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Ll(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function bd(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Ar(t){var e=typeof t;if(e==="string")return Dr.isHexString(t)?new Or(Dr.stripHexPrefix(t),16):new Or(t,10);if(e==="number")return new Or(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function jt(t,e){var r,n,i,s;if(t==="address")return jt("uint160",Ar(e));if(t==="bool")return jt("uint8",e?1:0);if(t==="string")return jt("bytes",new V.Buffer(e,"utf8"));if(Xv(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=bd(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(jt(t,e[s]));if(r==="dynamic"){var o=jt("uint256",e.length);i.unshift(o)}return V.Buffer.concat(i)}else{if(t==="bytes")return e=new V.Buffer(e),i=V.Buffer.concat([jt("uint256",e.length),e]),e.length%32!==0&&(i=V.Buffer.concat([i,Dr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=ln(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Dr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=ln(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ar(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(V.Buffer,"be",32)}else if(t.startsWith("int")){if(r=ln(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ar(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(V.Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Ll(t),n=Ar(e),n<0)throw new Error("Supplied ufixed is negative");return jt("uint256",n.mul(new Or(2).pow(new Or(r[1]))))}else if(t.startsWith("fixed"))return r=Ll(t),jt("int256",Ar(e).mul(new Or(2).pow(new Or(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Kv(t){return t==="string"||t==="bytes"||bd(t)==="dynamic"}function Xv(t){return t.lastIndexOf("]")===t.length-1}function e1(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=pd(t[s]),a=e[s],c=jt(o,a);Kv(o)?(r.push(jt("uint256",i)),n.push(c),i+=c.length):r.push(c)}return V.Buffer.concat(r.concat(n))}function gd(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=pd(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new V.Buffer(a,"utf8"));else if(o==="bool")i.push(new V.Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Dr.setLength(a,20));else if(o.startsWith("bytes")){if(r=ln(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Dr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=ln(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ar(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(V.Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=ln(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ar(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(V.Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return V.Buffer.concat(i)}function t1(t,e){return Dr.keccak(gd(t,e))}var r1={rawEncode:e1,solidityPack:gd,soliditySHA3:t1};const Rt=dd,Xn=r1,yd={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},ka={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Rt.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Rt.keccak(l)];if(c==="string")return typeof l=="string"&&(l=V.Buffer.from(l,"utf8")),["bytes32",Rt.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const h=c.slice(0,c.lastIndexOf("[")),d=l.map(b=>o(a,h,b));return["bytes32",Rt.keccak(Xn.rawEncode(d.map(([b])=>b),d.map(([,b])=>b)))]}return[c,l]};for(const a of r[t]){const[c,l]=o(a.name,a.type,e[a.name]);i.push(c),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Rt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=V.Buffer.from(a,"utf8")),a=Rt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Rt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Xn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Rt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Rt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in yd.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[V.Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Rt.keccak(V.Buffer.concat(n))}};var n1={TYPED_MESSAGE_SCHEMA:yd,TypedDataUtils:ka,hashForSignTypedDataLegacy:function(t){return i1(t.data)},hashForSignTypedData_v3:function(t){return ka.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return ka.hash(t.data)}};function i1(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Rt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Xn.soliditySHA3(["bytes32","bytes32"],[Xn.soliditySHA3(new Array(t.length).fill("string"),i),Xn.soliditySHA3(n,r)])}var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.filterFromParam=_n.FilterPolyfill=void 0;const sn=mi,nt=Y,s1=5*60*1e3,Tr={jsonrpc:"2.0",id:0};class o1{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,sn.IntNumber)(1),this.provider=e}async newFilter(e){const r=vd(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,nt.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,nt.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,nt.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,nt.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,nt.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Wi())}async getFilterLogs(e){const r=(0,nt.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Tr),{method:"eth_getLogs",params:[Bl(n)]})):Wi()}makeFilterId(){return(0,sn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Wi();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Hi();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Tr),{method:"eth_getLogs",params:[Bl(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,nt.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const l=(0,sn.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Wi();const n=await this.getCurrentBlockHeight();if(r>n)return Hi();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,nt.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,sn.IntNumber)(o))))).filter(o=>!!o),s=(0,sn.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Tr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Hi())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},s1);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Tr),{method:"eth_blockNumber",params:[]}));return(0,nt.intNumberFromHexString)((0,nt.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Tr),{method:"eth_getBlockByNumber",params:[(0,nt.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,nt.ensureHexString)(r.result.hash):null}}_n.FilterPolyfill=o1;function vd(t){return{fromBlock:Pl(t.fromBlock),toBlock:Pl(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}_n.filterFromParam=vd;function Bl(t){const e={fromBlock:$l(t.fromBlock),toBlock:$l(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Pl(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,sn.IntNumber)(0);if((0,nt.isHexString)(t))return(0,nt.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function $l(t){return t==="latest"?t:(0,nt.hexStringFromIntNumber)(t)}function Wi(){return Object.assign(Object.assign({},Tr),{error:{code:-32e3,message:"filter not found"}})}function Hi(){return Object.assign(Object.assign({},Tr),{result:[]})}var md={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(md);var Ls={},_d={},Bs={},qc=a1;function a1(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Dl=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)c[l-1]=arguments[l];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var c1=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Dl(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Dl(s,e):s}return n},Ei={},u1=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.BaseBlockTracker=void 0;const l1=u1(Hr),f1=1e3,h1=(t,e)=>t+e,Fl=["sync","latest"];class d1 extends l1.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*f1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){Fl.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return Fl.map(e=>this.listenerCount(e)).reduce(h1)}_newPotentialLatest(e){const r=this._currentBlock;r&&jl(e)<=jl(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}Ei.BaseBlockTracker=d1;function jl(t){return Number.parseInt(t,16)}var wd={},Ed={},Ze={};class Sd extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function p1(t){return wt(t)&&typeof t[Symbol.iterator]=="function"}function wt(t){return typeof t=="object"&&t!=null}function Ul(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function je(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function b1(t){const{done:e,value:r}=t.next();return e?void 0:r}function g1(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${je(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*hc(t,e,r,n){p1(t)||(t=[t]);for(const i of t){const s=g1(i,e,r,n);s&&(yield s)}}function*Gc(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&wt(e.schema)&&wt(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let c="valid";for(const l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,h,d]of e.entries(t,a)){const b=Gc(h,d,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,h],coerce:s,mask:o,message:r.message});for(const v of b)v[0]?(c=v[0].refinement!=null?"not_refined":"not_valid",yield[v[0],void 0]):s&&(h=v[1],l===void 0?t=h:t instanceof Map?t.set(l,h):t instanceof Set?t.add(h):wt(t)&&(h!==void 0||l in t)&&(t[l]=h))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}class $e{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const h=i(c,l);return hc(h,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const h=s(c,l);return hc(h,l,this,c)}:this.refiner=()=>[]}assert(e,r){return xd(e,this,r)}create(e,r){return Cd(e,this,r)}is(e){return Jc(e,this)}mask(e,r){return Id(e,this,r)}validate(e,r={}){return Pn(e,this,r)}}function xd(t,e,r){const n=Pn(t,e,{message:r});if(n[0])throw n[0]}function Cd(t,e,r){const n=Pn(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Id(t,e,r){const n=Pn(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Jc(t,e){return!Pn(t,e)[0]}function Pn(t,e,r={}){const n=Gc(t,e,r),i=b1(n);return i[0]?[new Sd(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function y1(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Zc(n):Si(n)}function ut(t,e){return new $e({type:t,schema:null,validator:e})}function v1(t,e){return new $e({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function m1(t){return new $e({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function _1(t){let e;return new $e({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function w1(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Zc(n);default:return Si(n)}}function E1(t){const e=t instanceof $e?{...t.schema}:{...t};for(const r in e)e[r]=Rd(e[r]);return Si(e)}function S1(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return Si(n)}function x1(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),ut(t,e)}function C1(){return ut("any",()=>!0)}function I1(t){return new $e({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${je(e)}`}})}function R1(){return ut("bigint",t=>typeof t=="bigint")}function A1(){return ut("boolean",t=>typeof t=="boolean")}function T1(){return ut("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${je(t)}`)}function k1(t){const e={},r=t.map(n=>je(n)).join();for(const n of t)e[n]=n;return new $e({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${je(n)}`}})}function M1(){return ut("func",t=>typeof t=="function"||`Expected a function, but received: ${je(t)}`)}function N1(t){return ut("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${je(e)}`)}function O1(){return ut("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${je(t)}`)}function L1(t){return new $e({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function B1(t){const e=je(t),r=typeof t;return new $e({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${je(n)}`}})}function P1(t,e){return new $e({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${je(r)}`}})}function Qc(){return ut("never",()=>!1)}function $1(t){return new $e({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function D1(){return ut("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${je(t)}`)}function Si(t){const e=t?Object.keys(t):[],r=Qc();return new $e({type:"object",schema:t||null,*entries(n){if(t&&wt(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return wt(n)||`Expected an object, but received: ${je(n)}`},coercer(n){return wt(n)?{...n}:n}})}function Rd(t){return new $e({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function F1(t,e){return new $e({type:"record",schema:null,*entries(r){if(wt(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return wt(r)||`Expected an object, but received: ${je(r)}`}})}function j1(){return ut("regexp",t=>t instanceof RegExp)}function U1(t){return new $e({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${je(e)}`}})}function Ad(){return ut("string",t=>typeof t=="string"||`Expected a string, but received: ${je(t)}`)}function W1(t){const e=Qc();return new $e({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${je(r)}`}})}function Zc(t){const e=Object.keys(t);return new $e({type:"type",schema:t,*entries(r){if(wt(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return wt(r)||`Expected an object, but received: ${je(r)}`},coercer(r){return wt(r)?{...r}:r}})}function H1(t){const e=t.map(r=>r.type).join(" | ");return new $e({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=Gc(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${je(r)}`,...i]}})}function Td(){return ut("unknown",()=>!0)}function Yc(t,e,r){return new $e({...t,coercer:(n,i)=>Jc(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function V1(t,e,r={}){return Yc(t,Td(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&Ul(n)&&Ul(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function z1(t){return Yc(t,Ad(),e=>e.trim())}function q1(t){return Gr(t,"empty",e=>{const r=kd(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function kd(t){return t instanceof Map||t instanceof Set?t.size:t.length}function G1(t,e,r={}){const{exclusive:n}=r;return Gr(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function J1(t,e,r={}){const{exclusive:n}=r;return Gr(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Q1(t){return Gr(t,"nonempty",e=>kd(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function Z1(t,e){return Gr(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function Y1(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return Gr(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Gr(t,e,r){return new $e({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=hc(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const K1=Object.freeze(Object.defineProperty({__proto__:null,Struct:$e,StructError:Sd,any:C1,array:I1,assert:xd,assign:y1,bigint:R1,boolean:A1,coerce:Yc,create:Cd,date:T1,defaulted:V1,define:ut,deprecated:v1,dynamic:m1,empty:q1,enums:k1,func:M1,instance:N1,integer:O1,intersection:L1,is:Jc,lazy:_1,literal:B1,map:P1,mask:Id,max:G1,min:J1,never:Qc,nonempty:Q1,nullable:$1,number:D1,object:Si,omit:w1,optional:Rd,partial:E1,pattern:Z1,pick:S1,record:F1,refine:Gr,regexp:j1,set:U1,size:Y1,string:Ad,struct:x1,trimmed:z1,tuple:W1,type:Zc,union:H1,unknown:Td,validate:Pn},Symbol.toStringTag,{value:"Module"})),Jr=Wr(K1);Object.defineProperty(Ze,"__esModule",{value:!0});Ze.assertExhaustive=Ze.assertStruct=Ze.assert=Ze.AssertionError=void 0;const X1=Jr;function em(t){return typeof t=="object"&&t!==null&&"message"in t}function tm(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function rm(t){const e=em(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Md(t,e){return tm(t)?new t({message:e}):t({message:e})}class Kc extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}Ze.AssertionError=Kc;function nm(t,e="Assertion failed.",r=Kc){if(!t)throw e instanceof Error?e:Md(r,e)}Ze.assert=nm;function im(t,e,r="Assertion failed",n=Kc){try{(0,X1.assert)(t,e)}catch(i){throw Md(n,`${r}: ${rm(i)}.`)}}Ze.assertStruct=im;function sm(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}Ze.assertExhaustive=sm;var xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.base64=void 0;const om=Jr,am=Ze,cm=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,am.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,om.pattern)(t,a)};xi.base64=cm;var ye={},Ci={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Jr,r=Ze;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(l){return(0,e.is)(l,t.HexStruct)}t.isHexString=n;function i(l){return(0,e.is)(l,t.StrictHexStruct)}t.isStrictHexString=i;function s(l){(0,r.assert)(n(l),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(l){(0,r.assert)(i(l),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}t.add0x=a;function c(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}t.remove0x=c})(Ci);Object.defineProperty(ye,"__esModule",{value:!0});ye.createDataView=ye.concatBytes=ye.valueToBytes=ye.stringToBytes=ye.numberToBytes=ye.signedBigIntToBytes=ye.bigIntToBytes=ye.hexToBytes=ye.bytesToString=ye.bytesToNumber=ye.bytesToSignedBigInt=ye.bytesToBigInt=ye.bytesToHex=ye.assertIsBytes=ye.isBytes=void 0;const ft=Ze,dc=Ci,Wl=48,Hl=58,Vl=87;function um(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const lm=um();function Xc(t){return t instanceof Uint8Array}ye.isBytes=Xc;function $n(t){(0,ft.assert)(Xc(t),"Value must be a Uint8Array.")}ye.assertIsBytes=$n;function Nd(t){if($n(t),t.length===0)return"0x";const e=lm(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,dc.add0x)(r.join(""))}ye.bytesToHex=Nd;function Od(t){$n(t);const e=Nd(t);return BigInt(e)}ye.bytesToBigInt=Od;function fm(t){$n(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}ye.bytesToSignedBigInt=fm;function hm(t){$n(t);const e=Od(t);return(0,ft.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}ye.bytesToNumber=hm;function dm(t){return $n(t),new TextDecoder().decode(t)}ye.bytesToString=dm;function Ps(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,dc.assertIsHexString)(t);const r=(0,dc.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<Hl?Wl:Vl),l=a-(a<Hl?Wl:Vl);i[s]=c*16+l}return i}ye.hexToBytes=Ps;function Ld(t){(0,ft.assert)(typeof t=="bigint","Value must be a bigint."),(0,ft.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Ps(e)}ye.bigIntToBytes=Ld;function pm(t,e){(0,ft.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function bm(t,e){(0,ft.assert)(typeof t=="bigint","Value must be a bigint."),(0,ft.assert)(typeof e=="number","Byte length must be a number."),(0,ft.assert)(e>0,"Byte length must be greater than 0."),(0,ft.assert)(pm(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}ye.signedBigIntToBytes=bm;function Bd(t){(0,ft.assert)(typeof t=="number","Value must be a number."),(0,ft.assert)(t>=0,"Value must be a non-negative number."),(0,ft.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Ps(e)}ye.numberToBytes=Bd;function Pd(t){return(0,ft.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}ye.stringToBytes=Pd;function $d(t){if(typeof t=="bigint")return Ld(t);if(typeof t=="number")return Bd(t);if(typeof t=="string")return t.startsWith("0x")?Ps(t):Pd(t);if(Xc(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}ye.valueToBytes=$d;function gm(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=$d(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}ye.concatBytes=gm;function ym(t){if(typeof V.Buffer<"u"&&t instanceof V.Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}ye.createDataView=ym;var $s={};Object.defineProperty($s,"__esModule",{value:!0});$s.ChecksumStruct=void 0;const zl=Jr,vm=xi;$s.ChecksumStruct=(0,zl.size)((0,vm.base64)((0,zl.string)(),{paddingRequired:!0}),44,44);var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.createHex=Vt.createBytes=Vt.createBigInt=Vt.createNumber=void 0;const Ne=Jr,mm=Ze,Dd=ye,Ds=Ci,Fd=(0,Ne.union)([(0,Ne.number)(),(0,Ne.bigint)(),(0,Ne.string)(),Ds.StrictHexStruct]),_m=(0,Ne.coerce)((0,Ne.number)(),Fd,Number),wm=(0,Ne.coerce)((0,Ne.bigint)(),Fd,BigInt);(0,Ne.union)([Ds.StrictHexStruct,(0,Ne.instance)(Uint8Array)]);const Em=(0,Ne.coerce)((0,Ne.instance)(Uint8Array),(0,Ne.union)([Ds.StrictHexStruct]),Dd.hexToBytes),Sm=(0,Ne.coerce)(Ds.StrictHexStruct,(0,Ne.instance)(Uint8Array),Dd.bytesToHex);function xm(t){try{const e=(0,Ne.create)(t,_m);return(0,mm.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof Ne.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}Vt.createNumber=xm;function Cm(t){try{return(0,Ne.create)(t,wm)}catch(e){throw e instanceof Ne.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}Vt.createBigInt=Cm;function Im(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,Ne.create)(t,Em)}catch(e){throw e instanceof Ne.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Vt.createBytes=Im;function Rm(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,Ne.create)(t,Sm)}catch(e){throw e instanceof Ne.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}Vt.createHex=Rm;var wn={},jd=Q&&Q.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},it=Q&&Q.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ct,$t;Object.defineProperty(wn,"__esModule",{value:!0});wn.FrozenSet=wn.FrozenMap=void 0;class eu{constructor(e){Ct.set(this,void 0),jd(this,Ct,new Map(e),"f"),Object.freeze(this)}get size(){return it(this,Ct,"f").size}[(Ct=new WeakMap,Symbol.iterator)](){return it(this,Ct,"f")[Symbol.iterator]()}entries(){return it(this,Ct,"f").entries()}forEach(e,r){return it(this,Ct,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return it(this,Ct,"f").get(e)}has(e){return it(this,Ct,"f").has(e)}keys(){return it(this,Ct,"f").keys()}values(){return it(this,Ct,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}wn.FrozenMap=eu;class tu{constructor(e){$t.set(this,void 0),jd(this,$t,new Set(e),"f"),Object.freeze(this)}get size(){return it(this,$t,"f").size}[($t=new WeakMap,Symbol.iterator)](){return it(this,$t,"f")[Symbol.iterator]()}entries(){return it(this,$t,"f").entries()}forEach(e,r){return it(this,$t,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return it(this,$t,"f").has(e)}keys(){return it(this,$t,"f").keys()}values(){return it(this,$t,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}wn.FrozenSet=tu;Object.freeze(eu);Object.freeze(eu.prototype);Object.freeze(tu);Object.freeze(tu.prototype);var Ud={},ru={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(l){return Array.isArray(l)&&l.length>0}t.isNonEmptyArray=e;function r(l){return l==null}t.isNullOrUndefined=r;function n(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}t.isObject=n;const i=(l,h)=>Object.hasOwnProperty.call(l,h);t.hasProperty=i,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(l){if(typeof l!="object"||l===null)return!1;try{let h=l;for(;Object.getPrototypeOf(h)!==null;)h=Object.getPrototypeOf(h);return Object.getPrototypeOf(l)===h}catch{return!1}}t.isPlainObject=s;function o(l){return l.charCodeAt(0)<=127}t.isASCII=o;function a(l){var h;return l.split("").reduce((b,v)=>o(v)?b+1:b+2,0)+((h=l.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&h!==void 0?h:[]).length}t.calculateStringSize=a;function c(l){return l.toString().length}t.calculateNumberSize=c})(ru);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=Jr,r=Ze,n=ru;t.JsonStruct=(0,e.define)("Json",I=>{const[B]=M(I,!0);return B?!0:"Expected a valid JSON-serializable value"});function i(I){return(0,e.is)(I,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(I){return(0,e.is)(I,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(I,B){(0,r.assertStruct)(I,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",B)}t.assertIsJsonRpcNotification=o;function a(I){return(0,e.is)(I,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(I,B){(0,r.assertStruct)(I,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",B)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function l(I){return(0,e.is)(I,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=l;function h(I,B){(0,r.assertStruct)(I,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",B)}t.assertIsPendingJsonRpcResponse=h;function d(I){return(0,e.is)(I,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=d;function b(I,B){(0,r.assertStruct)(I,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",B)}t.assertIsJsonRpcResponse=b;function v(I){return(0,e.is)(I,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=v;function w(I,B){(0,r.assertStruct)(I,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",B)}t.assertIsJsonRpcSuccess=w;function C(I){return(0,e.is)(I,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=C;function T(I,B){(0,r.assertStruct)(I,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",B)}t.assertIsJsonRpcFailure=T;function g(I){return(0,e.is)(I,t.JsonRpcErrorStruct)}t.isJsonRpcError=g;function E(I,B){(0,r.assertStruct)(I,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",B)}t.assertIsJsonRpcError=E;function x(I){const{permitEmptyString:B,permitFractions:z,permitNull:W}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},I);return X=>!!(typeof X=="number"&&(z||Number.isInteger(X))||typeof X=="string"&&(B||X.length>0)||W&&X===null)}t.getJsonRpcIdValidator=x;function M(I,B=!1){const z=new Set;function W(D,X){if(D===void 0)return[!1,0];if(D===null)return[!0,X?0:n.JsonSize.Null];const be=typeof D;try{if(be==="function")return[!1,0];if(be==="string"||D instanceof String)return[!0,X?0:(0,n.calculateStringSize)(D)+n.JsonSize.Quote*2];if(be==="boolean"||D instanceof Boolean)return X?[!0,0]:[!0,D==!0?n.JsonSize.True:n.JsonSize.False];if(be==="number"||D instanceof Number)return X?[!0,0]:[!0,(0,n.calculateNumberSize)(D)];if(D instanceof Date)return X?[!0,0]:[!0,isNaN(D.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(D)&&!Array.isArray(D))return[!1,0];if(z.has(D))return[!1,0];z.add(D);try{return[!0,Object.entries(D).reduce((ne,[P,$],U,H)=>{let[G,q]=W($,X);if(!G)throw new Error("JSON validation did not pass. Validation process stopped.");if(z.delete(D),X)return 0;const Z=Array.isArray(D)?0:P.length+n.JsonSize.Comma+n.JsonSize.Colon*2,oe=U<H.length-1?n.JsonSize.Comma:0;return ne+Z+q+oe},X?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return W(I,B)}t.validateJsonAndGetSize=M})(Ud);var En={},pc={exports:{}},Ma,ql;function Am(){if(ql)return Ma;ql=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Ma=function(h,d){d=d||{};var b=typeof h;if(b==="string"&&h.length>0)return o(h);if(b==="number"&&isFinite(h))return d.long?c(h):a(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function o(h){if(h=String(h),!(h.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(d){var b=parseFloat(d[1]),v=(d[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return b*s;case"weeks":case"week":case"w":return b*i;case"days":case"day":case"d":return b*n;case"hours":case"hour":case"hrs":case"hr":case"h":return b*r;case"minutes":case"minute":case"mins":case"min":case"m":return b*e;case"seconds":case"second":case"secs":case"sec":case"s":return b*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function a(h){var d=Math.abs(h);return d>=n?Math.round(h/n)+"d":d>=r?Math.round(h/r)+"h":d>=e?Math.round(h/e)+"m":d>=t?Math.round(h/t)+"s":h+"ms"}function c(h){var d=Math.abs(h);return d>=n?l(h,d,n,"day"):d>=r?l(h,d,r,"hour"):d>=e?l(h,d,e,"minute"):d>=t?l(h,d,t,"second"):h+" ms"}function l(h,d,b,v){var w=d>=b*1.5;return Math.round(h/b)+" "+v+(w?"s":"")}return Ma}function Tm(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Am(),r.destroy=l,Object.keys(t).forEach(h=>{r[h]=t[h]}),r.names=[],r.skips=[],r.formatters={};function e(h){let d=0;for(let b=0;b<h.length;b++)d=(d<<5)-d+h.charCodeAt(b),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(h){let d,b=null,v,w;function C(...T){if(!C.enabled)return;const g=C,E=Number(new Date),x=E-(d||E);g.diff=x,g.prev=d,g.curr=E,d=E,T[0]=r.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let M=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(B,z)=>{if(B==="%%")return"%";M++;const W=r.formatters[z];if(typeof W=="function"){const D=T[M];B=W.call(g,D),T.splice(M,1),M--}return B}),r.formatArgs.call(g,T),(g.log||r.log).apply(g,T)}return C.namespace=h,C.useColors=r.useColors(),C.color=r.selectColor(h),C.extend=n,C.destroy=r.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:()=>b!==null?b:(v!==r.namespaces&&(v=r.namespaces,w=r.enabled(h)),w),set:T=>{b=T}}),typeof r.init=="function"&&r.init(C),C}function n(h,d){const b=r(this.namespace+(typeof d>"u"?":":d)+h);return b.log=this.log,b}function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let d;const b=(typeof h=="string"?h:"").split(/[\s,]+/),v=b.length;for(d=0;d<v;d++)b[d]&&(h=b[d].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}function s(){const h=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),h}function o(h){if(h[h.length-1]==="*")return!0;let d,b;for(d=0,b=r.skips.length;d<b;d++)if(r.skips[d].test(h))return!1;for(d=0,b=r.names.length;d<b;d++)if(r.names[d].test(h))return!0;return!1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function c(h){return h instanceof Error?h.stack||h.message:h}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var km=Tm;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let h=0,d=0;c[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(h++,b==="%c"&&(d=h))}),c.splice(d,0,l)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof V.process<"u"&&"env"in V.process&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=km(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(pc,pc.exports);var Mm=pc.exports,Nm=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(En,"__esModule",{value:!0});En.createModuleLogger=En.createProjectLogger=void 0;const Om=Nm(Mm),Lm=(0,Om.default)("metamask");function Bm(t){return Lm.extend(t)}En.createProjectLogger=Bm;function Pm(t,e){return t.extend(e)}En.createModuleLogger=Pm;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.hexToBigInt=zt.hexToNumber=zt.bigIntToHex=zt.numberToHex=void 0;const fn=Ze,ai=Ci,$m=t=>((0,fn.assert)(typeof t=="number","Value must be a number."),(0,fn.assert)(t>=0,"Value must be a non-negative number."),(0,fn.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,ai.add0x)(t.toString(16)));zt.numberToHex=$m;const Dm=t=>((0,fn.assert)(typeof t=="bigint","Value must be a bigint."),(0,fn.assert)(t>=0,"Value must be a non-negative bigint."),(0,ai.add0x)(t.toString(16)));zt.bigIntToHex=Dm;const Fm=t=>{(0,ai.assertIsHexString)(t);const e=parseInt(t,16);return(0,fn.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};zt.hexToNumber=Fm;const jm=t=>((0,ai.assertIsHexString)(t),BigInt((0,ai.add0x)(t)));zt.hexToBigInt=jm;var Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});var Hd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Hd);var Vd={},bc={exports:{}};const Um="2.0.0",zd=256,Wm=Number.MAX_SAFE_INTEGER||9007199254740991,Hm=16,Vm=zd-6,zm=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Fs={MAX_LENGTH:zd,MAX_SAFE_COMPONENT_LENGTH:Hm,MAX_SAFE_BUILD_LENGTH:Vm,MAX_SAFE_INTEGER:Wm,RELEASE_TYPES:zm,SEMVER_SPEC_VERSION:Um,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const qm=typeof V.process=="object"&&V.process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var js=qm;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Fs,s=js;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],l=e.t={};let h=0;const d="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",i],[d,n]],v=C=>{for(const[T,g]of b)C=C.split(`${T}*`).join(`${T}{0,${g}}`).split(`${T}+`).join(`${T}{1,${g}}`);return C},w=(C,T,g)=>{const E=v(T),x=h++;s(C,x,T),l[C]=x,c[x]=T,o[x]=new RegExp(T,g?"g":void 0),a[x]=new RegExp(E,g?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),w("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),w("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${d}+`),w("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),w("FULL",`^${c[l.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),w("LOOSE",`^${c[l.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),w("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),w("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),w("COERCERTL",c[l.COERCE],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",w("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",w("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(bc,bc.exports);var Ii=bc.exports;const Gm=Object.freeze({loose:!0}),Jm=Object.freeze({}),Qm=t=>t?typeof t!="object"?Gm:t:Jm;var nu=Qm;const Gl=/^[0-9]+$/,qd=(t,e)=>{const r=Gl.test(t),n=Gl.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Zm=(t,e)=>qd(e,t);var Gd={compareIdentifiers:qd,rcompareIdentifiers:Zm};const Vi=js,{MAX_LENGTH:Jl,MAX_SAFE_INTEGER:zi}=Fs,{safeRe:Ql,t:Zl}=Ii,Ym=nu,{compareIdentifiers:Kr}=Gd;let Km=class Ft{constructor(e,r){if(r=Ym(r),e instanceof Ft){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Jl)throw new TypeError(`version is longer than ${Jl} characters`);Vi("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Ql[Zl.LOOSE]:Ql[Zl.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>zi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>zi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>zi||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<zi)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Vi("SemVer.compare",this.version,this.options,e),!(e instanceof Ft)){if(typeof e=="string"&&e===this.version)return 0;e=new Ft(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof Ft||(e=new Ft(e,this.options)),Kr(this.major,e.major)||Kr(this.minor,e.minor)||Kr(this.patch,e.patch)}comparePre(e){if(e instanceof Ft||(e=new Ft(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Vi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Kr(n,i)}while(++r)}compareBuild(e){e instanceof Ft||(e=new Ft(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Vi("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Kr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Kr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var at=Km;const Yl=at,Xm=(t,e,r=!1)=>{if(t instanceof Yl)return t;try{return new Yl(t,e)}catch(n){if(!r)return null;throw n}};var Dn=Xm;const e_=Dn,t_=(t,e)=>{const r=e_(t,e);return r?r.version:null};var r_=t_;const n_=Dn,i_=(t,e)=>{const r=n_(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var s_=i_;const Kl=at,o_=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Kl(t instanceof Kl?t.version:t,r).inc(e,n,i).version}catch{return null}};var a_=o_;const Xl=Dn,c_=(t,e)=>{const r=Xl(t,null,!0),n=Xl(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const h=c?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"};var u_=c_;const l_=at,f_=(t,e)=>new l_(t,e).major;var h_=f_;const d_=at,p_=(t,e)=>new d_(t,e).minor;var b_=p_;const g_=at,y_=(t,e)=>new g_(t,e).patch;var v_=y_;const m_=Dn,__=(t,e)=>{const r=m_(t,e);return r&&r.prerelease.length?r.prerelease:null};var w_=__;const ef=at,E_=(t,e,r)=>new ef(t,r).compare(new ef(e,r));var Nt=E_;const S_=Nt,x_=(t,e,r)=>S_(e,t,r);var C_=x_;const I_=Nt,R_=(t,e)=>I_(t,e,!0);var A_=R_;const tf=at,T_=(t,e,r)=>{const n=new tf(t,r),i=new tf(e,r);return n.compare(i)||n.compareBuild(i)};var iu=T_;const k_=iu,M_=(t,e)=>t.sort((r,n)=>k_(r,n,e));var N_=M_;const O_=iu,L_=(t,e)=>t.sort((r,n)=>O_(n,r,e));var B_=L_;const P_=Nt,$_=(t,e,r)=>P_(t,e,r)>0;var Us=$_;const D_=Nt,F_=(t,e,r)=>D_(t,e,r)<0;var su=F_;const j_=Nt,U_=(t,e,r)=>j_(t,e,r)===0;var Jd=U_;const W_=Nt,H_=(t,e,r)=>W_(t,e,r)!==0;var Qd=H_;const V_=Nt,z_=(t,e,r)=>V_(t,e,r)>=0;var ou=z_;const q_=Nt,G_=(t,e,r)=>q_(t,e,r)<=0;var au=G_;const J_=Jd,Q_=Qd,Z_=Us,Y_=ou,K_=su,X_=au,ew=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return J_(t,r,n);case"!=":return Q_(t,r,n);case">":return Z_(t,r,n);case">=":return Y_(t,r,n);case"<":return K_(t,r,n);case"<=":return X_(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var Zd=ew;const tw=at,rw=Dn,{safeRe:qi,t:Gi}=Ii,nw=(t,e)=>{if(t instanceof tw)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(qi[Gi.COERCE]);else{let n;for(;(n=qi[Gi.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),qi[Gi.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;qi[Gi.COERCERTL].lastIndex=-1}return r===null?null:rw(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var iw=nw,Na,rf;function sw(){return rf||(rf=1,Na=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Na}var ow=me;me.Node=Fr;me.create=me;function me(t){var e=this;if(e instanceof me||(e=new me),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}me.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};me.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};me.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};me.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)cw(this,arguments[t]);return this.length};me.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)uw(this,arguments[t]);return this.length};me.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};me.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};me.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};me.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};me.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};me.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};me.prototype.map=function(t,e){e=e||this;for(var r=new me,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};me.prototype.mapReverse=function(t,e){e=e||this;for(var r=new me,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};me.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};me.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};me.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};me.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};me.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new me;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};me.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new me;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};me.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=aw(this,i,r[n]);return s};me.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function aw(t,e,r){var n=e===t.head?new Fr(r,null,e,t):new Fr(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function cw(t,e){t.tail=new Fr(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function uw(t,e){t.head=new Fr(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Fr(t,e,r,n){if(!(this instanceof Fr))return new Fr(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{sw()(me)}catch{}const lw=ow,kr=Symbol("max"),er=Symbol("length"),Xr=Symbol("lengthCalculator"),ei=Symbol("allowStale"),Lr=Symbol("maxAge"),Yt=Symbol("dispose"),nf=Symbol("noDisposeOnSet"),Ve=Symbol("lruList"),At=Symbol("cache"),Yd=Symbol("updateAgeOnGet"),Oa=()=>1;class fw{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[kr]=e.max||1/0;const r=e.length||Oa;if(this[Xr]=typeof r!="function"?Oa:r,this[ei]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Lr]=e.maxAge||0,this[Yt]=e.dispose,this[nf]=e.noDisposeOnSet||!1,this[Yd]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[kr]=e||1/0,zn(this)}get max(){return this[kr]}set allowStale(e){this[ei]=!!e}get allowStale(){return this[ei]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Lr]=e,zn(this)}get maxAge(){return this[Lr]}set lengthCalculator(e){typeof e!="function"&&(e=Oa),e!==this[Xr]&&(this[Xr]=e,this[er]=0,this[Ve].forEach(r=>{r.length=this[Xr](r.value,r.key),this[er]+=r.length})),zn(this)}get lengthCalculator(){return this[Xr]}get length(){return this[er]}get itemCount(){return this[Ve].length}rforEach(e,r){r=r||this;for(let n=this[Ve].tail;n!==null;){const i=n.prev;sf(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Ve].head;n!==null;){const i=n.next;sf(this,e,n,r),n=i}}keys(){return this[Ve].toArray().map(e=>e.key)}values(){return this[Ve].toArray().map(e=>e.value)}reset(){this[Yt]&&this[Ve]&&this[Ve].length&&this[Ve].forEach(e=>this[Yt](e.key,e.value)),this[At]=new Map,this[Ve]=new lw,this[er]=0}dump(){return this[Ve].map(e=>hs(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Ve]}set(e,r,n){if(n=n||this[Lr],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Xr](r,e);if(this[At].has(e)){if(s>this[kr])return hn(this,this[At].get(e)),!1;const c=this[At].get(e).value;return this[Yt]&&(this[nf]||this[Yt](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[er]+=s-c.length,c.length=s,this.get(e),zn(this),!0}const o=new hw(e,r,s,i,n);return o.length>this[kr]?(this[Yt]&&this[Yt](e,r),!1):(this[er]+=o.length,this[Ve].unshift(o),this[At].set(e,this[Ve].head),zn(this),!0)}has(e){if(!this[At].has(e))return!1;const r=this[At].get(e).value;return!hs(this,r)}get(e){return La(this,e,!0)}peek(e){return La(this,e,!1)}pop(){const e=this[Ve].tail;return e?(hn(this,e),e.value):null}del(e){hn(this,this[At].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[At].forEach((e,r)=>La(this,r,!1))}}const La=(t,e,r)=>{const n=t[At].get(e);if(n){const i=n.value;if(hs(t,i)){if(hn(t,n),!t[ei])return}else r&&(t[Yd]&&(n.value.now=Date.now()),t[Ve].unshiftNode(n));return i.value}},hs=(t,e)=>{if(!e||!e.maxAge&&!t[Lr])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Lr]&&r>t[Lr]},zn=t=>{if(t[er]>t[kr])for(let e=t[Ve].tail;t[er]>t[kr]&&e!==null;){const r=e.prev;hn(t,e),e=r}},hn=(t,e)=>{if(e){const r=e.value;t[Yt]&&t[Yt](r.key,r.value),t[er]-=r.length,t[At].delete(r.key),t[Ve].removeNode(e)}};class hw{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const sf=(t,e,r,n)=>{let i=r.value;hs(t,i)&&(hn(t,r),t[ei]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var dw=fw,Ba,of;function Ot(){if(of)return Ba;of=1;class t{constructor($,U){if(U=n(U),$ instanceof t)return $.loose===!!U.loose&&$.includePrerelease===!!U.includePrerelease?$:new t($.raw,U);if($ instanceof i)return this.raw=$.value,this.set=[[$]],this.format(),this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=$.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(H=>this.parseRange(H.trim())).filter(H=>H.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const H=this.set[0];if(this.set=this.set.filter(G=>!w(G[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){for(const G of this.set)if(G.length===1&&C(G[0])){this.set=[G];break}}}this.format()}format(){return this.range=this.set.map($=>$.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange($){const H=((this.options.includePrerelease&&b)|(this.options.loose&&v))+":"+$,G=r.get(H);if(G)return G;const q=this.options.loose,Z=q?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];$=$.replace(Z,be(this.options.includePrerelease)),s("hyphen replace",$),$=$.replace(a[c.COMPARATORTRIM],l),s("comparator trim",$),$=$.replace(a[c.TILDETRIM],h),s("tilde trim",$),$=$.replace(a[c.CARETTRIM],d),s("caret trim",$);let oe=$.split(" ").map(ve=>g(ve,this.options)).join(" ").split(/\s+/).map(ve=>X(ve,this.options));q&&(oe=oe.filter(ve=>(s("loose invalid filter",ve,this.options),!!ve.match(a[c.COMPARATORLOOSE])))),s("range list",oe);const J=new Map,re=oe.map(ve=>new i(ve,this.options));for(const ve of re){if(w(ve))return[ve];J.set(ve.value,ve)}J.size>1&&J.has("")&&J.delete("");const we=[...J.values()];return r.set(H,we),we}intersects($,U){if(!($ instanceof t))throw new TypeError("a Range is required");return this.set.some(H=>T(H,U)&&$.set.some(G=>T(G,U)&&H.every(q=>G.every(Z=>q.intersects(Z,U)))))}test($){if(!$)return!1;if(typeof $=="string")try{$=new o($,this.options)}catch{return!1}for(let U=0;U<this.set.length;U++)if(ne(this.set[U],$,this.options))return!0;return!1}}Ba=t;const e=dw,r=new e({max:1e3}),n=nu,i=Ws(),s=js,o=at,{safeRe:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:h,caretTrimReplace:d}=Ii,{FLAG_INCLUDE_PRERELEASE:b,FLAG_LOOSE:v}=Fs,w=P=>P.value==="<0.0.0-0",C=P=>P.value==="",T=(P,$)=>{let U=!0;const H=P.slice();let G=H.pop();for(;U&&H.length;)U=H.every(q=>G.intersects(q,$)),G=H.pop();return U},g=(P,$)=>(s("comp",P,$),P=I(P,$),s("caret",P),P=x(P,$),s("tildes",P),P=z(P,$),s("xrange",P),P=D(P,$),s("stars",P),P),E=P=>!P||P.toLowerCase()==="x"||P==="*",x=(P,$)=>P.trim().split(/\s+/).map(U=>M(U,$)).join(" "),M=(P,$)=>{const U=$.loose?a[c.TILDELOOSE]:a[c.TILDE];return P.replace(U,(H,G,q,Z,oe)=>{s("tilde",P,H,G,q,Z,oe);let J;return E(G)?J="":E(q)?J=`>=${G}.0.0 <${+G+1}.0.0-0`:E(Z)?J=`>=${G}.${q}.0 <${G}.${+q+1}.0-0`:oe?(s("replaceTilde pr",oe),J=`>=${G}.${q}.${Z}-${oe} <${G}.${+q+1}.0-0`):J=`>=${G}.${q}.${Z} <${G}.${+q+1}.0-0`,s("tilde return",J),J})},I=(P,$)=>P.trim().split(/\s+/).map(U=>B(U,$)).join(" "),B=(P,$)=>{s("caret",P,$);const U=$.loose?a[c.CARETLOOSE]:a[c.CARET],H=$.includePrerelease?"-0":"";return P.replace(U,(G,q,Z,oe,J)=>{s("caret",P,G,q,Z,oe,J);let re;return E(q)?re="":E(Z)?re=`>=${q}.0.0${H} <${+q+1}.0.0-0`:E(oe)?q==="0"?re=`>=${q}.${Z}.0${H} <${q}.${+Z+1}.0-0`:re=`>=${q}.${Z}.0${H} <${+q+1}.0.0-0`:J?(s("replaceCaret pr",J),q==="0"?Z==="0"?re=`>=${q}.${Z}.${oe}-${J} <${q}.${Z}.${+oe+1}-0`:re=`>=${q}.${Z}.${oe}-${J} <${q}.${+Z+1}.0-0`:re=`>=${q}.${Z}.${oe}-${J} <${+q+1}.0.0-0`):(s("no pr"),q==="0"?Z==="0"?re=`>=${q}.${Z}.${oe}${H} <${q}.${Z}.${+oe+1}-0`:re=`>=${q}.${Z}.${oe}${H} <${q}.${+Z+1}.0-0`:re=`>=${q}.${Z}.${oe} <${+q+1}.0.0-0`),s("caret return",re),re})},z=(P,$)=>(s("replaceXRanges",P,$),P.split(/\s+/).map(U=>W(U,$)).join(" ")),W=(P,$)=>{P=P.trim();const U=$.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return P.replace(U,(H,G,q,Z,oe,J)=>{s("xRange",P,H,G,q,Z,oe,J);const re=E(q),we=re||E(Z),ve=we||E(oe),Ue=ve;return G==="="&&Ue&&(G=""),J=$.includePrerelease?"-0":"",re?G===">"||G==="<"?H="<0.0.0-0":H="*":G&&Ue?(we&&(Z=0),oe=0,G===">"?(G=">=",we?(q=+q+1,Z=0,oe=0):(Z=+Z+1,oe=0)):G==="<="&&(G="<",we?q=+q+1:Z=+Z+1),G==="<"&&(J="-0"),H=`${G+q}.${Z}.${oe}${J}`):we?H=`>=${q}.0.0${J} <${+q+1}.0.0-0`:ve&&(H=`>=${q}.${Z}.0${J} <${q}.${+Z+1}.0-0`),s("xRange return",H),H})},D=(P,$)=>(s("replaceStars",P,$),P.trim().replace(a[c.STAR],"")),X=(P,$)=>(s("replaceGTE0",P,$),P.trim().replace(a[$.includePrerelease?c.GTE0PRE:c.GTE0],"")),be=P=>($,U,H,G,q,Z,oe,J,re,we,ve,Ue,R)=>(E(H)?U="":E(G)?U=`>=${H}.0.0${P?"-0":""}`:E(q)?U=`>=${H}.${G}.0${P?"-0":""}`:Z?U=`>=${U}`:U=`>=${U}${P?"-0":""}`,E(re)?J="":E(we)?J=`<${+re+1}.0.0-0`:E(ve)?J=`<${re}.${+we+1}.0-0`:Ue?J=`<=${re}.${we}.${ve}-${Ue}`:P?J=`<${re}.${we}.${+ve+1}-0`:J=`<=${J}`,`${U} ${J}`.trim()),ne=(P,$,U)=>{for(let H=0;H<P.length;H++)if(!P[H].test($))return!1;if($.prerelease.length&&!U.includePrerelease){for(let H=0;H<P.length;H++)if(s(P[H].semver),P[H].semver!==i.ANY&&P[H].semver.prerelease.length>0){const G=P[H].semver;if(G.major===$.major&&G.minor===$.minor&&G.patch===$.patch)return!0}return!1}return!0};return Ba}var Pa,af;function Ws(){if(af)return Pa;af=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(h,d){if(d=r(d),h instanceof e){if(h.loose===!!d.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),o("comparator",h,d),this.options=d,this.loose=!!d.loose,this.parse(h),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(h){const d=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],b=h.match(d);if(!b)throw new TypeError(`Invalid comparator: ${h}`);this.operator=b[1]!==void 0?b[1]:"",this.operator==="="&&(this.operator=""),b[2]?this.semver=new a(b[2],this.options.loose):this.semver=t}toString(){return this.value}test(h){if(o("Comparator.test",h,this.options.loose),this.semver===t||h===t)return!0;if(typeof h=="string")try{h=new a(h,this.options)}catch{return!1}return s(h,this.operator,this.semver,this.options)}intersects(h,d){if(!(h instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(h.value,d).test(this.value):h.operator===""?h.value===""?!0:new c(this.value,d).test(h.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||s(this.semver,"<",h.semver,d)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||s(this.semver,">",h.semver,d)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}Pa=e;const r=nu,{safeRe:n,t:i}=Ii,s=Zd,o=js,a=at,c=Ot();return Pa}const pw=Ot(),bw=(t,e,r)=>{try{e=new pw(e,r)}catch{return!1}return e.test(t)};var Hs=bw;const gw=Ot(),yw=(t,e)=>new gw(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var vw=yw;const mw=at,_w=Ot(),ww=(t,e,r)=>{let n=null,i=null,s=null;try{s=new _w(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new mw(n,r))}),n};var Ew=ww;const Sw=at,xw=Ot(),Cw=(t,e,r)=>{let n=null,i=null,s=null;try{s=new xw(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Sw(n,r))}),n};var Iw=Cw;const $a=at,Rw=Ot(),cf=Us,Aw=(t,e)=>{t=new Rw(t,e);let r=new $a("0.0.0");if(t.test(r)||(r=new $a("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new $a(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||cf(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||cf(r,s))&&(r=s)}return r&&t.test(r)?r:null};var Tw=Aw;const kw=Ot(),Mw=(t,e)=>{try{return new kw(t,e).range||"*"}catch{return null}};var Nw=Mw;const Ow=at,Kd=Ws(),{ANY:Lw}=Kd,Bw=Ot(),Pw=Hs,uf=Us,lf=su,$w=au,Dw=ou,Fw=(t,e,r,n)=>{t=new Ow(t,n),e=new Bw(e,n);let i,s,o,a,c;switch(r){case">":i=uf,s=$w,o=lf,a=">",c=">=";break;case"<":i=lf,s=Dw,o=uf,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Pw(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const h=e.set[l];let d=null,b=null;if(h.forEach(v=>{v.semver===Lw&&(v=new Kd(">=0.0.0")),d=d||v,b=b||v,i(v.semver,d.semver,n)?d=v:o(v.semver,b.semver,n)&&(b=v)}),d.operator===a||d.operator===c||(!b.operator||b.operator===a)&&s(t,b.semver))return!1;if(b.operator===c&&o(t,b.semver))return!1}return!0};var cu=Fw;const jw=cu,Uw=(t,e,r)=>jw(t,e,">",r);var Ww=Uw;const Hw=cu,Vw=(t,e,r)=>Hw(t,e,"<",r);var zw=Vw;const ff=Ot(),qw=(t,e,r)=>(t=new ff(t,r),e=new ff(e,r),t.intersects(e,r));var Gw=qw;const Jw=Hs,Qw=Nt;var Zw=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((h,d)=>Qw(h,d,r));for(const h of o)Jw(h,e,r)?(s=h,i||(i=h)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[h,d]of n)h===d?a.push(h):!d&&h===o[0]?a.push("*"):d?h===o[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);const c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const hf=Ot(),uu=Ws(),{ANY:Da}=uu,qn=Hs,lu=Nt,Yw=(t,e,r={})=>{if(t===e)return!0;t=new hf(t,r),e=new hf(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=Xw(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Kw=[new uu(">=0.0.0-0")],df=[new uu(">=0.0.0")],Xw=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Da){if(e.length===1&&e[0].semver===Da)return!0;r.includePrerelease?t=Kw:t=df}if(e.length===1&&e[0].semver===Da){if(r.includePrerelease)return!0;e=df}const n=new Set;let i,s;for(const v of t)v.operator===">"||v.operator===">="?i=pf(i,v,r):v.operator==="<"||v.operator==="<="?s=bf(s,v,r):n.add(v.semver);if(n.size>1)return null;let o;if(i&&s){if(o=lu(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const v of n){if(i&&!qn(v,String(i),r)||s&&!qn(v,String(s),r))return null;for(const w of e)if(!qn(v,String(w),r))return!1;return!0}let a,c,l,h,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,b=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const v of e){if(h=h||v.operator===">"||v.operator===">=",l=l||v.operator==="<"||v.operator==="<=",i){if(b&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===b.major&&v.semver.minor===b.minor&&v.semver.patch===b.patch&&(b=!1),v.operator===">"||v.operator===">="){if(a=pf(i,v,r),a===v&&a!==i)return!1}else if(i.operator===">="&&!qn(i.semver,String(v),r))return!1}if(s){if(d&&v.semver.prerelease&&v.semver.prerelease.length&&v.semver.major===d.major&&v.semver.minor===d.minor&&v.semver.patch===d.patch&&(d=!1),v.operator==="<"||v.operator==="<="){if(c=bf(s,v,r),c===v&&c!==s)return!1}else if(s.operator==="<="&&!qn(s.semver,String(v),r))return!1}if(!v.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&h&&!i&&o!==0||b||d)},pf=(t,e,r)=>{if(!t)return e;const n=lu(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},bf=(t,e,r)=>{if(!t)return e;const n=lu(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var e2=Yw;const Fa=Ii,gf=Fs,t2=at,yf=Gd,r2=Dn,n2=r_,i2=s_,s2=a_,o2=u_,a2=h_,c2=b_,u2=v_,l2=w_,f2=Nt,h2=C_,d2=A_,p2=iu,b2=N_,g2=B_,y2=Us,v2=su,m2=Jd,_2=Qd,w2=ou,E2=au,S2=Zd,x2=iw,C2=Ws(),I2=Ot(),R2=Hs,A2=vw,T2=Ew,k2=Iw,M2=Tw,N2=Nw,O2=cu,L2=Ww,B2=zw,P2=Gw,$2=Zw,D2=e2;var F2={parse:r2,valid:n2,clean:i2,inc:s2,diff:o2,major:a2,minor:c2,patch:u2,prerelease:l2,compare:f2,rcompare:h2,compareLoose:d2,compareBuild:p2,sort:b2,rsort:g2,gt:y2,lt:v2,eq:m2,neq:_2,gte:w2,lte:E2,cmp:S2,coerce:x2,Comparator:C2,Range:I2,satisfies:R2,toComparators:A2,maxSatisfying:T2,minSatisfying:k2,minVersion:M2,validRange:N2,outside:O2,gtr:L2,ltr:B2,intersects:P2,simplifyRange:$2,subset:D2,SemVer:t2,re:Fa.re,src:Fa.src,tokens:Fa.t,SEMVER_SPEC_VERSION:gf.SEMVER_SPEC_VERSION,RELEASE_TYPES:gf.RELEASE_TYPES,compareIdentifiers:yf.compareIdentifiers,rcompareIdentifiers:yf.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=F2,r=Jr,n=Ze;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",d=>(0,e.valid)(d)===null?`Expected SemVer version, got "${d}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",d=>(0,e.validRange)(d)===null?`Expected SemVer range, got "${d}"`:!0);function i(d){return(0,r.is)(d,t.VersionStruct)}t.isValidSemVerVersion=i;function s(d){return(0,r.is)(d,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(d){(0,n.assertStruct)(d,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(d){(0,n.assertStruct)(d,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(d,b){return(0,e.gt)(d,b)}t.gtVersion=c;function l(d,b){return(0,e.gtr)(d,b)}t.gtRange=l;function h(d,b){return(0,e.satisfies)(d,b,{includePrerelease:!0})}t.satisfiesVersionRange=h})(Vd);(function(t){var e=Q&&Q.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Q&&Q.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ze,t),r(xi,t),r(ye,t),r($s,t),r(Vt,t),r(wn,t),r(Ci,t),r(Ud,t),r(En,t),r(ru,t),r(zt,t),r(Wd,t),r(Hd,t),r(Vd,t)})(Ed);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Ed;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(wd);var Xd=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.PollingBlockTracker=void 0;const j2=Xd(qc),U2=Xd(c1),W2=Ei,vf=wd,mf=(0,vf.createModuleLogger)(vf.projectLogger,"polling-block-tracker"),H2=(0,j2.default)(),V2=1e3;class z2 extends W2.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*V2,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=_f(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=_f(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:H2(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),mf("Making request",e);const r=await(0,U2.default)(n=>this._provider.sendAsync(e,n))();if(mf("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Bs.PollingBlockTracker=z2;function _f(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Vs={},q2=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.SubscribeBlockTracker=void 0;const G2=q2(qc),J2=Ei,Q2=(0,G2.default)();class Z2 extends J2.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:Q2(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Vs.SubscribeBlockTracker=Z2;var ep={};Object.defineProperty(ep,"__esModule",{value:!0});(function(t){var e=Q&&Q.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Q&&Q.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Bs,t),r(Vs,t),r(ep,t)})(_d);var fu={},zs={},Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.getUniqueId=void 0;const tp=4294967295;let ja=Math.floor(Math.random()*tp);function Y2(){return ja=(ja+1)%tp,ja}Ri.getUniqueId=Y2;Object.defineProperty(zs,"__esModule",{value:!0});zs.createIdRemapMiddleware=void 0;const K2=Ri;function X2(){return(t,e,r,n)=>{const i=t.id,s=K2.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}zs.createIdRemapMiddleware=X2;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.createAsyncMiddleware=void 0;function eE(t){return async(e,r,n,i)=>{let s;const o=new Promise(h=>{s=h});let a=null,c=!1;const l=async()=>{c=!0,n(h=>{a=h,s()}),await o};try{await t(e,r,l),c?(await o,a(null)):i(null)}catch(h){a?a(h):i(h)}}}qs.createAsyncMiddleware=eE;var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.createScaffoldMiddleware=void 0;function tE(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Gs.createScaffoldMiddleware=tE;var Ai={},rE=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.JsonRpcEngine=void 0;const nE=rE(Hr),bt=Nc;class Kt extends nE.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Kt._runAllMiddleware(e,r,this._middleware);return o?(await Kt._runReturnHandlers(a),i(s)):n(async c=>{try{await Kt._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new bt.EthereumRpcError(bt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new bt.EthereumRpcError(bt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=bt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await Kt._runAllMiddleware(e,r,this._middleware);if(Kt._checkForCompletion(e,r,i),await Kt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Kt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const l=c||r.error;l&&(r.error=bt.serializeError(l)),s([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new bt.EthereumRpcError(bt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Ua(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new bt.EthereumRpcError(bt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Ua(e)}`,{request:e});if(!n)throw new bt.EthereumRpcError(bt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Ua(e)}`,{request:e})}}Ai.JsonRpcEngine=Kt;function Ua(t){return JSON.stringify(t,null,2)}var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.mergeMiddleware=void 0;const iE=Ai;function sE(t){const e=new iE.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Js.mergeMiddleware=sE;(function(t){var e=Q&&Q.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Q&&Q.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(zs,t),r(qs,t),r(Gs,t),r(Ri,t),r(Ai,t),r(Js,t)})(fu);var rp={},hu={};const du=Wr(k0);var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});var wf=du,oE=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return wf.__awaiter(this,void 0,void 0,function(){var r,n,i;return wf.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Qs.default=oE;Object.defineProperty(hu,"__esModule",{value:!0});var Ef=du,aE=Qs,cE=function(){function t(){this._semaphore=new aE.default(1)}return t.prototype.acquire=function(){return Ef.__awaiter(this,void 0,void 0,function(){var e,r;return Ef.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();hu.default=cE;var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.withTimeout=void 0;var Ji=du;function uE(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Ji.__awaiter(n,void 0,void 0,function(){var o,a,c;return Ji.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Ji.__awaiter(this,void 0,void 0,function(){var s,o;return Ji.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Zs.withTimeout=uE;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=hu;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Qs;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Zs;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(rp);var lE=hE,fE=Object.prototype.hasOwnProperty;function hE(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)fE.call(r,n)&&(t[n]=r[n])}return t}const dE=lE,pE=qc();var bE=ie;function ie(t){const e=this;e.currentProvider=t}ie.prototype.getBalance=Ti(2,"eth_getBalance");ie.prototype.getCode=Ti(2,"eth_getCode");ie.prototype.getTransactionCount=Ti(2,"eth_getTransactionCount");ie.prototype.getStorageAt=Ti(3,"eth_getStorageAt");ie.prototype.call=Ti(2,"eth_call");ie.prototype.protocolVersion=he("eth_protocolVersion");ie.prototype.syncing=he("eth_syncing");ie.prototype.coinbase=he("eth_coinbase");ie.prototype.mining=he("eth_mining");ie.prototype.hashrate=he("eth_hashrate");ie.prototype.gasPrice=he("eth_gasPrice");ie.prototype.accounts=he("eth_accounts");ie.prototype.blockNumber=he("eth_blockNumber");ie.prototype.getBlockTransactionCountByHash=he("eth_getBlockTransactionCountByHash");ie.prototype.getBlockTransactionCountByNumber=he("eth_getBlockTransactionCountByNumber");ie.prototype.getUncleCountByBlockHash=he("eth_getUncleCountByBlockHash");ie.prototype.getUncleCountByBlockNumber=he("eth_getUncleCountByBlockNumber");ie.prototype.sign=he("eth_sign");ie.prototype.sendTransaction=he("eth_sendTransaction");ie.prototype.sendRawTransaction=he("eth_sendRawTransaction");ie.prototype.estimateGas=he("eth_estimateGas");ie.prototype.getBlockByHash=he("eth_getBlockByHash");ie.prototype.getBlockByNumber=he("eth_getBlockByNumber");ie.prototype.getTransactionByHash=he("eth_getTransactionByHash");ie.prototype.getTransactionByBlockHashAndIndex=he("eth_getTransactionByBlockHashAndIndex");ie.prototype.getTransactionByBlockNumberAndIndex=he("eth_getTransactionByBlockNumberAndIndex");ie.prototype.getTransactionReceipt=he("eth_getTransactionReceipt");ie.prototype.getUncleByBlockHashAndIndex=he("eth_getUncleByBlockHashAndIndex");ie.prototype.getUncleByBlockNumberAndIndex=he("eth_getUncleByBlockNumberAndIndex");ie.prototype.getCompilers=he("eth_getCompilers");ie.prototype.compileLLL=he("eth_compileLLL");ie.prototype.compileSolidity=he("eth_compileSolidity");ie.prototype.compileSerpent=he("eth_compileSerpent");ie.prototype.newFilter=he("eth_newFilter");ie.prototype.newBlockFilter=he("eth_newBlockFilter");ie.prototype.newPendingTransactionFilter=he("eth_newPendingTransactionFilter");ie.prototype.uninstallFilter=he("eth_uninstallFilter");ie.prototype.getFilterChanges=he("eth_getFilterChanges");ie.prototype.getFilterLogs=he("eth_getFilterLogs");ie.prototype.getLogs=he("eth_getLogs");ie.prototype.getWork=he("eth_getWork");ie.prototype.submitWork=he("eth_submitWork");ie.prototype.submitHashrate=he("eth_submitHashrate");ie.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(gE(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function he(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Ti(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function gE(t){return dE({id:pE(),jsonrpc:"2.0",params:[]},t)}const Sf=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,h)=>{l?a(l):o(h)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},xf=new WeakMap;var yE=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=xf.get(o);if(c||(c={},xf.set(o,c)),a in c)return c[a];const l=w=>typeof w=="string"||typeof a=="symbol"?a===w:w.test(a),h=Reflect.getOwnPropertyDescriptor(o,a),d=h===void 0||h.writable||h.configurable,v=(e.include?e.include.some(l):!e.exclude.some(l))&&d;return c[a]=v,v},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const l=i.get(o);if(l)return Reflect.apply(l,a,c);const h=e.excludeMain?o:Sf(o,e,s,o);return i.set(o,h),Reflect.apply(h,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const l=i.get(c);if(l)return l;if(typeof c=="function"){const h=Sf(c,e,s,o);return i.set(c,h),h}return c}});return s};const vE=Hr.default;let mE=class extends vE{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var pu=mE;const _E=pu;let wE=class extends _E{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var EE=wE,ki={minBlockRef:SE,maxBlockRef:xE,sortBlockRefs:bu,bnToHex:CE,blockRefIsNumber:IE,hexToInt:ds,incrementHexInt:RE,intToHex:np,unsafeRandomBytes:AE};function SE(...t){return bu(t)[0]}function xE(...t){const e=bu(t);return e[e.length-1]}function bu(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:ds(e)-ds(r))}function CE(t){return"0x"+t.toString(16)}function IE(t){return t&&!["earliest","latest","pending"].includes(t)}function ds(t){return t==null?t:Number.parseInt(t,16)}function RE(t){if(t==null)return t;const e=ds(t);return np(e+1)}function np(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function AE(t){let e="0x";for(let r=0;r<t;r++)e+=Cf(),e+=Cf();return e}function Cf(){return Math.floor(Math.random()*16).toString(16)}const TE=bE,kE=yE,ME=EE,{bnToHex:e8,hexToInt:Qi,incrementHexInt:NE,minBlockRef:OE,blockRefIsNumber:LE}=ki;let BE=class extends ME{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new TE(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=OE(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=NE(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await kE(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Qi(this.params.fromBlock)>=Qi(e.blockNumber)||LE(this.params.toBlock)&&Qi(this.params.toBlock)<=Qi(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(h=>h.toLowerCase()),a.includes(o))})}};var PE=BE,gu=$E;async function $E({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=If(e),s=If(r)-n+1,o=Array(s).fill().map((c,l)=>n+l).map(DE);return await Promise.all(o.map(c=>jE(t,"eth_getBlockByNumber",[c,!1])))}function If(t){return t==null?t:Number.parseInt(t,16)}function DE(t){return t==null?t:"0x"+t.toString(16)}function FE(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function jE(t,e,r){for(let n=0;n<3;n++)try{return await FE(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const UE=pu,WE=gu,{incrementHexInt:HE}=ki;let VE=class extends UE{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=HE(e),o=(await WE({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var zE=VE;const qE=pu,GE=gu,{incrementHexInt:JE}=ki;let QE=class extends qE{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=JE(e),i=await GE({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var ZE=QE;const YE=rp.Mutex,{createAsyncMiddleware:KE,createScaffoldMiddleware:XE}=fu,eS=PE,tS=zE,rS=ZE,{intToHex:ip,hexToInt:Wa}=ki;var nS=iS;function iS({blockTracker:t,provider:e}){let r=0,n={};const i=new YE,s=sS({mutex:i}),o=XE({eth_newFilter:s(Ha(c)),eth_newBlockFilter:s(Ha(l)),eth_newPendingTransactionFilter:s(Ha(h)),eth_uninstallFilter:s(rs(v)),eth_getFilterChanges:s(rs(d)),eth_getFilterLogs:s(rs(b))}),a=async({oldBlock:E,newBlock:x})=>{if(n.length===0)return;const M=await i.acquire();try{await Promise.all(en(n).map(async I=>{try{await I.update({oldBlock:E,newBlock:x})}catch(B){console.error(B)}}))}catch(I){console.error(I)}M()};return o.newLogFilter=c,o.newBlockFilter=l,o.newPendingTransactionFilter=h,o.uninstallFilter=v,o.getFilterChanges=d,o.getFilterLogs=b,o.destroy=()=>{T()},o;async function c(E){const x=new eS({provider:e,params:E});return await w(x),x}async function l(){const E=new tS({provider:e});return await w(E),E}async function h(){const E=new rS({provider:e});return await w(E),E}async function d(E){const x=Wa(E),M=n[x];if(!M)throw new Error(`No filter for index "${x}"`);return M.getChangesAndClear()}async function b(E){const x=Wa(E),M=n[x];if(!M)throw new Error(`No filter for index "${x}"`);let I=[];return M.type==="log"&&(I=M.getAllResults()),I}async function v(E){const x=Wa(E),I=!!n[x];return I&&await C(x),I}async function w(E){const x=en(n).length,M=await t.getLatestBlock();await E.initialize({currentBlock:M}),r++,n[r]=E,E.id=r,E.idHex=ip(r);const I=en(n).length;return g({prevFilterCount:x,newFilterCount:I}),r}async function C(E){const x=en(n).length;delete n[E];const M=en(n).length;g({prevFilterCount:x,newFilterCount:M})}async function T(){const E=en(n).length;n={},g({prevFilterCount:E,newFilterCount:0})}function g({prevFilterCount:E,newFilterCount:x}){if(E===0&&x>0){t.on("sync",a);return}if(E>0&&x===0){t.removeListener("sync",a);return}}}function Ha(t){return rs(async(...e)=>{const r=await t(...e);return ip(r.id)})}function rs(t){return KE(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function sS({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function en(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const oS=Hr.default,{createAsyncMiddleware:Rf,createScaffoldMiddleware:aS}=fu,cS=nS,{unsafeRandomBytes:uS,incrementHexInt:lS}=ki,fS=gu;var hS=dS;function dS({blockTracker:t,provider:e}){const r={},n=cS({blockTracker:t,provider:e});let i=!1;const s=new oS,o=aS({eth_subscribe:Rf(a),eth_unsubscribe:Rf(c)});return o.destroy=h,{events:s,middleware:o};async function a(d,b){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const v=d.params[0],w=uS(16);let C;switch(v){case"newHeads":C=T({subId:w});break;case"logs":const E=d.params[1],x=await n.newLogFilter(E);C=g({subId:w,filter:x});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${v}"`)}r[w]=C,b.result=w;return;function T({subId:E}){const x={type:v,destroy:async()=>{t.removeListener("sync",x.update)},update:async({oldBlock:M,newBlock:I})=>{const B=I,z=lS(M);(await fS({provider:e,fromBlock:z,toBlock:B})).map(pS).filter(X=>X!==null).forEach(X=>{l(E,X)})}};return t.on("sync",x.update),x}function g({subId:E,filter:x}){return x.on("update",I=>l(E,I)),{type:v,destroy:async()=>await n.uninstallFilter(x.idHex)}}}async function c(d,b){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const v=d.params[0],w=r[v];if(!w){b.result=!1;return}delete r[v],await w.destroy(),b.result=!0}function l(d,b){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:d,result:b}})}function h(){s.removeAllListeners();for(const d in r)r[d].destroy(),delete r[d];i=!0}}function pS(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Ls,"__esModule",{value:!0});Ls.SubscriptionManager=void 0;const bS=_d,gS=hS,Af=()=>{};class yS{constructor(e){const r=new bS.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=gS({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Af,Af),r}destroy(){this.subscriptionMiddleware.destroy()}}Ls.SubscriptionManager=yS;var yu=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bn,"__esModule",{value:!0});bn.CoinbaseWalletProvider=void 0;const vS=yu(Hr),mS=yu(ws),Va=kn,Ce=hi,Tf=Nn,kf=kt,za=Is,_S=Te,le=Y,qa=yu(n1),wS=_n,Ee=md,ES=Ls,Mf="DefaultChainId",Nf="DefaultJsonRpcUrl";class SS extends vS.default{constructor(e){var r,n;super(),this._filterPolyfill=new wS.FilterPolyfill(this),this._subscriptionManager=new ES.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,le.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(kf.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,le.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,h=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(h,Number(l))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,le.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Nf))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Nf,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Mf,r.toString(10)),((0,le.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,le.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),h=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!h&&await l.requestEthereumAccounts().promise;const d=await l.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=d.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=d.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,_S.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===Ce.standardErrorCodes.provider.unsupportedChain?Ce.standardErrors.provider.unsupportedChain(e):Ce.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Va.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Tf.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(Ee.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,Ce.serializeError)(i,e)})}catch(n){throw(0,Ce.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,Ce.serializeError)(n,e)})}catch(n){return Promise.reject((0,Ce.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,Ce.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,Ce.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Ce.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Ce.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Ce.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,le.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,Ce.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",za.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,Ce.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",za.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,Ce.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",za.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,le.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(kf.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Ee.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Ee.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Ee.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Ee.JSONRPCMethod.net_version:return this._net_version();case Ee.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Ee.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Ee.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Ee.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Ee.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Ee.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Ee.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Ee.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Ee.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Ee.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Ee.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Ee.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Ee.JSONRPCMethod.eth_signTypedData_v4:case Ee.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Ee.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Ee.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Ee.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Ee.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Ee.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Ee.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Ee.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Ee.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Ee.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Ee.JSONRPCMethod.eth_subscribe:case Ee.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,le.ensureAddressString)(e);return this._addresses.map(i=>(0,le.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Va.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,le.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,le.ensureAddressString)(e.to):null,i=e.value!=null?(0,le.ensureBN)(e.value):new mS.default(0),s=e.data?(0,le.ensureBuffer)(e.data):V.Buffer.alloc(0),o=e.nonce!=null?(0,le.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,le.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,le.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,le.ensureBN)(e.maxPriorityFeePerGas):null,h=e.gas!=null?(0,le.ensureBN)(e.gas):null,d=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:h,chainId:d}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Ce.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Ce.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Ce.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,le.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Mf);if(!e)return(0,le.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,le.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Va.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Tf.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ce.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,le.ensureAddressString)(e[0]),n=(0,le.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,le.ensureBuffer)(e[0]),n=(0,le.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,le.ensureBuffer)(e[0]),n=(0,le.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,le.ensureBuffer)(e[0]),n=(0,le.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ce.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,le.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ce.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,le.ensureParsedJSONObject)(e[0]),n=(0,le.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=qa.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,le.ensureAddressString)(e[0]),n=(0,le.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=qa.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,le.ensureAddressString)(e[0]),n=(0,le.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=qa.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Ce.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw Ce.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Ce.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw Ce.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw Ce.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw Ce.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,le.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,le.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,le.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}bn.CoinbaseWalletProvider=SS;var Ys={},Ks={},Mi,se,sp,op,Mr,Of,ap,gc,cp,dn={},up=[],xS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Xs=Array.isArray;function tr(t,e){for(var r in e)t[r]=e[r];return t}function lp(t){var e=t.parentNode;e&&e.removeChild(t)}function yc(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Mi.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return ti(t,o,n,i,null)}function ti(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++sp};return i==null&&se.vnode!=null&&se.vnode(s),s}function CS(){return{current:null}}function Ni(t){return t.children}function ri(t,e){this.props=t,this.context=e}function ci(t,e){if(e==null)return t.__?ci(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__d||r.__e;return typeof t.type=="function"?ci(t):null}function fp(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return fp(t)}}function vc(t){(!t.__d&&(t.__d=!0)&&Mr.push(t)&&!ps.__r++||Of!==se.debounceRendering)&&((Of=se.debounceRendering)||ap)(ps)}function ps(){var t,e,r,n,i,s,o,a,c;for(Mr.sort(gc);t=Mr.shift();)t.__d&&(e=Mr.length,n=void 0,i=void 0,s=void 0,a=(o=(r=t).__v).__e,(c=r.__P)&&(n=[],i=[],(s=tr({},o)).__v=o.__v+1,vu(c,o,s,r.__n,c.ownerSVGElement!==void 0,o.__h!=null?[a]:null,n,a??ci(o),o.__h,i),gp(n,o,i),o.__e!=a&&fp(o)),Mr.length>e&&Mr.sort(gc));ps.__r=0}function hp(t,e,r,n,i,s,o,a,c,l,h){var d,b,v,w,C,T,g,E,x,M=0,I=n&&n.__k||up,B=I.length,z=B,W=e.length;for(r.__k=[],d=0;d<W;d++)(w=r.__k[d]=(w=e[d])==null||typeof w=="boolean"||typeof w=="function"?null:typeof w=="string"||typeof w=="number"||typeof w=="bigint"?ti(null,w,null,null,w):Xs(w)?ti(Ni,{children:w},null,null,null):w.__b>0?ti(w.type,w.props,w.key,w.ref?w.ref:null,w.__v):w)!=null?(w.__=r,w.__b=r.__b+1,(E=IS(w,I,g=d+M,z))===-1?v=dn:(v=I[E]||dn,I[E]=void 0,z--),vu(t,w,v,i,s,o,a,c,l,h),C=w.__e,(b=w.ref)&&v.ref!=b&&(v.ref&&mu(v.ref,null,w),h.push(b,w.__c||C,w)),C!=null&&(T==null&&(T=C),(x=v===dn||v.__v===null)?E==-1&&M--:E!==g&&(E===g+1?M++:E>g?z>W-g?M+=E-g:M--:M=E<g&&E==g-1?E-g:0),g=d+M,typeof w.type!="function"||E===g&&v.__k!==w.__k?typeof w.type=="function"||E===g&&!x?w.__d!==void 0?(c=w.__d,w.__d=void 0):c=C.nextSibling:c=bp(t,C,c):c=dp(w,c,t),typeof r.type=="function"&&(r.__d=c))):(v=I[d])&&v.key==null&&v.__e&&(v.__e==c&&(v.__=n,c=ci(v)),mc(v,v,!1),I[d]=null);for(r.__e=T,d=B;d--;)I[d]!=null&&(typeof r.type=="function"&&I[d].__e!=null&&I[d].__e==r.__d&&(r.__d=I[d].__e.nextSibling),mc(I[d],I[d]))}function dp(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?dp(n,e,r):bp(r,n.__e,e));return e}function pp(t,e){return e=e||[],t==null||typeof t=="boolean"||(Xs(t)?t.some(function(r){pp(r,e)}):e.push(t)),e}function bp(t,e,r){return r==null||r.parentNode!==t?t.insertBefore(e,null):e==r&&e.parentNode!=null||t.insertBefore(e,r),e.nextSibling}function IS(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,c=e[r];if(c===null||c&&i==c.key&&s===c.type)return r;if(n>(c!=null?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&i==c.key&&s===c.type)return a;a++}}return-1}function RS(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||bs(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||bs(t,s,e[s],r[s],n)}function Lf(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||xS.test(e)?r:r+"px"}function bs(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Lf(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Lf(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,s?Pf:Bf,s)):t.removeEventListener(e,s?Pf:Bf,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function Bf(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(se.event?se.event(t):t)}function Pf(t){return this.l[t.type+!0](se.event?se.event(t):t)}function vu(t,e,r,n,i,s,o,a,c,l){var h,d,b,v,w,C,T,g,E,x,M,I,B,z,W,D=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(h=se.__b)&&h(e);e:if(typeof D=="function")try{if(g=e.props,E=(h=D.contextType)&&n[h.__c],x=h?E?E.props.value:h.__:n,r.__c?T=(d=e.__c=r.__c).__=d.__E:("prototype"in D&&D.prototype.render?e.__c=d=new D(g,x):(e.__c=d=new ri(g,x),d.constructor=D,d.render=TS),E&&E.sub(d),d.props=g,d.state||(d.state={}),d.context=x,d.__n=n,b=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),D.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=tr({},d.__s)),tr(d.__s,D.getDerivedStateFromProps(g,d.__s))),v=d.props,w=d.state,d.__v=e,b)D.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(D.getDerivedStateFromProps==null&&g!==v&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(g,x),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(g,d.__s,x)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(d.props=g,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(X){X&&(X.__=e)}),M=0;M<d._sb.length;M++)d.__h.push(d._sb[M]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(g,d.__s,x),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(v,w,C)})}if(d.context=x,d.props=g,d.__P=t,d.__e=!1,I=se.__r,B=0,"prototype"in D&&D.prototype.render){for(d.state=d.__s,d.__d=!1,I&&I(e),h=d.render(d.props,d.state,d.context),z=0;z<d._sb.length;z++)d.__h.push(d._sb[z]);d._sb=[]}else do d.__d=!1,I&&I(e),h=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++B<25);d.state=d.__s,d.getChildContext!=null&&(n=tr(tr({},n),d.getChildContext())),b||d.getSnapshotBeforeUpdate==null||(C=d.getSnapshotBeforeUpdate(v,w)),hp(t,Xs(W=h!=null&&h.type===Ni&&h.key==null?h.props.children:h)?W:[W],e,r,n,i,s,o,a,c,l),d.base=e.__e,e.__h=null,d.__h.length&&o.push(d),T&&(d.__E=d.__=null)}catch(X){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),se.__e(X,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=AS(r.__e,e,r,n,i,s,o,c,l);(h=se.diffed)&&h(e)}function gp(t,e,r){for(var n=0;n<r.length;n++)mu(r[n],r[++n],r[++n]);se.__c&&se.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){se.__e(s,i.__v)}})}function AS(t,e,r,n,i,s,o,a,c){var l,h,d,b=r.props,v=e.props,w=e.type,C=0;if(w==="svg"&&(i=!0),s!=null){for(;C<s.length;C++)if((l=s[C])&&"setAttribute"in l==!!w&&(w?l.localName===w:l.nodeType===3)){t=l,s[C]=null;break}}if(t==null){if(w===null)return document.createTextNode(v);t=i?document.createElementNS("http://www.w3.org/2000/svg",w):document.createElement(w,v.is&&v),s=null,a=!1}if(w===null)b===v||a&&t.data===v||(t.data=v);else{if(s=s&&Mi.call(t.childNodes),h=(b=r.props||dn).dangerouslySetInnerHTML,d=v.dangerouslySetInnerHTML,!a){if(s!=null)for(b={},C=0;C<t.attributes.length;C++)b[t.attributes[C].name]=t.attributes[C].value;(d||h)&&(d&&(h&&d.__html==h.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(RS(t,v,b,i,a),d)e.__k=[];else if(hp(t,Xs(C=e.props.children)?C:[C],e,r,n,i&&w!=="foreignObject",s,o,s?s[0]:r.__k&&ci(r,0),a,c),s!=null)for(C=s.length;C--;)s[C]!=null&&lp(s[C]);a||("value"in v&&(C=v.value)!==void 0&&(C!==t.value||w==="progress"&&!C||w==="option"&&C!==b.value)&&bs(t,"value",C,b.value,!1),"checked"in v&&(C=v.checked)!==void 0&&C!==t.checked&&bs(t,"checked",C,b.checked,!1))}return t}function mu(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){se.__e(n,r)}}function mc(t,e,r){var n,i;if(se.unmount&&se.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||mu(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){se.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&mc(n[i],e,r||typeof t.type!="function");r||t.__e==null||lp(t.__e),t.__=t.__e=t.__d=void 0}function TS(t,e,r){return this.constructor(t,r)}function yp(t,e,r){var n,i,s,o;se.__&&se.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],vu(e,t=(!n&&r||e).__k=yc(Ni,null,[t]),i||dn,dn,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Mi.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),gp(s,t,o)}function vp(t,e){yp(t,e,vp)}function kS(t,e,r){var n,i,s,o,a=tr({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Mi.call(arguments,2):r),ti(t.type,a,n||t.key,i||t.ref,null)}function MS(t,e){var r={__c:e="__cC"+cp++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,vc(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Mi=up.slice,se={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},sp=0,op=function(t){return t!=null&&t.constructor===void 0},ri.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=tr({},this.state),typeof t=="function"&&(t=t(tr({},r),this.props)),t&&tr(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),vc(this))},ri.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),vc(this))},ri.prototype.render=Ni,Mr=[],ap=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,gc=function(t,e){return t.__v.__b-e.__v.__b},ps.__r=0,cp=0;const NS=Object.freeze(Object.defineProperty({__proto__:null,Component:ri,Fragment:Ni,cloneElement:kS,createContext:MS,createElement:yc,createRef:CS,h:yc,hydrate:vp,get isValidElement(){return op},get options(){return se},render:yp,toChildArray:pp},Symbol.toStringTag,{value:"Module"})),dt=Wr(NS);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _c=function(t,e){return _c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_c(t,e)};function L(t,e){_c(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Sn(t){return typeof t=="function"}var $f=!1,yt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}$f=t},get useDeprecatedSynchronousErrorHandling(){return $f}};function on(t){setTimeout(function(){throw t},0)}var gs={closed:!0,next:function(t){},error:function(t){if(yt.useDeprecatedSynchronousErrorHandling)throw t;on(t)},complete:function(){}},st=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function _u(t){return t!==null&&typeof t=="object"}var OS=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),ni=OS,Oe=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(Sn(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(d){e=d instanceof ni?Df(d.errors):[d]}}if(st(o))for(var a=-1,l=o.length;++a<l;){var h=o[a];if(_u(h))try{h.unsubscribe()}catch(b){e=e||[],b instanceof ni?e=e.concat(Df(b.errors)):e.push(b)}}if(e)throw new ni(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Df(t){return t.reduce(function(e,r){return e.concat(r instanceof ni?r.errors:r)},[])}var ys=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ee=function(t){L(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=gs;break;case 1:if(!r){s.destination=gs;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Ff(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Ff(s,r,n,i);break}return s}return e.prototype[ys]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Oe),Ff=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return Sn(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==gs&&(c=Object.create(n),Sn(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!yt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=yt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):on(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;on(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!yt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),yt.useDeprecatedSynchronousErrorHandling)throw i;on(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!yt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return yt.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(on(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(ee);function wu(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof ee?t=n:t=null}return!0}function LS(t,e,r){if(t){if(t instanceof ee)return t;if(t[ys])return t[ys]()}return!t&&!e&&!r?new ee(gs):new ee(t,e,r)}var Fn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function mr(t){return t}function wc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return mp(t)}function mp(t){return t.length===0?mr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var fe=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=LS(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||yt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),yt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){yt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),wu(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=jf(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Fn]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:mp(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=jf(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function jf(t){if(t||(t=yt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var BS=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),pr=BS,_p=function(t){L(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Oe),wp=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(ee),Ge=function(t){L(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[ys]=function(){return new wp(this)},e.prototype.lift=function(r){var n=new Uf(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new pr;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new pr;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new pr;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new pr;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new pr;return this.hasError?(r.error(this.thrownError),Oe.EMPTY):this.isStopped?(r.complete(),Oe.EMPTY):(this.observers.push(r),new _p(this,r))},e.prototype.asObservable=function(){var r=new fe;return r.source=this,r},e.create=function(r,n){return new Uf(r,n)},e}(fe),Uf=function(t){L(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Oe.EMPTY},e}(Ge);function Eu(){return function(e){return e.lift(new PS(e))}}var PS=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new $S(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),$S=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(ee),Ep=function(t){L(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Oe,r.add(this.source.subscribe(new FS(this.getSubject(),this))),r.closed&&(this._connection=null,r=Oe.EMPTY)),r},e.prototype.refCount=function(){return Eu()(this)},e}(fe),DS=function(){var t=Ep.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),FS=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(wp);function jS(t,e,r,n){return function(i){return i.lift(new US(t,e,r,n))}}var US=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new WS(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),WS=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(l){this.error(l)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new Ge,i.set(n,s);var a=new Ec(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Ec(n,s))}catch(l){this.error(l);return}this.add(c.subscribe(new HS(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(ee),HS=function(t){L(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(ee),Ec=function(t){L(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Oe,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new VS(s)),n.add(o.subscribe(r)),n},e}(fe),VS=function(t){L(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Oe),Sp=function(t){L(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new pr;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Ge),zS=function(t){L(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Oe),Oi=function(t){L(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(zS),qS=function(t){L(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Oi),Sc=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Li=function(t){L(e,t);function e(r,n){n===void 0&&(n=Sc.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Sc),GS=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Li),xp=new GS(qS),Cp=xp,xn=new fe(function(t){return t.complete()});function jn(t){return t?JS(t):xn}function JS(t){return new fe(function(e){return t.schedule(function(){return e.complete()})})}function ht(t){return t&&typeof t.schedule=="function"}var Ip=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Su(t,e){return new fe(function(r){var n=new Oe,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Bi(t,e){return e?Su(t,e):new fe(Ip(t))}function eo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return ht(r)?(t.pop(),Su(t,r)):Bi(t)}function xu(t,e){return e?new fe(function(r){return e.schedule(QS,0,{error:t,subscriber:r})}):new fe(function(r){return r.error(t)})}function QS(t){var e=t.error,r=t.subscriber;r.error(e)}var xc;xc||(xc={});var rr=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return eo(this.value);case"E":return xu(this.error);case"C":return jn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function ZS(t,e){return e===void 0&&(e=0),function(n){return n.lift(new YS(t,e))}}var YS=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Rp(e,this.scheduler,this.delay))},t}(),Rp=function(t){L(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new KS(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(rr.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(rr.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(rr.createComplete()),this.unsubscribe()},e}(ee),KS=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Cu=function(t){L(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new XS(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new pr;if(this.isStopped||this.hasError?a=Oe.EMPTY:(this.observers.push(r),a=new _p(this,r)),s&&r.add(r=new Rp(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||Cp).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(Ge),XS=function(){function t(e,r){this.time=e,this.value=r}return t}(),Un=function(t){L(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Oe.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Oe.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Ge),e3=1,t3=function(){return Promise.resolve()}(),Cc={};function Wf(t){return t in Cc?(delete Cc[t],!0):!1}var Hf={setImmediate:function(t){var e=e3++;return Cc[e]=!0,t3.then(function(){return Wf(e)&&t()}),e},clearImmediate:function(t){Wf(t)}},r3=function(t){L(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Hf.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Hf.clearImmediate(n),r.scheduled=void 0)},e}(Oi),n3=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Li),Ap=new n3(r3),ns=Ap,Tp=new Li(Oi),ot=Tp,i3=function(t){L(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Oi),s3=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Li),kp=new s3(i3),o3=kp,a3=function(t){L(e,t);function e(r,n){r===void 0&&(r=Mp),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Li),Mp=function(t){L(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Oi);function Ut(){}function c3(t){return!!t&&(t instanceof fe||typeof t.lift=="function"&&typeof t.subscribe=="function")}var u3=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Cn=u3,l3=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Pi=l3,f3=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Np=f3;function St(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new h3(t,e))}}var h3=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new d3(e,this.project,this.thisArg))},t}(),d3=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ee);function Op(t,e,r){if(e)if(ht(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Op(t,r).apply(void 0,n).pipe(St(function(s){return st(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new fe(function(c){if(r){var h={args:n,subscriber:c,params:a};return r.schedule(p3,0,h)}else{if(!o){o=new Un;var l=function(){for(var d=[],b=0;b<arguments.length;b++)d[b]=arguments[b];o.next(d.length<=1?d[0]:d),o.complete()};try{t.apply(s,n.concat([l]))}catch(d){wu(o)?o.error(d):console.warn(d)}}return o.subscribe(c)}})}}function p3(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Un;var l=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var b=h.length<=1?h[0]:h;e.add(a.schedule(b3,0,{value:b,subject:c}))};try{s.apply(o,r.concat([l]))}catch(h){c.error(h)}}this.add(c.subscribe(n))}function b3(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Lp(t,e,r){if(e)if(ht(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Lp(t,r).apply(void 0,n).pipe(St(function(s){return st(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new fe(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(g3,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Un;var l=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var b=h.shift();if(b){c.error(b);return}c.next(h.length<=1?h[0]:h),c.complete()};try{t.apply(a,n.concat([l]))}catch(h){wu(c)?c.error(h):console.warn(h)}}return c.subscribe(o)})}}function g3(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Un;var l=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var b=h.shift();if(b)e.add(a.schedule(Vf,0,{err:b,subject:c}));else{var v=h.length<=1?h[0]:h;e.add(a.schedule(y3,0,{value:v,subject:c}))}};try{s.apply(i,o.concat([l]))}catch(h){this.add(a.schedule(Vf,0,{err:h,subject:c}))}}this.add(c.subscribe(n))}function y3(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Vf(t){var e=t.err,r=t.subject;r.error(e)}var Qr=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(ee),v3=function(t){L(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(ee),m3=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,on),e}};function _3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _r=_3(),w3=function(t){return function(e){var r=t[_r]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},E3=function(t){return function(e){var r=t[Fn]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Bp=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Pp(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var ui=function(t){if(t&&typeof t[Fn]=="function")return E3(t);if(Bp(t))return Ip(t);if(Pp(t))return m3(t);if(t&&typeof t[_r]=="function")return w3(t);var e=_u(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function ir(t,e,r,n,i){if(i===void 0&&(i=new v3(t,r,n)),!i.closed)return e instanceof fe?e.subscribe(i):ui(e)(i)}var zf={};function S3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return ht(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&st(t[0])&&(t=t[0]),Bi(t,n).lift(new Iu(r))}var Iu=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new x3(e,this.resultSelector))},t}(),x3=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(zf),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(ir(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===zf?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Qr);function C3(t,e){return new fe(function(r){var n=new Oe;return n.add(e.schedule(function(){var i=t[Fn]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function I3(t,e){return new fe(function(r){var n=new Oe;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function R3(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(function(r){var n=new Oe,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[_r](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function A3(t){return t&&typeof t[Fn]=="function"}function T3(t){return t&&typeof t[_r]=="function"}function $p(t,e){if(t!=null){if(A3(t))return C3(t,e);if(Pp(t))return I3(t,e);if(Bp(t))return Su(t,e);if(T3(t)||typeof t=="string")return R3(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function or(t,e){return e?$p(t,e):t instanceof fe?t:new fe(ui(t))}var Le=function(t){L(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(ee),Be=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(ee);function Pe(t,e){if(!e.closed){if(t instanceof fe)return t.subscribe(e);var r;try{r=ui(t)(e)}catch(n){e.error(n)}return r}}function jr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(jr(function(i,s){return or(t(i,s)).pipe(St(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new k3(t,r))})}var k3=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new M3(e,this.project,this.concurrent))},t}(),M3=function(t){L(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Le(this),i=this.destination;i.add(n);var s=Pe(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Be),N3=jr;function Ru(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),jr(mr,t)}function Dp(){return Ru(1)}function li(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Dp()(eo.apply(void 0,t))}function Au(t){return new fe(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?or(r):jn();return n.subscribe(e)})}function O3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(st(r))return Zi(r,null);if(_u(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Zi(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&st(t[0])?t[0]:t,Zi(t,null).pipe(St(function(s){return i.apply(void 0,s)}))}return Zi(t,null)}function Zi(t,e){return new fe(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(l){var h=or(t[l]),d=!1;r.add(h.subscribe({next:function(b){d||(d=!0,o++),i[l]=b},error:function(b){return r.error(b)},complete:function(){s++,(s===n||!d)&&(o===n&&r.next(e?e.reduce(function(b,v,w){return b[v]=i[w],b},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function Fp(t,e,r,n){return Sn(r)&&(n=r,r=void 0),n?Fp(t,e,r).pipe(St(function(i){return st(i)?n.apply(void 0,i):n(i)})):new fe(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}jp(t,e,s,i,r)})}function jp(t,e,r,n,i){var s;if(P3(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(B3(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(L3(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var l=0,h=t.length;l<h;l++)jp(t[l],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function L3(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function B3(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function P3(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Up(t,e,r){return r?Up(t,e).pipe(St(function(n){return st(n)?r.apply(void 0,n):r(n)})):new fe(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(Sn(e))return function(){return e(i,s)}})}function $3(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||mr,i=a.scheduler}else n===void 0||ht(n)?(o=t,s=mr,i=n):(o=t,s=n);return new fe(function(c){var l=o;if(i)return i.schedule(D3,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:l});do{if(e){var h=void 0;try{h=e(l)}catch(b){c.error(b);return}if(!h){c.complete();break}}var d=void 0;try{d=s(l)}catch(b){c.error(b);return}if(c.next(d),c.closed)break;try{l=r(l)}catch(b){c.error(b);return}}while(!0)})}function D3(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function F3(t,e,r){return e===void 0&&(e=xn),r===void 0&&(r=xn),Au(function(){return t()?e:r})}function In(t){return!st(t)&&t-parseFloat(t)+1>=0}function j3(t,e){return t===void 0&&(t=0),e===void 0&&(e=ot),(!In(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=ot),new fe(function(r){return r.add(e.schedule(U3,t,{subscriber:r,counter:0,period:t})),r})}function U3(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Wp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return ht(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof fe?t[0]:Ru(r)(Bi(t,n))}var Hp=new fe(Ut);function W3(){return Hp}function Ic(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return xn;var r=t[0],n=t.slice(1);return t.length===1&&st(r)?Ic.apply(void 0,r):new fe(function(i){var s=function(){return i.add(Ic.apply(void 0,n).subscribe(i))};return or(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function H3(t,e){return e?new fe(function(r){var n=Object.keys(t),i=new Oe;return i.add(e.schedule(V3,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new fe(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function V3(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Vp(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function wr(t,e){return function(n){return n.lift(new z3(t,e))}}var z3=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new q3(e,this.predicate,this.thisArg))},t}(),q3=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(ee);function G3(t,e,r){return[wr(e,r)(new fe(ui(t))),wr(Vp(e,r))(new fe(ui(t)))]}function zp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(st(t[0]))t=t[0];else return t[0];return Bi(t,void 0).lift(new J3)}var J3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Q3(e))},t}(),Q3=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=ir(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Qr);function Z3(t,e,r){return t===void 0&&(t=0),new fe(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(Y3,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function Y3(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function qp(t,e,r){t===void 0&&(t=0);var n=-1;return In(e)?n=Number(e)<1&&1||Number(e):ht(e)&&(r=e),ht(r)||(r=ot),new fe(function(i){var s=In(t)?t:+t-r.now();return r.schedule(K3,s,{index:0,period:n,subscriber:i})})}function K3(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function X3(t,e){return new fe(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?or(i):xn,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function Gp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Bi(t,void 0).lift(new Jp(r))}var Jp=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new e4(e,this.resultSelector))},t}(),e4=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;st(r)?n.push(new r4(r)):typeof r[_r]=="function"?n.push(new t4(r[_r]())):n.push(new n4(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],l=o.next();if(o.hasCompleted()&&(a=!0),l.done){i.complete();return}c.push(l.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(ee),t4=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),r4=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[_r]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),n4=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[_r]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return Pe(this.observable,new Le(this))},e}(Be);const i4=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:Cn,AsyncSubject:Un,BehaviorSubject:Sp,ConnectableObservable:Ep,EMPTY:xn,EmptyError:Pi,GroupedObservable:Ec,NEVER:Hp,Notification:rr,get NotificationKind(){return xc},ObjectUnsubscribedError:pr,Observable:fe,ReplaySubject:Cu,Scheduler:Sc,Subject:Ge,Subscriber:ee,Subscription:Oe,TimeoutError:Np,UnsubscriptionError:ni,VirtualAction:Mp,VirtualTimeScheduler:a3,animationFrame:o3,animationFrameScheduler:kp,asap:ns,asapScheduler:Ap,async:ot,asyncScheduler:Tp,bindCallback:Op,bindNodeCallback:Lp,combineLatest:S3,concat:li,config:yt,defer:Au,empty:jn,forkJoin:O3,from:or,fromEvent:Fp,fromEventPattern:Up,generate:$3,identity:mr,iif:F3,interval:j3,isObservable:c3,merge:Wp,never:W3,noop:Ut,observable:Fn,of:eo,onErrorResumeNext:Ic,pairs:H3,partition:G3,pipe:wc,queue:Cp,queueScheduler:xp,race:zp,range:Z3,scheduled:$p,throwError:xu,timer:qp,using:X3,zip:Gp},Symbol.toStringTag,{value:"Module"})),to=Wr(i4);var ro={};function Qp(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Qp(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function qf(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Qp(t))&&(n&&(n+=" "),n+=e);return n}const s4=Object.freeze(Object.defineProperty({__proto__:null,clsx:qf,default:qf},Symbol.toStringTag,{value:"Module"})),no=Wr(s4);var sr,Ie,Ga,Gf,Rn=0,Zp=[],is=[],Jf=se.__b,Qf=se.__r,Zf=se.diffed,Yf=se.__c,Kf=se.unmount;function Zr(t,e){se.__h&&se.__h(Ie,t,Rn||e),Rn=0;var r=Ie.__H||(Ie.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:is}),r.__[t]}function Yp(t){return Rn=1,Kp(e0,t)}function Kp(t,e,r){var n=Zr(sr++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):e0(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],l=n.t(c,a);c!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=Ie,!Ie.u)){var i=function(a,c,l){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(b){return b.__c});if(h.every(function(b){return!b.__N}))return!s||s.call(this,a,c,l);var d=!1;return h.forEach(function(b){if(b.__N){var v=b.__[0];b.__=b.__N,b.__N=void 0,v!==b.__[0]&&(d=!0)}}),!(!d&&n.__c.props===a)&&(!s||s.call(this,a,c,l))};Ie.u=!0;var s=Ie.shouldComponentUpdate,o=Ie.componentWillUpdate;Ie.componentWillUpdate=function(a,c,l){if(this.__e){var h=s;s=void 0,i(a,c,l),s=h}o&&o.call(this,a,c,l)},Ie.shouldComponentUpdate=i}return n.__N||n.__}function o4(t,e){var r=Zr(sr++,3);!se.__s&&ku(r.__H,e)&&(r.__=t,r.i=e,Ie.__H.__h.push(r))}function Xp(t,e){var r=Zr(sr++,4);!se.__s&&ku(r.__H,e)&&(r.__=t,r.i=e,Ie.__h.push(r))}function a4(t){return Rn=5,Tu(function(){return{current:t}},[])}function c4(t,e,r){Rn=6,Xp(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Tu(t,e){var r=Zr(sr++,7);return ku(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function u4(t,e){return Rn=8,Tu(function(){return t},e)}function l4(t){var e=Ie.context[t.__c],r=Zr(sr++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Ie)),e.props.value):t.__}function f4(t,e){se.useDebugValue&&se.useDebugValue(e?e(t):t)}function h4(t){var e=Zr(sr++,10),r=Yp();return e.__=t,Ie.componentDidCatch||(Ie.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function d4(){var t=Zr(sr++,11);if(!t.__){for(var e=Ie.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function p4(){for(var t;t=Zp.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ss),t.__H.__h.forEach(Rc),t.__H.__h=[]}catch(e){t.__H.__h=[],se.__e(e,t.__v)}}se.__b=function(t){Ie=null,Jf&&Jf(t)},se.__r=function(t){Qf&&Qf(t),sr=0;var e=(Ie=t.__c).__H;e&&(Ga===Ie?(e.__h=[],Ie.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=is,r.__N=r.i=void 0})):(e.__h.forEach(ss),e.__h.forEach(Rc),e.__h=[],sr=0)),Ga=Ie},se.diffed=function(t){Zf&&Zf(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Zp.push(e)!==1&&Gf===se.requestAnimationFrame||((Gf=se.requestAnimationFrame)||b4)(p4)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==is&&(r.__=r.__V),r.i=void 0,r.__V=is})),Ga=Ie=null},se.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ss),r.__h=r.__h.filter(function(n){return!n.__||Rc(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],se.__e(n,r.__v)}}),Yf&&Yf(t,e)},se.unmount=function(t){Kf&&Kf(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ss(n)}catch(i){e=i}}),r.__H=void 0,e&&se.__e(e,r.__v))};var Xf=typeof requestAnimationFrame=="function";function b4(t){var e,r=function(){clearTimeout(n),Xf&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Xf&&(e=requestAnimationFrame(r))}function ss(t){var e=Ie,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Ie=e}function Rc(t){var e=Ie;t.__c=t.__(),Ie=e}function ku(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function e0(t,e){return typeof e=="function"?e(t):e}const g4=Object.freeze(Object.defineProperty({__proto__:null,useCallback:u4,useContext:l4,useDebugValue:f4,useEffect:o4,useErrorBoundary:h4,useId:d4,useImperativeHandle:c4,useLayoutEffect:Xp,useMemo:Tu,useReducer:Kp,useRef:a4,useState:Yp},Symbol.toStringTag,{value:"Module"})),$i=Wr(g4);var qt={},io={};Object.defineProperty(io,"__esModule",{value:!0});io.CloseIcon=void 0;const eh=dt;function y4(t){return(0,eh.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,eh.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}io.CloseIcon=y4;var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var so={};Object.defineProperty(so,"__esModule",{value:!0});so.QRCodeIcon=void 0;const Dt=dt;function v4(t){return(0,Dt.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Dt.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,Dt.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,Dt.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,Dt.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,Dt.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,Dt.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,Dt.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,Dt.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,Dt.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}so.QRCodeIcon=v4;var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});const m4=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Ou.default=m4;var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});Lu.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.StatusDotIcon=void 0;const th=dt;function _4(t){return(0,th.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,th.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}oo.StatusDotIcon=_4;var ao={};function t0(t){this.mode=lt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}t0.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Gt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Gt.prototype={addData:function(t){var e=new t0(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Gt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Me.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,l=this.modules[s][a];l&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Me.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Me.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Me.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var l=Me.getMask(e,n,o-a);l&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Gt.PAD0=236;Gt.PAD1=17;Gt.createData=function(t,e,r){for(var n=Ht.getRSBlocks(t,e),i=new r0,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Me.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Gt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Gt.PAD1,8);return Gt.createBytes(i,n)};Gt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,l=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,l),s[a]=new Array(c);for(var h=0;h<s[a].length;h++)s[a][h]=255&t.buffer[h+r];r+=c;var d=Me.getErrorCorrectPolynomial(l),b=new pn(s[a],d.getLength()-1),v=b.mod(d);o[a]=new Array(d.getLength()-1);for(var h=0;h<o[a].length;h++){var w=h+v.getLength()-o[a].length;o[a][h]=w>=0?v.get(w):0}}for(var C=0,h=0;h<e.length;h++)C+=e[h].totalCount;for(var T=new Array(C),g=0,h=0;h<n;h++)for(var a=0;a<e.length;a++)h<s[a].length&&(T[g++]=s[a][h]);for(var h=0;h<i;h++)for(var a=0;a<e.length;a++)h<o[a].length&&(T[g++]=o[a][h]);return T};var lt={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},gr={L:1,M:0,Q:3,H:2},ur={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Me={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;Me.getBCHDigit(e)-Me.getBCHDigit(Me.G15)>=0;)e^=Me.G15<<Me.getBCHDigit(e)-Me.getBCHDigit(Me.G15);return(t<<10|e)^Me.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Me.getBCHDigit(e)-Me.getBCHDigit(Me.G18)>=0;)e^=Me.G18<<Me.getBCHDigit(e)-Me.getBCHDigit(Me.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Me.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case ur.PATTERN000:return(e+r)%2==0;case ur.PATTERN001:return e%2==0;case ur.PATTERN010:return r%3==0;case ur.PATTERN011:return(e+r)%3==0;case ur.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case ur.PATTERN101:return e*r%2+e*r%3==0;case ur.PATTERN110:return(e*r%2+e*r%3)%2==0;case ur.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new pn([1],0),r=0;r<t;r++)e=e.multiply(new pn([1,qe.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case lt.MODE_NUMBER:return 10;case lt.MODE_ALPHA_NUM:return 9;case lt.MODE_8BIT_BYTE:return 8;case lt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case lt.MODE_NUMBER:return 12;case lt.MODE_ALPHA_NUM:return 11;case lt.MODE_8BIT_BYTE:return 16;case lt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case lt.MODE_NUMBER:return 14;case lt.MODE_ALPHA_NUM:return 13;case lt.MODE_8BIT_BYTE:return 16;case lt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var h=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&h++;var d=Math.abs(100*h/e/e-50)/5;return r+=d*10,r}},qe={glog:function(t){if(t<1)throw new Error("glog("+t+")");return qe.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return qe.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Qe=0;Qe<8;Qe++)qe.EXP_TABLE[Qe]=1<<Qe;for(var Qe=8;Qe<256;Qe++)qe.EXP_TABLE[Qe]=qe.EXP_TABLE[Qe-4]^qe.EXP_TABLE[Qe-5]^qe.EXP_TABLE[Qe-6]^qe.EXP_TABLE[Qe-8];for(var Qe=0;Qe<255;Qe++)qe.LOG_TABLE[qe.EXP_TABLE[Qe]]=Qe;function pn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}pn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=qe.gexp(qe.glog(this.get(r))+qe.glog(t.get(n)));return new pn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=qe.glog(this.get(0))-qe.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=qe.gexp(qe.glog(t.get(n))+e);return new pn(r,0).mod(t)}};function Ht(t,e){this.totalCount=t,this.dataCount=e}Ht.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Ht.getRSBlocks=function(t,e){var r=Ht.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],l=0;l<o;l++)i.push(new Ht(a,c));return i};Ht.getRsBlockTable=function(t,e){switch(e){case gr.L:return Ht.RS_BLOCK_TABLE[(t-1)*4+0];case gr.M:return Ht.RS_BLOCK_TABLE[(t-1)*4+1];case gr.Q:return Ht.RS_BLOCK_TABLE[(t-1)*4+2];case gr.H:return Ht.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function r0(){this.buffer=[],this.length=0}r0.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ja=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function n0(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return gr.L;case"M":return gr.M;case"Q":return gr.Q;case"H":return gr.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,l){for(var h=i(c),d=1,b=0,v=0,w=Ja.length;v<=w;v++){var C=Ja[v];if(!C)throw new Error("Content too long: expected "+b+" but got "+h);switch(l){case"L":b=C[0];break;case"M":b=C[1];break;case"Q":b=C[2];break;case"H":b=C[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(h<=b)break;d++}if(d>Ja.length)throw new Error("Content too long");return d}function i(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Gt(o,a),this.qrcode.addData(s),this.qrcode.make()}n0.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,l=o/(c+2*e.padding),h=a/(c+2*e.padding),d=typeof e.join<"u"?!!e.join:!1,b=typeof e.swap<"u"?!!e.swap:!1,v=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,w=typeof e.predefined<"u"?!!e.predefined:!1,C=w?i+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",T=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,g="",E="",x=0;x<c;x++)for(var M=0;M<c;M++){var I=r[M][x];if(I){var B=M*l+e.padding*l,z=x*h+e.padding*h;if(b){var W=B;B=z,z=W}if(d){var D=l+B,X=h+z;B=Number.isInteger(B)?Number(B):B.toFixed(2),z=Number.isInteger(z)?Number(z):z.toFixed(2),D=Number.isInteger(D)?Number(D):D.toFixed(2),X=Number.isInteger(X)?Number(X):X.toFixed(2),E+="M"+B+","+z+" V"+X+" H"+D+" V"+z+" H"+B+" Z "}else w?g+=i+'<use x="'+B.toString()+'" y="'+z.toString()+'" href="#qrmodule" />'+s:g+=i+'<rect x="'+B.toString()+'" y="'+z.toString()+'" width="'+l+'" height="'+h+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}d&&(g=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+E+'" />');let be="";if(this.options.image!==void 0&&this.options.image.svg){const P=o*this.options.image.width/100,$=a*this.options.image.height/100,U=o/2-P/2,H=a/2-$/2;be+=`<svg x="${U}" y="${H}" width="${P}" height="${$}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,be+=this.options.image.svg+s,be+="</svg>"}var ne="";switch(t.container){case"svg":v&&(ne+='<?xml version="1.0" standalone="yes"?>'+s),ne+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,ne+=C+T+g,ne+=be,ne+="</svg>";break;case"svg-viewbox":v&&(ne+='<?xml version="1.0" standalone="yes"?>'+s),ne+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,ne+=C+T+g,ne+=be,ne+="</svg>";break;case"g":ne+='<g width="'+o+'" height="'+a+'">'+s,ne+=C+T+g,ne+=be,ne+="</g>";break;default:ne+=(C+T+g+be).replace(/^\s+/,"");break}return ne};var w4=n0,E4=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ao,"__esModule",{value:!0});ao.QRCode=void 0;const S4=dt,rh=$i,x4=E4(w4),C4=t=>{const[e,r]=(0,rh.useState)("");return(0,rh.useEffect)(()=>{var n,i;const s=new x4.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=V.Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,S4.h)("img",{src:e,alt:"QR Code"}):null};ao.QRCode=C4;var co={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var I4=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(co,"__esModule",{value:!0});co.Spinner=void 0;const Yi=dt,R4=I4(Bu),A4=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Yi.h)("div",{class:"-cbwsdk-spinner"},(0,Yi.h)("style",null,R4.default),(0,Yi.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Yi.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};co.Spinner=A4;var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Wn=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qt,"__esModule",{value:!0});qt.CoinbaseAppSteps=qt.CoinbaseWalletSteps=qt.ConnectItem=qt.ConnectContent=void 0;const mt=Wn(no),te=dt,nh=$i,T4=Y,k4=Mn,M4=io,N4=Wn(Mu),O4=Wn(Nu),i0=so,L4=Wn(Ou),B4=Wn(Lu),P4=oo,$4=ao,D4=co,F4=Wn(Pu),ih={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:O4.default,steps:o0},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:N4.default,steps:a0}},j4=t=>{switch(t){case"coinbase-app":return L4.default;case"coinbase-wallet-app":default:return B4.default}},Ac=t=>t==="light"?"#FFFFFF":"#0A0B0D";function U4(t){const{theme:e}=t,[r,n]=(0,nh.useState)("coinbase-wallet-app"),i=(0,nh.useCallback)(l=>{n(l)},[]),s=(0,T4.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=ih[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,te.h)("div",{"data-testid":"connect-content",class:(0,mt.default)("-cbwsdk-connect-content",e)},(0,te.h)("style",null,F4.default),(0,te.h)("div",{class:"-cbwsdk-connect-content-header"},(0,te.h)("h2",{class:(0,mt.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,te.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,te.h)(M4.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,te.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,te.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,te.h)("div",null,Object.entries(ih).map(([l,h])=>(0,te.h)(s0,{key:l,title:h.title,description:h.description,icon:h.icon,selected:r===l,onClick:()=>i(l),theme:e}))),c&&(0,te.h)("div",{class:(0,mt.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,te.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,te.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,te.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,te.h)($4.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:j4(r),width:25,height:25}}),(0,te.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:k4.LIB_VERSION}),(0,te.h)("input",{type:"hidden",value:s})),(0,te.h)(a,{theme:e}),!t.isConnected&&(0,te.h)("div",{"data-testid":"connecting-spinner",class:(0,mt.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,te.h)(D4.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,te.h)("p",null,"Connecting...")))))}qt.ConnectContent=U4;function s0({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,te.h)("div",{onClick:s,class:(0,mt.default)("-cbwsdk-connect-item",i,{selected:n})},(0,te.h)("div",null,(0,te.h)("img",{src:r,alt:t})),(0,te.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,te.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,te.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}qt.ConnectItem=s0;function o0({theme:t}){return(0,te.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,te.h)("li",{class:(0,mt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,te.h)("li",{class:(0,mt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,te.h)("span",null,"Tap ",(0,te.h)("strong",null,"Scan")," "),(0,te.h)("span",{class:(0,mt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(i0.QRCodeIcon,{fill:Ac(t)})))))}qt.CoinbaseWalletSteps=o0;function a0({theme:t}){return(0,te.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,te.h)("li",{class:(0,mt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,te.h)("li",{class:(0,mt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,te.h)("span",null,"Tap ",(0,te.h)("strong",null,"More")),(0,te.h)("span",{class:(0,mt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(P4.StatusDotIcon,{fill:Ac(t)})),(0,te.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,te.h)("strong",null,"Scan")),(0,te.h)("span",{class:(0,mt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(i0.QRCodeIcon,{fill:Ac(t)})))))}qt.CoinbaseAppSteps=a0;var uo={},lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.ArrowLeftIcon=void 0;const sh=dt;function W4(t){return(0,sh.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,sh.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}lo.ArrowLeftIcon=W4;var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.LaptopIcon=void 0;const Qa=dt;function H4(t){return(0,Qa.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Qa.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Qa.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}fo.LaptopIcon=H4;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.SafeIcon=void 0;const oh=dt;function V4(t){return(0,oh.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,oh.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}ho.SafeIcon=V4;var $u={};Object.defineProperty($u,"__esModule",{value:!0});$u.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var c0=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uo,"__esModule",{value:!0});uo.TryExtensionContent=void 0;const xr=c0(no),De=dt,Za=$i,z4=lo,q4=fo,G4=ho,J4=c0($u);function Q4({theme:t}){const[e,r]=(0,Za.useState)(!1),n=(0,Za.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Za.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,De.h)("div",{class:(0,xr.default)("-cbwsdk-try-extension",t)},(0,De.h)("style",null,J4.default),(0,De.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,De.h)("h3",{class:(0,xr.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,De.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,De.h)("button",{class:(0,xr.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,De.h)("div",null,!e&&(0,De.h)(z4.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,De.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,De.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,De.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,De.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,De.h)("span",{class:(0,xr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,De.h)(q4.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,De.h)("div",{class:(0,xr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,De.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,De.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,De.h)("span",{class:(0,xr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,De.h)(G4.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,De.h)("div",{class:(0,xr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}uo.TryExtensionContent=Q4;var Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var u0=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ro,"__esModule",{value:!0});ro.ConnectDialog=void 0;const Ya=u0(no),Cr=dt,Ka=$i,Z4=qt,Y4=uo,K4=u0(Du),X4=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Ka.useState)(!e),[s,o]=(0,Ka.useState)(!e);(0,Ka.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,Cr.h)("div",{class:(0,Ya.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Cr.h)("style",null,K4.default),(0,Cr.h)("div",{class:(0,Ya.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Cr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Cr.h)("div",{class:(0,Ya.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Cr.h)(Z4.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Cr.h)(Y4.TryExtensionContent,{theme:a}))))};ro.ConnectDialog=X4;Object.defineProperty(Ks,"__esModule",{value:!0});Ks.LinkFlow=void 0;const Xa=dt,ah=to,ex=ro;class tx{constructor(e){this.extensionUI$=new ah.BehaviorSubject({}),this.subscriptions=new ah.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,Xa.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,Xa.render)((0,Xa.h)(ex.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Ks.LinkFlow=tx;var l0={},Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=Q&&Q.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(no),n=dt,i=$i,s=e(Fu),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(d){switch(d){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(b){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=b.darkMode}attach(b){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",b.appendChild(this.root),this.render()}presentItem(b){const v=this.nextItemKey++;return this.items.set(v,b),this.render(),()=>{this.items.delete(v),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([b,v])=>(0,n.h)(t.SnackbarInstance,Object.assign({},v,{key:b}))))),this.root)}}t.Snackbar=c;const l=d=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},d.children));t.SnackbarContainer=l;const h=({autoExpand:d,message:b,menuItems:v,appSrc:w})=>{const[C,T]=(0,i.useState)(!0),[g,E]=(0,i.useState)(d??!1);(0,i.useEffect)(()=>{const M=[window.setTimeout(()=>{T(!1)},1),window.setTimeout(()=>{E(!0)},1e4)];return()=>{M.forEach(window.clearTimeout)}});const x=()=>{E(!g)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",C&&"-cbwsdk-snackbar-instance-hidden",g&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:x},(0,n.h)("img",{src:a(w),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},b),(0,n.h)("div",{class:"-gear-container"},!g&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),v&&v.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},v.map((M,I)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:M.onClick,key:I},(0,n.h)("svg",{width:M.svgWidth,height:M.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":M.defaultFillRule,"clip-rule":M.defaultClipRule,d:M.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},M.info)))))};t.SnackbarInstance=h})(l0);var po={},ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var rx=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(po,"__esModule",{value:!0});po.injectCssReset=void 0;const nx=rx(ju);function ix(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(nx.default)),document.documentElement.appendChild(t)}po.injectCssReset=ix;Object.defineProperty(Ys,"__esModule",{value:!0});Ys.WalletSDKUI=void 0;const sx=Ks,ox=l0,ax=po;class cx{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new ox.Snackbar({darkMode:e.darkMode}),this.linkFlow=new sx.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,ax.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Ys.WalletSDKUI=cx;var bo={},go={};Object.defineProperty(go,"__esModule",{value:!0});var an;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(an||(an={}));function f0(t,e,r){if(!r||typeof r.value!==an.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:an.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:an.boolTrue,writable:an.boolTrue}),n}}}go.bind=f0;go.default=f0;function h0(t){return function(r){return r.lift(new ux(t))}}var ux=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new lx(e,this.durationSelector))},t}(),lx=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=Pe(n,new Le(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Be);function fx(t,e){return e===void 0&&(e=ot),h0(function(){return qp(t,e)})}function hx(t){return function(r){return r.lift(new dx(t))}}var dx=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new px(e,this.closingNotifier))},t}(),px=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(Pe(n,new Le(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(Be);function bx(t,e){return e===void 0&&(e=null),function(n){return n.lift(new gx(t,e))}}var gx=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=yx:this.subscriberClass=vx}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),yx=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(ee),vx=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var l=o[c];l.push(r),l.length===i&&(o.splice(c,1),this.destination.next(l))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(ee);function mx(t){var e=arguments.length,r=ot;ht(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new _x(t,n,i,r))}}var _x=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Ex(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),wx=function(){function t(){this.buffer=[]}return t}(),Ex=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(ch,n,l))}else{var h={subscriber:a,context:c},d={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(d0,n,h)),a.add(o.schedule(Sx,i,d))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(ch,i,s))}},e.prototype.openContext=function(){var r=new wx;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(ee);function ch(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Sx(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(d0,r,{subscriber:n,context:s})),o.schedule(t,e))}function d0(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function xx(t,e){return function(n){return n.lift(new Cx(t,e))}}var Cx=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Ix(e,this.openings,this.closingSelector))},t}(),Ix=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(ir(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Oe,o={buffer:i,subscription:s};n.push(o);var a=ir(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Qr);function Rx(t){return function(e){return e.lift(new Ax(t))}}var Ax=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Tx(e,this.closingSelector))},t}(),Tx=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Oe,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(Pe(i,new Le(this))),this.subscribing=!1},e}(Be);function kx(t){return function(r){var n=new Mx(t),i=r.lift(n);return n.caught=i}}var Mx=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new Nx(e,this.selector,this.caught))},t}(),Nx=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new Le(this);this.add(i);var s=Pe(n,i);s!==i&&this.add(s)}},e}(Be);function Ox(t){return function(e){return e.lift(new Iu(t))}}function Lx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&st(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(or([n].concat(t)),new Iu(r))}}function Bx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(li.apply(void 0,[r].concat(t)))}}function p0(t,e){return jr(t,e,1)}function Px(t,e){return p0(function(){return t},e)}function $x(t){return function(e){return e.lift(new Dx(t,e))}}var Dx=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Fx(e,this.predicate,this.source))},t}(),Fx=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(ee);function jx(t){return function(e){return e.lift(new Ux(t))}}var Ux=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Wx(e,this.durationSelector))},t}(),Wx=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Pe(n,new Le(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(Be);function Hx(t,e){return e===void 0&&(e=ot),function(r){return r.lift(new Vx(t,e))}}var Vx=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new zx(e,this.dueTime,this.scheduler))},t}(),zx=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(qx,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(ee);function qx(t){t.debouncedNext()}function Di(t){return t===void 0&&(t=null),function(e){return e.lift(new Gx(t))}}var Gx=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new Jx(e,this.defaultValue))},t}(),Jx=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(ee);function b0(t){return t instanceof Date&&!isNaN(+t)}function Qx(t,e){e===void 0&&(e=ot);var r=b0(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new Zx(n,e))}}var Zx=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Yx(e,this.delay,this.scheduler))},t}(),Yx=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new Kx(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(rr.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(rr.createComplete()),this.unsubscribe()},e}(ee),Kx=function(){function t(e,r){this.time=e,this.notification=r}return t}();function Xx(t,e){return e?function(r){return new t5(r,e).lift(new uh(t))}:function(r){return r.lift(new uh(t))}}var uh=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new e5(e,this.delayDurationSelector))},t}(),e5=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=ir(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Qr),t5=function(t){L(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new r5(r,this.source))},e}(fe),r5=function(t){L(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(ee);function n5(){return function(e){return e.lift(new i5)}}var i5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new s5(e))},t}(),s5=function(t){L(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(ee);function o5(t,e){return function(r){return r.lift(new a5(t,e))}}var a5=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new c5(e,this.keySelector,this.flushes))},t}(),c5=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(Pe(i,new Le(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(Be);function g0(t,e){return function(r){return r.lift(new u5(t,e))}}var u5=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new l5(e,this.compare,this.keySelector))},t}(),l5=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(ee);function f5(t,e){return g0(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function yo(t){return t===void 0&&(t=p5),function(e){return e.lift(new h5(t))}}var h5=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new d5(e,this.errorFactory))},t}(),d5=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(ee);function p5(){return new Pi}function Uu(t){return function(e){return t===0?jn():e.lift(new b5(t))}}var b5=function(){function t(e){if(this.total=e,this.total<0)throw new Cn}return t.prototype.call=function(e,r){return r.subscribe(new g5(e,this.total))},t}(),g5=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(ee);function y5(t,e){if(t<0)throw new Cn;var r=arguments.length>=2;return function(n){return n.pipe(wr(function(i,s){return s===t}),Uu(1),r?Di(e):yo(function(){return new Cn}))}}function v5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return li(r,eo.apply(void 0,t))}}function m5(t,e){return function(r){return r.lift(new _5(t,e,r))}}var _5=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new w5(e,this.predicate,this.thisArg,this.source))},t}(),w5=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ee);function E5(){return function(t){return t.lift(new S5)}}var S5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new x5(e))},t}(),x5=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(Pe(r,new Le(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Be);function y0(t,e){return e?function(r){return r.pipe(y0(function(n,i){return or(t(n,i)).pipe(St(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new C5(t))}}var C5=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new I5(e,this.project))},t}(),I5=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Le(this),i=this.destination;i.add(n);var s=Pe(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(Be);function R5(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new A5(t,e,r))}}var A5=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new T5(e,this.project,this.concurrent,this.scheduler))},t}(),T5=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(l){n.error(l)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(Pe(r,new Le(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(Be);function k5(t){return function(e){return e.lift(new M5(t))}}var M5=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new N5(e,this.callback))},t}(),N5=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Oe(n)),i}return e}(ee);function O5(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new v0(t,r,!1,e))}}var v0=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new L5(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),L5=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(ee);function B5(t,e){return function(r){return r.lift(new v0(t,r,!0,e))}}function P5(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?wr(function(i,s){return t(i,s,n)}):mr,Uu(1),r?Di(e):yo(function(){return new Pi}))}}function $5(){return function(e){return e.lift(new D5)}}var D5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new F5(e))},t}(),F5=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(ee);function j5(){return function(t){return t.lift(new U5)}}var U5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new W5(e))},t}(),W5=function(t){L(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(ee);function vs(t){return function(r){return t===0?jn():r.lift(new H5(t))}}var H5=function(){function t(e){if(this.total=e,this.total<0)throw new Cn}return t.prototype.call=function(e,r){return r.subscribe(new V5(e,this.total))},t}(),V5=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(ee);function z5(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?wr(function(i,s){return t(i,s,n)}):mr,vs(1),r?Di(e):yo(function(){return new Pi}))}}function q5(t){return function(e){return e.lift(new G5(t))}}var G5=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new J5(e,this.value))},t}(),J5=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(ee);function Q5(){return function(e){return e.lift(new Z5)}}var Z5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Y5(e))},t}(),Y5=function(t){L(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(rr.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(rr.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(rr.createComplete()),r.complete()},e}(ee);function ms(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new K5(t,e,r))}}var K5=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new X5(e,this.accumulator,this.seed,this.hasSeed))},t}(),X5=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(ee);function vo(t,e){return arguments.length>=2?function(n){return wc(ms(t,e),vs(1),Di(e))(n)}:function(n){return wc(ms(function(i,s,o){return t(i,s,o+1)}),vs(1))(n)}}function eC(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return vo(e)}function tC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Wp.apply(void 0,[r].concat(t)))}}function rC(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?jr(function(){return t},e,r):(typeof e=="number"&&(r=e),jr(function(){return t},r))}function nC(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new iC(t,e,r))}}var iC=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new sC(e,this.accumulator,this.seed,this.concurrent))},t}(),sC=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new Le(this),i=this.destination;i.add(n);var s=Pe(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(Be);function oC(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return vo(e)}function Ur(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new aC(i,e));var s=Object.create(n,DS);return s.source=n,s.subjectFactory=i,s}}var aC=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function cC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&st(t[0])&&(t=t[0]),function(r){return r.lift(new uC(t))}}var uC=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new lC(e,this.nextSources))},t}(),lC=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Le(this),i=this.destination;i.add(n);var s=Pe(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(Be);function fC(){return function(t){return t.lift(new hC)}}var hC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new dC(e))},t}(),dC=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(ee);function pC(t,e){return function(r){return[wr(t,e)(r),wr(Vp(t,e))(r)]}}function bC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return St(gC(t,r))(n)}}function gC(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function yC(t){return t?Ur(function(){return new Ge},t):Ur(new Ge)}function vC(t){return function(e){return Ur(new Sp(t))(e)}}function mC(){return function(t){return Ur(new Un)(t)}}function _C(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Cu(t,e,n);return function(o){return Ur(function(){return s},i)(o)}}function wC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&st(t[0])&&(t=t[0]),n.lift.call(zp.apply(void 0,[n].concat(t)))}}function EC(t){return t===void 0&&(t=-1),function(e){return t===0?jn():t<0?e.lift(new lh(-1,e)):e.lift(new lh(t-1,e))}}var lh=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new SC(e,this.count,this.source))},t}(),SC=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(ee);function xC(t){return function(e){return e.lift(new CC(t))}}var CC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new IC(e,this.notifier,r))},t}(),IC=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Ge;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=Pe(r,new Le(this))},e}(Be);function RC(t){return t===void 0&&(t=-1),function(e){return e.lift(new AC(t,e))}}var AC=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new TC(e,this.count,this.source))},t}(),TC=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(ee);function kC(t){return function(e){return e.lift(new MC(t,e))}}var MC=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new NC(e,this.notifier,this.source))},t}(),NC=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Ge;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=Pe(i,new Le(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(Be);function OC(t){return function(e){return e.lift(new LC(t))}}var LC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new BC(e),i=r.subscribe(n);return i.add(Pe(this.notifier,new Le(n))),i},t}(),BC=function(t){L(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Be);function PC(t,e){return e===void 0&&(e=ot),function(r){return r.lift(new $C(t,e))}}var $C=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new DC(e,this.period,this.scheduler))},t}(),DC=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(FC,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(ee);function FC(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function jC(t,e){return function(r){return r.lift(new UC(t,e))}}var UC=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new WC(e,this.compareTo,this.comparator))},t}(),WC=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new HC(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(l){this.destination.error(l)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(ee),HC=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(ee);function VC(){return new Ge}function zC(){return function(t){return Eu()(Ur(VC)(t))}}function qC(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(GC(n))}}function GC(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,l,h=!1,d=!1;return function(v){c++;var w;!a||h?(h=!1,a=new Cu(r,i,o),w=a.subscribe(this),l=v.subscribe({next:function(C){a.next(C)},error:function(C){h=!0,a.error(C)},complete:function(){d=!0,l=void 0,a.complete()}}),d&&(l=void 0)):w=a.subscribe(this),this.add(function(){c--,w.unsubscribe(),w=void 0,l&&!d&&s&&c===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function JC(t){return function(e){return e.lift(new QC(t,e))}}var QC=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ZC(e,this.predicate,this.source))},t}(),ZC=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Pi)},e}(ee);function YC(t){return function(e){return e.lift(new KC(t))}}var KC=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new XC(e,this.total))},t}(),XC=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(ee);function eI(t){return function(e){return e.lift(new tI(t))}}var tI=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Cn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new ee(e)):r.subscribe(new rI(e,this._skipCount))},t}(),rI=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(ee);function nI(t){return function(e){return e.lift(new iI(t))}}var iI=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new sI(e,this.notifier))},t}(),sI=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new Le(i);i.add(s),i.innerSubscription=s;var o=Pe(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(Be);function oI(t){return function(e){return e.lift(new aI(t))}}var aI=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new cI(e,this.predicate))},t}(),cI=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(ee);function uI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return ht(r)?(t.pop(),function(n){return li(t,n,r)}):function(n){return li(t,n)}}var lI=function(t){L(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=ns);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!In(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=ns),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=ns),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(fe);function fI(t,e){return e===void 0&&(e=0),function(n){return n.lift(new hI(t,e))}}var hI=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new lI(r,this.delay,this.scheduler).subscribe(e)},t}();function fi(t,e){return typeof e=="function"?function(r){return r.pipe(fi(function(n,i){return or(t(n,i)).pipe(St(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new dI(t))}}var dI=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new pI(e,this.project))},t}(),pI=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Le(this),s=this.destination;s.add(i),this.innerSubscription=Pe(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(Be);function bI(){return fi(mr)}function gI(t,e){return e?fi(function(){return t},e):fi(function(){return t})}function yI(t){return function(e){return e.lift(new vI(t))}}var vI=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new mI(e),i=Pe(this.notifier,new Le(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),mI=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Be);function _I(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new wI(t,e))}}var wI=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new EI(e,this.predicate,this.inclusive))},t}(),EI=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(ee);function SI(t,e,r){return function(i){return i.lift(new xI(t,e,r))}}var xI=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new CI(e,this.nextOrObserver,this.error,this.complete))},t}(),CI=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=Ut,o._tapError=Ut,o._tapComplete=Ut,o._tapError=i||Ut,o._tapComplete=s||Ut,Sn(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Ut,o._tapError=n.error||Ut,o._tapComplete=n.complete||Ut),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(ee),m0={leading:!0,trailing:!1};function II(t,e){return e===void 0&&(e=m0),function(r){return r.lift(new RI(t,!!e.leading,!!e.trailing))}}var RI=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new AI(e,this.durationSelector,this.leading,this.trailing))},t}(),AI=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=Pe(n,new Le(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(Be);function TI(t,e,r){return e===void 0&&(e=ot),r===void 0&&(r=m0),function(n){return n.lift(new kI(t,e,r.leading,r.trailing))}}var kI=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new MI(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),MI=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(NI,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(ee);function NI(t){var e=t.subscriber;e.clearThrottle()}function OI(t){return t===void 0&&(t=ot),function(e){return Au(function(){return e.pipe(ms(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),St(function(r){var n=r.current,i=r.last,s=r.value;return new LI(s,n-i)}))})}}var LI=function(){function t(e,r){this.value=e,this.interval=r}return t}();function _0(t,e,r){return r===void 0&&(r=ot),function(n){var i=b0(t),s=i?+t-r.now():Math.abs(t);return n.lift(new BI(s,i,e,r))}}var BI=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new PI(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),PI=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(Pe(n,new Le(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(Be);function $I(t,e){return e===void 0&&(e=ot),_0(t,xu(new Np),e)}function DI(t){return t===void 0&&(t=ot),St(function(e){return new FI(e,t.now())})}var FI=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function jI(t,e,r){return r===0?[e]:(t.push(e),t)}function UI(){return vo(jI,[])}function WI(t){return function(r){return r.lift(new HI(t))}}var HI=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new VI(e),i=r.subscribe(n);return i.closed||n.add(Pe(this.windowBoundaries,new Le(n))),i},t}(),VI=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Ge,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Ge;n.next(i)},e}(Be);function zI(t,e){return e===void 0&&(e=0),function(n){return n.lift(new qI(t,e))}}var qI=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new GI(e,this.windowSize,this.startWindowEvery))},t}(),GI=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new Ge],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var l=this.count-s+1;if(l>=0&&l%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var h=new Ge;o.push(h),i.next(h)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(ee);function JI(t){var e=ot,r=null,n=Number.POSITIVE_INFINITY;return ht(arguments[3])&&(e=arguments[3]),ht(arguments[2])?e=arguments[2]:In(arguments[2])&&(n=Number(arguments[2])),ht(arguments[1])?e=arguments[1]:In(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new QI(t,r,n,e))}}var QI=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new YI(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),ZI=function(t){L(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Ge),YI=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:c,context:null},h={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(w0,n,l)),a.add(o.schedule(XI,i,h))}else{var d={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(KI,n,d))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new ZI;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(ee);function KI(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function XI(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(w0,e,c),o.add(a.subscription),o.schedule(t,i)}function w0(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function eR(t,e){return function(r){return r.lift(new tR(t,e))}}var tR=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new rR(e,this.openings,this.closingSelector))},t}(),rR=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=ir(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(v){return this.error(v)}var l=new Ge,h=new Oe,d={window:l,subscription:h};this.contexts.push(d);var b=ir(this,a,d);b.closed?this.closeWindow(this.contexts.length-1):(b.context=d,h.add(b)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Qr);function nR(t){return function(r){return r.lift(new iR(t))}}var iR=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new sR(e,this.closingSelector))},t}(),sR=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Ge;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=ir(this,s))},e}(Qr);function oR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new aR(i,n))}}var aR=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new cR(e,this.observables,this.project))},t}(),cR=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(ir(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Qr);function uR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Gp.apply(void 0,[n].concat(t)))}}function lR(t){return function(e){return e.lift(new Jp(t))}}const fR=Object.freeze(Object.defineProperty({__proto__:null,audit:h0,auditTime:fx,buffer:hx,bufferCount:bx,bufferTime:mx,bufferToggle:xx,bufferWhen:Rx,catchError:kx,combineAll:Ox,combineLatest:Lx,concat:Bx,concatAll:Dp,concatMap:p0,concatMapTo:Px,count:$x,debounce:jx,debounceTime:Hx,defaultIfEmpty:Di,delay:Qx,delayWhen:Xx,dematerialize:n5,distinct:o5,distinctUntilChanged:g0,distinctUntilKeyChanged:f5,elementAt:y5,endWith:v5,every:m5,exhaust:E5,exhaustMap:y0,expand:R5,filter:wr,finalize:k5,find:O5,findIndex:B5,first:P5,flatMap:N3,groupBy:jS,ignoreElements:$5,isEmpty:j5,last:z5,map:St,mapTo:q5,materialize:Q5,max:eC,merge:tC,mergeAll:Ru,mergeMap:jr,mergeMapTo:rC,mergeScan:nC,min:oC,multicast:Ur,observeOn:ZS,onErrorResumeNext:cC,pairwise:fC,partition:pC,pluck:bC,publish:yC,publishBehavior:vC,publishLast:mC,publishReplay:_C,race:wC,reduce:vo,refCount:Eu,repeat:EC,repeatWhen:xC,retry:RC,retryWhen:kC,sample:OC,sampleTime:PC,scan:ms,sequenceEqual:jC,share:zC,shareReplay:qC,single:JC,skip:YC,skipLast:eI,skipUntil:nI,skipWhile:oI,startWith:uI,subscribeOn:fI,switchAll:bI,switchMap:fi,switchMapTo:gI,take:Uu,takeLast:vs,takeUntil:yI,takeWhile:_I,tap:SI,throttle:II,throttleTime:TI,throwIfEmpty:yo,timeInterval:OI,timeout:$I,timeoutWith:_0,timestamp:DI,toArray:UI,window:WI,windowCount:zI,windowTime:JI,windowToggle:eR,windowWhen:nR,withLatestFrom:oR,zip:uR,zipAll:lR},Symbol.toStringTag,{value:"Module"})),Wu=Wr(fR);var mo={},vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.ClientMessagePublishEvent=vt.ClientMessageSetSessionConfig=vt.ClientMessageGetSessionConfig=vt.ClientMessageIsLinked=vt.ClientMessageHostSession=void 0;function hR(t){return Object.assign({type:"HostSession"},t)}vt.ClientMessageHostSession=hR;function dR(t){return Object.assign({type:"IsLinked"},t)}vt.ClientMessageIsLinked=dR;function pR(t){return Object.assign({type:"GetSessionConfig"},t)}vt.ClientMessageGetSessionConfig=pR;function bR(t){return Object.assign({type:"SetSessionConfig"},t)}vt.ClientMessageSetSessionConfig=bR;function gR(t){return Object.assign({type:"PublishEvent"},t)}vt.ClientMessagePublishEvent=gR;var E0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=to,r=Wu;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(E0);var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.isServerMessageFail=void 0;function yR(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}_o.isServerMessageFail=yR;Object.defineProperty(mo,"__esModule",{value:!0});mo.WalletSDKConnection=void 0;const It=to,pe=Wu,Gn=Nn,tn=mi,Jn=vt,Qn=kn,Ki=E0,ec=_o,fh=1e4,vR=6e4;class mR{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new It.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,tn.IntNumber)(1),this.connectedSubject=new It.BehaviorSubject(!1),this.linkedSubject=new It.BehaviorSubject(!1),this.sessionConfigSubject=new It.ReplaySubject(1);const o=new Ki.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,pe.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Qn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Gn.Session.hash(e)})}),(0,pe.skip)(1),(0,pe.filter)(a=>a===Ki.ConnectionState.DISCONNECTED&&!this.destroyed),(0,pe.delay)(5e3),(0,pe.filter)(a=>!this.destroyed),(0,pe.flatMap)(a=>o.connect()),(0,pe.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,pe.skip)(2),(0,pe.switchMap)(a=>(0,It.iif)(()=>a===Ki.ConnectionState.CONNECTED,this.authenticate().pipe((0,pe.tap)(c=>this.sendIsLinked()),(0,pe.tap)(c=>this.sendGetSessionConfig()),(0,pe.map)(c=>!0)),(0,It.of)(!1))),(0,pe.distinctUntilChanged)(),(0,pe.catchError)(a=>(0,It.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,pe.skip)(1),(0,pe.switchMap)(a=>(0,It.iif)(()=>a===Ki.ConnectionState.CONNECTED,(0,It.timer)(0,fh)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,pe.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,pe.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Qn.EVENTS.LINKED,{sessionIdHash:Gn.Session.hash(e),linked:l.linked,type:a.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,pe.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Qn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Gn.Session.hash(e),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Qn.EVENTS.STARTED_CONNECTING,{sessionIdHash:Gn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Qn.EVENTS.DISCONNECTED,{sessionIdHash:Gn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,pe.filter)(e=>e),(0,pe.take)(1),(0,pe.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,pe.filter)(e=>e),(0,pe.take)(1),(0,pe.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,pe.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,pe.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Jn.ClientMessageSetSessionConfig)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,pe.flatMap)(i=>this.makeRequest(n)),(0,pe.map)(i=>{if((0,ec.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Jn.ClientMessagePublishEvent)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,pe.flatMap)(s=>this.makeRequest(i)),(0,pe.map)(s=>{if((0,ec.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>fh*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=vR){const n=e.id;try{this.sendData(e)}catch(i){return(0,It.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,pe.timeoutWith)(r,(0,It.throwError)(new Error(`request ${n} timed out`))),(0,pe.filter)(i=>i.id===n),(0,pe.take)(1))}authenticate(){const e=(0,Jn.ClientMessageHostSession)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,pe.map)(r=>{if((0,ec.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Jn.ClientMessageIsLinked)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Jn.ClientMessageGetSessionConfig)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}mo.WalletSDKConnection=mR;var An={};Object.defineProperty(An,"__esModule",{value:!0});An.decrypt=An.encrypt=void 0;const _s=Y;async function _R(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,_s.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),l=new Uint8Array(a),h=new Uint8Array(c),d=new Uint8Array([...r,...l,...h]);return(0,_s.uint8ArrayToHex)(d)}An.encrypt=_R;function wR(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,_s.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,_s.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),l=new Uint8Array([...c,...a]),h={name:"AES-GCM",iv:new Uint8Array(o)};try{const d=await window.crypto.subtle.decrypt(h,i,l),b=new TextDecoder;r(b.decode(d))}catch(d){n(d)}})()})}An.decrypt=wR;var wo={},Eo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Eo);Object.defineProperty(wo,"__esModule",{value:!0});wo.Web3RequestCanceledMessage=void 0;const ER=Eo;function SR(t){return{type:ER.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}wo.Web3RequestCanceledMessage=SR;var So={};Object.defineProperty(So,"__esModule",{value:!0});So.Web3RequestMessage=void 0;const xR=Eo;function CR(t){return Object.assign({type:xR.RelayMessageType.WEB3_REQUEST},t)}So.Web3RequestMessage=CR;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.isWeb3ResponseMessage=Tn.Web3ResponseMessage=void 0;const S0=Eo;function IR(t){return Object.assign({type:S0.RelayMessageType.WEB3_RESPONSE},t)}Tn.Web3ResponseMessage=IR;function RR(t){return t&&t.type===S0.RelayMessageType.WEB3_RESPONSE}Tn.isWeb3ResponseMessage=RR;var AR=Q&&Q.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TR=Q&&Q.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),x0=Q&&Q.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},kR=Q&&Q.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AR(e,t,r);return TR(e,t),e},MR=Q&&Q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bo,"__esModule",{value:!0});bo.WalletSDKRelay=void 0;const C0=MR(go),Ir=to,Fe=Wu,Xe=kn,NR=mo,rn=hi,OR=mi,ke=Y,lr=kR(An),fr=Nn,Xi=kt,Je=Is,LR=wo,BR=So,gt=Te,ct=Tn;class Tt extends Xi.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Ir.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Ir.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=fr.Session.load(this.storage)||new fr.Session(this.storage).save(),r=new NR.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Xe.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Fe.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Fe.skip)(1),(0,Fe.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Xi.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Xe.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Fe.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Xe.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Fe.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Fe.mergeMap)(i=>lr.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Xi.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Xe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Fe.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Fe.mergeMap)(i=>lr.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Xi.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Xe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Fe.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Fe.mergeMap)(i=>(0,Ir.zip)(lr.decrypt(i.metadata.ChainId,e.secret),lr.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Fe.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Xe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Fe.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Fe.mergeMap)(i=>lr.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Tt.accountRequestCallbackIds.size>0&&(Array.from(Tt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,ct.Web3ResponseMessage)({id:s,response:(0,gt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Tt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Xe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Fe.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Fe.mergeMap)(i=>lr.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Xe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Fe.timeout)(1e3),(0,Fe.catchError)(e=>(0,Ir.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Xe.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Xe.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=fr.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Xe.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:fr.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new Ir.Subscription;const{session:a,ui:c,connection:l}=this.subscribe();this._session=a,this.connection=l,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Xe.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Je.Web3Method.signEthereumMessage,params:{message:(0,ke.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Je.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,ke.hexStringFromBuffer)(e,!0),signature:(0,ke.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Je.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ke.bigIntStringFromBN)(e.weiValue),data:(0,ke.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ke.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,ke.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,ke.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,ke.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Je.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,ke.bigIntStringFromBN)(e.weiValue),data:(0,ke.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,ke.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,ke.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,ke.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,ke.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Je.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,ke.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Je.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,ke.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Je.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,ke.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,BR.Web3RequestMessage)({id:e,request:r}),s=fr.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Xe.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?fr.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Xe.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?fr.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,LR.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Ir.Observable(s=>{lr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Fe.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,Ir.from)(lr.decrypt(e.data,this.session.secret)).pipe((0,Fe.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,ct.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Xe.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Xe.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,gt.isRequestEthereumAccountsResponse)(n)){Tt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Tt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,rn.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Je.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,ke.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return o(new Error(l.errorMessage));s(l)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let l;try{(0,ke.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=h=>{this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:r,response:(0,gt.RequestEthereumAccountsResponse)(h)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=rn.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}Tt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Je.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,ke.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,h=>{if(h.errorMessage)return a(new Error(h.errorMessage));o(h)});const c=h=>{this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:n,response:(0,gt.SelectProviderResponse)(OR.ProviderType.Unselected)}))},l=h=>{this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:n,response:(0,gt.SelectProviderResponse)(h)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Je.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const l=(0,ke.randomBytesHex)(8),h=b=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,b),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}));const d=new Promise((b,v)=>{this.relayEventManager.callbacks.set(l,T=>{if(c==null||c(),T.errorMessage)return v(new Error(T.errorMessage));b(T)});const w=T=>{this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:l,response:(0,gt.WatchAssetReponse)(!1)}))},C=()=>{this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:l,response:(0,gt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:C,onCancel:w,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:h,promise:d}}addEthereumChain(e,r,n,i,s,o){const a={method:Je.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const l=(0,ke.randomBytesHex)(8),h=b=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,b),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload})),{promise:new Promise((b,v)=>{this.relayEventManager.callbacks.set(l,T=>{if(c==null||c(),T.errorMessage)return v(new Error(T.errorMessage));b(T)});const w=T=>{this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:l,response:(0,gt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},C=T=>{this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:l,response:(0,gt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:T})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:w,onApprove:C,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:h}}switchEthereumChain(e,r){const n={method:Je.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,ke.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,d=>{if((0,gt.isErrorResponse)(d)&&d.errorCode)return c(rn.standardErrors.provider.custom({code:d.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(d.errorMessage)return c(new Error(d.errorMessage));a(d)});const l=d=>{var b;if(d){const v=(b=(0,rn.getErrorCode)(d))!==null&&b!==void 0?b:rn.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,Je.Web3Method.switchEthereumChain,d instanceof Error?d:rn.standardErrors.provider.unsupportedChain(e),v)}else this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:i,response:(0,gt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},h=d=>{this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:i,response:(0,gt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:d})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:h,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return fr.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,ct.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Je.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Je.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Je.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Je.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Tt.accountRequestCallbackIds=new Set;x0([C0.default],Tt.prototype,"resetAndReload",null);x0([C0.default],Tt.prototype,"handleIncomingEvent",null);bo.WalletSDKRelay=Tt;var xo={};Object.defineProperty(xo,"__esModule",{value:!0});xo.WalletSDKRelayEventManager=void 0;const PR=Y;class $R{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,PR.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}xo.WalletSDKRelayEventManager=$R;Object.defineProperty(ii,"__esModule",{value:!0});ii.CoinbaseWalletSDK=void 0;const DR=Es,FR=Ss,jR=xs,UR=bn,WR=Ys,HR=bo,VR=xo,zR=Y,I0=Mn;class Co{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||FR.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=l=>new WR.WalletSDKUI(l),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new jR.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Co.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new VR.WalletSDKRelayEventManager,this._relay=new HR.WalletSDKRelay({linkAPIUrl:s,version:I0.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new UR.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,zR.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,DR.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}ii.CoinbaseWalletSDK=Co;Co.VERSION=I0.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=ii,r=bn;var n=ii;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=bn;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Mc);const qR=R0(Mc),i8=M0({__proto__:null,default:qR},[Mc]);export{i8 as i};
